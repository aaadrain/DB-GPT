{
  "db_name": "hr_chinese_fk",
  "user_input": "哪个部门的人迟到时间最长？",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:人员工号,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,出勤工时,异常类型,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,组织单位,三级员工周六（打卡时数）,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域"
  ],
  "extend_info": [
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'shortname': 'LA', 'fullname': 'Legal Affairs', 'chinesename': '法务部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：哪个部门的部门负责人在岗时间最长？\n\tsql1：SELECT 一级机构名称, 部门负责人, MIN(入职日期) AS 最早入职日期 FROM a_sap_employee_information_chinese WHERE 部门负责人 IS NOT NULL GROUP BY 一级机构名称, 部门负责人 ORDER BY 最早入职日期 ASC LIMIT 1\n\n\t用户输入2：公司员工中，哪位的在职时间最长？\n\tsql2：SELECT 人员工号, 姓名, 入职日期 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' ORDER BY 入职日期 ASC LIMIT 1\n\n\t用户输入3：哪位员工在公司呆的时间最久?\n\tsql3：SELECT 人员工号, 姓名, 入职日期 FROM a_sap_employee_information_chinese ORDER BY 入职日期 ASC LIMIT 1\n\n\t用户输入4：哪个部门下员工最多?\n\tsql4：SELECT 一级机构名称, COUNT(*) AS 员工数量 FROM a_sap_employee_information_chinese GROUP BY 一级机构名称 ORDER BY 员工数量 DESC LIMIT 1\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：哪位在职员工的直属下属数量最多？\n\tsql6：SELECT 主管1姓名, COUNT(*) AS 下属数量 FROM a_sap_reporting_relationship_chinese WHERE (结束日期 IS NULL OR 结束日期 > CURRENT_DATE) and 主管1姓名 is not null GROUP BY 主管1姓名 ORDER BY 下属数量 DESC LIMIT 1\n\n",
  "thoughts": "由于表结构中没有直接提供部门信息，但是有提供组织单位这个字段，我假设这个字段对应员工所属的部门。我需要对每个部门的员工迟到分钟数进行求和，然后排序找出迟到时间最长的部门。",
  "sql": "SELECT 组织单位, SUM(迟到分钟数) AS 总迟到分钟数 FROM a_sap_employee_attendance_details_ai GROUP BY 组织单位 ORDER BY 总迟到分钟数 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;组织单位&quot;: null, &quot;总迟到分钟数&quot;: 0 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "哪个一级机构的人迟到时间最长？",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:人员工号,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,出勤工时,异常类型,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,组织单位,三级员工周六（打卡时数）,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'QA', 'shortname': 'RSE', 'fullname': 'Reliability  Safety Engineering', 'chinesename': '安全可靠性工程部'}",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-M&E', 'fullname': 'Environment,Health and Safety  Site Management(M&E)','chinesename': '湖东现场管理组'}",
    "{'parent_org': 'SD', 'shortname': 'EHS-ND', 'fullname': 'Environment,Health and Safety Management(ND)', 'chinesename': 'EHS-ND管理组'}",
    "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：哪个一级机构下的在职员工人数最多？\n\tsql1：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入2：哪个部门的部门负责人在岗时间最长？\n\tsql2：SELECT 一级机构名称, 部门负责人, MIN(入职日期) AS 最早入职日期 FROM a_sap_employee_information_chinese WHERE 部门负责人 IS NOT NULL GROUP BY 一级机构名称, 部门负责人 ORDER BY 最早入职日期 ASC LIMIT 1\n\n\t用户输入3：公司员工中，哪位的在职时间最长？\n\tsql3：SELECT 人员工号, 姓名, 入职日期 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' ORDER BY 入职日期 ASC LIMIT 1\n\n\t用户输入4：哪位员工在公司呆的时间最久?\n\tsql4：SELECT 人员工号, 姓名, 入职日期 FROM a_sap_employee_information_chinese ORDER BY 入职日期 ASC LIMIT 1\n\n\t用户输入5：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql5：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入6：哪位在职员工的直属下属数量最多？\n\tsql6：SELECT 主管1姓名, COUNT(*) AS 下属数量 FROM a_sap_reporting_relationship_chinese WHERE (结束日期 IS NULL OR 结束日期 > CURRENT_DATE) and 主管1姓名 is not null GROUP BY 主管1姓名 ORDER BY 下属数量 DESC LIMIT 1\n\n",
  "thoughts": "为了找出迟到时间最长的一级机构，我们需要从员工考勤表中统计每个一级机构的迟到时间，然后将它们相加并对比得出迟到时间最多的一级机构。我们可以先分组聚合迟到分钟数，之后按照一级机构进行分组，并计算出每个一级机构的总迟到分钟数。最后，我们按照总迟到分钟数降序排列，并选择第一条记录。",
  "sql": "SELECT 组织单位, SUM(迟到分钟数) AS 总迟到分钟数 FROM a_sap_employee_attendance_details_ai GROUP BY 组织单位 ORDER BY 总迟到分钟数 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;组织单位&quot;: null, &quot;总迟到分钟数&quot;: 0 "
}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门的每个小组的迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:姓名,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,人事范围,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'TPM', 'shortname': 'TPM4', 'fullname': 'TPM4', 'chinesename': '项目技术部四组'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：统计当前全部员工的平均入职年限。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql3：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入4：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "thoughts": "由于提供的表结构信息中并没有明确的字段来区分不同的小组，同时也没有提供小组与IDT部门相关联的具体信息。IDT部门可能是一个一级机构，数据表中也未提供与一级机构直接相关联的字段，通常可以使用员工的隶属小组来区分。而且，考勤表是关于员工的考勤信息，包括迟到早退分钟数，可以用来进行迟到早退时间的统计。因此，我们可以使用考勤表中的迟到早退分钟数来求和，按照隶属小组分组，来得到每个小组的迟到早退时间的统计。", "sql": "SELECT 隶属小组, SUM(迟到分钟数) AS 总迟到分钟数, SUM(早退分钟数) AS 总早退分钟数 FROM a_sap_employee_attendance_details_ai GROUP BY 隶属小组 LIMIT 50", "ai_sql_result": "&quot;: [{&quot;隶属小组&quot;: &quot;ACE&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 61, {&quot;隶属小组&quot;: &quot;AD&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 173, {&quot;隶属小组&quot;: &quot;ADT&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 219, {&quot;隶属小组&quot;: &quot;AEI&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;AET&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 188, {&quot;隶属小组&quot;: &quot;AHI&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 7, {&quot;隶属小组&quot;: &quot;AI&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 43, {&quot;隶属小组&quot;: &quot;AIT&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;AMD&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 203, {&quot;隶属小组&quot;: &quot;AME&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 153, {&quot;隶属小组&quot;: &quot;AMO&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 15, {&quot;隶属小组&quot;: &quot;Ampace&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;AN&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 77, {&quot;隶属小组&quot;: &quot;AP1A&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 49, {&quot;隶属小组&quot;: &quot;AP1B&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 76, {&quot;隶属小组&quot;: &quot;AP2&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;AP3&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;AP4&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;APD&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;API&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;AQE&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATG&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATI&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATL&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-EPA&amp;IT&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-FE&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-FNC&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-GMO&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-HR&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-IDT&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-MC&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-ME(Back)&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-ME(Front)&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-PE&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-Planning&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-PRD&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-PRJ&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-QA&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-SRC&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLS-FNC&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;ATR&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 13, {&quot;隶属小组&quot;: &quot;BCM&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;BCU-PRD&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;BE&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;隶属小组&quot;: &quot;BMS-ALG&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 14, {&quot;隶属小组&quot;: &quot;BMS-FW&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 105, {&quot;隶属小组&quot;: &quot;BMS-HW&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 176, {&quot;隶属小组&quot;: &quot;BMST&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 458, {&quot;隶属小组&quot;: &quot;BO&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 27 "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门的每个小组的迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:姓名,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,人事范围,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'TPM', 'shortname': 'TPM4', 'fullname': 'TPM4', 'chinesename': '项目技术部四组'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计当前全部员工的平均入职年限。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql3：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入4：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "thoughts": "由于用户想要获取IDT部门下每个小组的迟到早退时间统计，我们需要聚合查询考勤表中关于IDT部门下的所有小组的迟到早退分钟数。但当前的表结构信息中并没有提供关于员工所属部门的字段，也无法识别哪些小组属于IDT部门，因此无法直接生成SQL查询。需要更多的信息来关联员工与其所属小组和所属部门。", "sql": "", "ai_sql_result": "由于用户想要获取IDT部门下每个小组的迟到早退时间统计，我们需要聚合查询考勤表中关于IDT部门下的所有小组的迟到早退分钟数。但当前的表结构信息中并没有提供关于员工所属部门的字段，也无法识别哪些小组属于IDT部门，因此无法直接生成SQL查询。需要更多的信息来关联员工与其所属小组和所属部门。"}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门的每个小组的迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:姓名,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,人事范围,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'TPM', 'shortname': 'TPM4', 'fullname': 'TPM4', 'chinesename': '项目技术部四组'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：统计当前全部员工的平均入职年限。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql3：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入4：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "thoughts": "由于表结构中没有直接提到部门或小组的字段，我们不能直接使用一级或二级机构来过滤IDT部门。不过，根据背景知识中提到的小组信息和隶属小组的缩写，我们可以假定此信息以某种方式记录在考勤表内，并假设隶属小组的缩写可能与IDT部门相关的小组对应。因此，我将生成一个SQL查询，来汇总每个隶属小组的迟到早退时间。这个查询会假定只要隶属小组字段（隶属小组）的值不为空，它就对应IDT部门的一个小组。", "sql": "SELECT 隶属小组, SUM(迟到早退分钟数) AS 总迟到早退时间 FROM a_sap_employee_attendance_details_ai WHERE 隶属小组 IS NOT NULL GROUP BY 隶属小组 LIMIT 50", "ai_sql_result": "&quot;: [{&quot;隶属小组&quot;: &quot;ACE&quot;, &quot;总迟到早退时间&quot;: 325, {&quot;隶属小组&quot;: &quot;AD&quot;, &quot;总迟到早退时间&quot;: 2916, {&quot;隶属小组&quot;: &quot;ADT&quot;, &quot;总迟到早退时间&quot;: 3751, {&quot;隶属小组&quot;: &quot;AEI&quot;, &quot;总迟到早退时间&quot;: 233, {&quot;隶属小组&quot;: &quot;AET&quot;, &quot;总迟到早退时间&quot;: 1805, {&quot;隶属小组&quot;: &quot;AHI&quot;, &quot;总迟到早退时间&quot;: 416, {&quot;隶属小组&quot;: &quot;AI&quot;, &quot;总迟到早退时间&quot;: 1389, {&quot;隶属小组&quot;: &quot;AIT&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;AMD&quot;, &quot;总迟到早退时间&quot;: 2353, {&quot;隶属小组&quot;: &quot;AME&quot;, &quot;总迟到早退时间&quot;: 1234, {&quot;隶属小组&quot;: &quot;AMO&quot;, &quot;总迟到早退时间&quot;: 142, {&quot;隶属小组&quot;: &quot;Ampace&quot;, &quot;总迟到早退时间&quot;: 607, {&quot;隶属小组&quot;: &quot;AN&quot;, &quot;总迟到早退时间&quot;: 768, {&quot;隶属小组&quot;: &quot;AP1A&quot;, &quot;总迟到早退时间&quot;: 293, {&quot;隶属小组&quot;: &quot;AP1B&quot;, &quot;总迟到早退时间&quot;: 299, {&quot;隶属小组&quot;: &quot;AP2&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;AP3&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;AP4&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;APD&quot;, &quot;总迟到早退时间&quot;: 67, {&quot;隶属小组&quot;: &quot;API&quot;, &quot;总迟到早退时间&quot;: 689, {&quot;隶属小组&quot;: &quot;AQE&quot;, &quot;总迟到早退时间&quot;: 72, {&quot;隶属小组&quot;: &quot;ATG&quot;, &quot;总迟到早退时间&quot;: 7, {&quot;隶属小组&quot;: &quot;ATI&quot;, &quot;总迟到早退时间&quot;: 236, {&quot;隶属小组&quot;: &quot;ATL&quot;, &quot;总迟到早退时间&quot;: 2623, {&quot;隶属小组&quot;: &quot;ATLI&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-EPA&amp;IT&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-FE&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-FNC&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-GMO&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-HR&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-IDT&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-MC&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-ME(Back)&quot;, &quot;总迟到早退时间&quot;: 27, {&quot;隶属小组&quot;: &quot;ATLI-OPS-ME(Front)&quot;, &quot;总迟到早退时间&quot;: 32, {&quot;隶属小组&quot;: &quot;ATLI-OPS-PE&quot;, &quot;总迟到早退时间&quot;: 25, {&quot;隶属小组&quot;: &quot;ATLI-OPS-Planning&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-PRD&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-OPS-PRJ&quot;, &quot;总迟到早退时间&quot;: 2, {&quot;隶属小组&quot;: &quot;ATLI-OPS-QA&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLI-SRC&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATLS-FNC&quot;, &quot;总迟到早退时间&quot;: 0, {&quot;隶属小组&quot;: &quot;ATR&quot;, &quot;总迟到早退时间&quot;: 229, {&quot;隶属小组&quot;: &quot;BCM&quot;, &quot;总迟到早退时间&quot;: 30, {&quot;隶属小组&quot;: &quot;BCU-PRD&quot;, &quot;总迟到早退时间&quot;: 92, {&quot;隶属小组&quot;: &quot;BE&quot;, &quot;总迟到早退时间&quot;: 9, {&quot;隶属小组&quot;: &quot;BMS-ALG&quot;, &quot;总迟到早退时间&quot;: 1479, {&quot;隶属小组&quot;: &quot;BMS-FW&quot;, &quot;总迟到早退时间&quot;: 5668, {&quot;隶属小组&quot;: &quot;BMS-HW&quot;, &quot;总迟到早退时间&quot;: 3487, {&quot;隶属小组&quot;: &quot;BMST&quot;, &quot;总迟到早退时间&quot;: 1550, {&quot;隶属小组&quot;: &quot;BO&quot;, &quot;总迟到早退时间&quot;: 484 "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门的每个小组的迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:姓名,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,人事范围,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'TPM', 'shortname': 'TPM4', 'fullname': 'TPM4', 'chinesename': '项目技术部四组'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计当前全部员工的平均入职年限。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql3：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入4：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "thoughts": "用户想要统计IDT部门每个小组的员工迟到和早退的总时长。由于用户未给出具体某一张表属于IDT部门，且没有提供一个可以直接关联到特定部门和小组的字段，我们可以假定迟到早退时间是在考勤表中有记录的，但我们无法直接通过部门和小组进行查询，因为表中没有包含部门或小组名称的字段。因此，我们可能需要假设员工子组或工作区域字段可以一定程度上反映部门和小组的信息。但这是一个不准确的假设，因为表结构中并没有说明这些字段与部门的直接关系。如果工作区域或职位字段有可能包含与IDT部门相关的信息，我们可以基于这个字段进行查询。如果不能确定这种关联，我们需要更多的信息才能构建SQL查询。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门的每个小组的迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:姓名,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,人事范围,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'TPM', 'shortname': 'TPM4', 'fullname': 'TPM4', 'chinesename': '项目技术部四组'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计当前全部员工的平均入职年限。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql3：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入4：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "thoughts": "由于用户想要统计IDT部门每个小组的迟到早退时间，我们需要从考勤表中获取相关数据。考勤表中有迟到分钟数和早退分钟数两个字段，我们可以通过这两个字段来计算每个小组的迟到早退时间总和。但是，考勤表中没有直接提供小组信息，我们无法直接从提供的表结构中获取IDT部门下每个小组的信息。因此，我们无法生成SQL查询来回答用户的问题。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门的每个二级机构的迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:姓名,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,人事范围,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'TPM', 'shortname': 'TPM2', 'fullname': 'TPM2', 'chinesename': '项目技术部二组'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql3：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入4：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql4：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入5：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql6：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n", "thoughts": "由于用户想要统计IDT部门下每个二级机构的迟到早退时间，我们需要从考勤表中获取相关数据。我们可以通过'隶属小组'字段来识别员工所属的二级机构，并且通过'迟到早退分钟数'字段来统计迟到早退的时间。由于用户没有指定时间范围，我们将统计所有可用数据。我们将使用SUM函数来累计每个二级机构的迟到早退时间，并且按照二级机构分组。", "sql": "SELECT 隶属小组, SUM(迟到早退分钟数) AS 总迟到早退时间 FROM a_sap_employee_attendance_details_ai WHERE 隶属小组 LIKE 'IDT-%' GROUP BY 隶属小组 ORDER BY 隶属小组 LIMIT 50", "ai_sql_result": "&quot;: [{&quot;隶属小组&quot;: &quot;IDT-MO&quot;, &quot;总迟到早退时间&quot;: 498 "}
{"db_name": "hr_chinese_fk", "user_input": "2024年3月份，IDT部门迟到早退的时间总和。", "top_k": "50", "dialect": "postgresql", "table_info": [], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'BP-MU', 'fullname': 'Business Partner-MU', 'chinesename': '制造解决方案部'}", "{'parent_org': 'TPM', 'shortname': 'TPM4', 'fullname': 'TPM4', 'chinesename': '项目技术部四组'}", "{'parent_org': 'SLS', 'shortname': 'AP3', 'fullname': 'Asia Pacific3', 'chinesename': '亚太区3'}"], "display_type": "Table", "qa_samples": "\t用户输入1：对于T128财年，查询在'AD'二级机构中，编制月度为'3'月，员工子组为'技术员'的有效编制空缺数。\n\tsql1：SELECT 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 二级机构 = 'AD' AND 编制月度 = 3 AND 员工子组 = '技术员' LIMIT 50\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：目前2023年3月份，职务为经理级别的员工中，空缺编制数量是多少？\n\tsql5：SELECT SUM(有效编制空缺) AS 空缺编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 in (1,2,3) AND 职级范围 = 'JG11-13'\n\n\t用户输入6：需要生成一份报告，列出所有三级机构，以及每个三级机构下拥有的职务类型总数。\n\tsql6：SELECT 三级机构, COUNT(DISTINCT 职务类型) AS 职务类型总数 FROM a_sap_positions_responsibilities_risks_chinese GROUP BY 三级机构 ORDER BY 三级机构 LIMIT 50;\n\n", "thoughts": "由于没有提供具体的表结构信息，无法直接编写SQL查询。通常，迟到早退的时间记录可能会保存在员工考勤表中，这样的表可能会包含员工ID、迟到时间、早退时间等字段。如果存在这样的表，我们可以通过查询IDT部门的员工在2024年3月份的迟到和早退记录，并对这些时间进行求和来得到总和。但由于缺乏具体的表结构信息，我们无法生成SQL查询。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门的ai小组的迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:姓名,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,人事范围,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】", "Table:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:姓名,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,主管2职位,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,总监2职务,总监2职位,总监2姓名,总监1职务,总监1职位,总监1姓名,经理4职务,经理4职位,经理4姓名,经理3职务,经理3职位,经理3姓名,经理2职务,经理2职位,经理2姓名,经理1职务,经理1职位,经理1姓名,主管2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：统计当前全部员工的平均入职年限。\n\tsql3：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：对于T128财年，查询在'AD'二级机构中，编制月度为'3'月，员工子组为'技术员'的有效编制空缺数。\n\tsql6：SELECT 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 二级机构 = 'AD' AND 编制月度 = 3 AND 员工子组 = '技术员' LIMIT 50\n\n", "thoughts": "首先，我们需要从a_sap_reporting_relationship_chinese表中找到IDT部门下属的ai小组的所有员工的人员工号。然后，我们将使用这些人员工号在a_sap_employee_attendance_details_ai表中查询他们的迟到早退时间统计。我们将使用SUM函数来累加迟到分钟数和早退分钟数。", "sql": "SELECT SUM(a.迟到分钟数) AS 总迟到分钟数, SUM(a.早退分钟数) AS 总早退分钟数 FROM a_sap_employee_attendance_details_ai a INNER JOIN a_sap_reporting_relationship_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构 = 'IDT' AND b.二级机构 = 'AI' GROUP BY b.二级机构 LIMIT 50", "ai_sql_result": "&quot;: [{&quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 125 "}
{"db_name": "hr_chinese_fk", "user_input": "2024年2月28日，IDT部门的哪些人迟到早退了？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:姓名,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,人事范围,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'QE', 'shortname': 'ICT-J&K', 'fullname': 'Japan&Korea', 'chinesename': '日韩组'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql4：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入5：对于T128财年，查询在'AD'二级机构中，编制月度为'3'月，员工子组为'技术员'的有效编制空缺数。\n\tsql5：SELECT 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 二级机构 = 'AD' AND 编制月度 = 3 AND 员工子组 = '技术员' LIMIT 50\n\n\t用户输入6：请找出2022年Q2期间入职，并且是硕士学历的员工名单。\n\tsql6：SELECT 姓名 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士' AND 入职日期 >= '2022-07-01' AND 入职日期 <= '2022-09-30' LIMIT 50\n\n", "thoughts": "由于表结构中没有直接提到部门信息，我们无法直接通过部门名称来过滤数据。但是，我们可以假设'隶属小组'或'工作区域'字段可能包含了部门信息。我们将使用考勤日期来筛选2024年2月28日的数据，并检查迟到早退分钟数字段来确定哪些员工迟到或早退。由于没有具体的部门字段，我们无法确保查询结果仅限于IDT部门的员工。", "sql": "SELECT 姓名, 迟到分钟数, 早退分钟数 FROM a_sap_employee_attendance_details_ai WHERE 考勤日期 = '2024-02-28' AND (迟到分钟数 > 0 OR 早退分钟数 > 0) LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;刘显鸿&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, {&quot;姓名&quot;: &quot;曾世宝&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 6, {&quot;姓名&quot;: &quot;高露海&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, {&quot;姓名&quot;: &quot;岳朝艳&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 9, {&quot;姓名&quot;: &quot;吴玉婵&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 9, {&quot;姓名&quot;: &quot;吴超宇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 23, {&quot;姓名&quot;: &quot;阮丽&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, {&quot;姓名&quot;: &quot;牛志波&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 18, {&quot;姓名&quot;: &quot;黄少军&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 6, {&quot;姓名&quot;: &quot;陈昱成&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, {&quot;姓名&quot;: &quot;陈丹&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, {&quot;姓名&quot;: &quot;陈晓&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 119, {&quot;姓名&quot;: &quot;尚忠琦&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 104, {&quot;姓名&quot;: &quot;朱静&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 5, {&quot;姓名&quot;: &quot;郑燕萍&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, {&quot;姓名&quot;: &quot;李宗辉&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, {&quot;姓名&quot;: &quot;叶雨浩&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, {&quot;姓名&quot;: &quot;武卉卉&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, {&quot;姓名&quot;: &quot;王晶&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, {&quot;姓名&quot;: &quot;袁敏超&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 8, {&quot;姓名&quot;: &quot;匡智崇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2 "}
{"db_name": "hr_chinese_fk", "user_input": "2024年2月28日，IDT部门AI组哪些人迟到早退了？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_ai,table_comment:公司所有员工每天的考勤表Columns:姓名,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,人事范围,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'QE', 'shortname': 'ICT-J&K', 'fullname': 'Japan&Korea', 'chinesename': '日韩组'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：目前AI二级机构下有多少有效编制空缺，以及这些空缺的年度编制数量是多少？\n\tsql4：SELECT SUM(有效编制空缺) AS 总有效编制空缺, SUM(年度编制数量) AS 总年度编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入5：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql5：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "thoughts": "首先，我们需要从考勤表中找到2024年2月28日IDT部门AI组的员工考勤记录。然后，我们需要检查这些记录中迟到分钟数和早退分钟数大于0的记录，这将帮助我们确定哪些员工迟到或早退。由于用户没有提供具体的迟到和早退的定义（例如迟到多少分钟算迟到），我们将简单地查找迟到分钟数和早退分钟数大于0的记录。", "sql": "SELECT 姓名, 迟到分钟数, 早退分钟数 FROM a_sap_employee_attendance_details_ai WHERE 考勤日期 = '2024-02-28' AND 隶属小组 = 'AI' AND (迟到分钟数 > 0 OR 早退分钟数 > 0) AND 人事范围 = 'IDT' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "2024年3月份，IDT部门迟到早退的时间总和。", "top_k": "50", "dialect": "postgresql", "table_info": [], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'BP-MU', 'fullname': 'Business Partner-MU', 'chinesename': '制造解决方案部'}", "{'parent_org': 'TPM', 'shortname': 'TPM4', 'fullname': 'TPM4', 'chinesename': '项目技术部四组'}", "{'parent_org': 'SLS', 'shortname': 'AP3', 'fullname': 'Asia Pacific3', 'chinesename': '亚太区3'}"], "display_type": "Table", "qa_samples": "\t用户输入1：对于T128财年，查询在'AD'二级机构中，编制月度为'3'月，员工子组为'技术员'的有效编制空缺数。\n\tsql1：SELECT 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 二级机构 = 'AD' AND 编制月度 = 3 AND 员工子组 = '技术员' LIMIT 50\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：目前2023年3月份，职务为经理级别的员工中，空缺编制数量是多少？\n\tsql5：SELECT SUM(有效编制空缺) AS 空缺编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 in (1,2,3) AND 职级范围 = 'JG11-13'\n\n\t用户输入6：需要生成一份报告，列出所有三级机构，以及每个三级机构下拥有的职务类型总数。\n\tsql6：SELECT 三级机构, COUNT(DISTINCT 职务类型) AS 职务类型总数 FROM a_sap_positions_responsibilities_risks_chinese GROUP BY 三级机构 ORDER BY 三级机构 LIMIT 50;\n\n", "thoughts": "由于没有提供具体的表结构信息，无法直接生成SQL查询。我们需要一个包含迟到早退时间记录的表，其中应该包含部门信息、日期以及迟到早退的时间字段。由于这些信息没有提供，我们无法生成一个准确的SQL查询。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "昨天HR部门有哪些人迟到早退了？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql2：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入3：IDT部门的AI小组的迟到早退时间统计\n\tsql3：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入4：目前公司总共有多少空缺职位？\n\tsql4：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入5：哪个岗位的人员流动（离职和入职）最频繁?\n\tsql5：SELECT 职位, COUNT(*) AS 流动次数 FROM a_sap_employee_information_chinese Where 雇佣状态='离职' GROUP  BY 职位 ORDER BY 流动次数 DESC LIMIT 1\n\n\t用户输入6：当前在QA部门任职经理职务的员工有谁？\n\tsql6：SELECT 姓名, 人员工号, 职务名称 FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'QA' AND (职务名称 LIKE '%经理%' or  职务名称 LIKE '%主任%' ) LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要确定昨天的日期，然后使用a_sap_employee_attendance_details_chinese表来查找HR部门员工的迟到早退记录。我们将使用a_sap_employee_information_chinese表来确定员工是否属于HR部门，并且我们只关心迟到早退分钟数大于0的记录。", "sql": "SELECT\n  e.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  JOIN a_sap_employee_information_chinese e ON a.人员工号 = e.人员工号\nWHERE\n  a.考勤日期 = '2024-03-11'\n  AND e.一级机构 = 'HR'\n  AND (a.迟到分钟数 > 0 OR a.早退分钟数 > 0)\nLIMIT\n  50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;张苗&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 63, &quot;迟到早退分钟数&quot;: 83, {&quot;姓名&quot;: &quot;张晓玲&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 28, &quot;迟到早退分钟数&quot;: 28 "}
{"db_name": "hr_chinese_fk", "user_input": "2024年2月28日，IDT部门AI组哪些人迟到早退了？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'QE', 'shortname': 'ICT-J&K', 'fullname': 'Japan&Korea', 'chinesename': '日韩组'}"], "display_type": "response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的AI小组的迟到早退时间统计\n\tsql2：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql5：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入6：目前AI二级机构下有多少有效编制空缺，以及这些空缺的年度编制数量是多少？\n\tsql6：SELECT SUM(有效编制空缺) AS 总有效编制空缺, SUM(年度编制数量) AS 总年度编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-12"}
{"db_name": "hr_chinese_fk", "user_input": "2024年2月28日，IDT部门AI组哪些人迟到早退了？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'QE', 'shortname': 'ICT-J&K', 'fullname': 'Japan&Korea', 'chinesename': '日韩组'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的AI小组的迟到早退时间统计\n\tsql2：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql5：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入6：目前AI二级机构下有多少有效编制空缺，以及这些空缺的年度编制数量是多少？\n\tsql6：SELECT SUM(有效编制空缺) AS 总有效编制空缺, SUM(年度编制数量) AS 总年度编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要从员工考勤详情表中找到2024年2月28日IDT部门AI组的员工考勤记录。然后，我们需要检查这些记录中迟到分钟数、早退分钟数和迟到早退分钟数是否大于0，以确定哪些员工迟到或早退。我们将通过连接员工考勤详情表和员工基本信息表来获取这些信息，并且限制结果数量为最多50条。", "sql": "SELECT\n  b.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n    OR a.迟到早退分钟数 > 0\n  )\nLIMIT\n  50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;陈诺琳&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 6, {&quot;姓名&quot;: &quot;郑淇尹&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 3, {&quot;姓名&quot;: &quot;李治&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 4, {&quot;姓名&quot;: &quot;孙月&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 3, {&quot;姓名&quot;: &quot;阮诗慧&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 2 "}
{"db_name": "hr_chinese_fk", "user_input": "昨天F1到F3职级的员工迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'shortname': 'FNC', 'fullname': 'Finance', 'chinesename': '财务部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'shortname': 'LA', 'fullname': 'Legal Affairs', 'chinesename': '法务部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql3：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：列出当前在职员工的平均工龄。\n\tsql5：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要确定昨天的日期，然后根据职级范围字段说明，F1到F3职级对应的员工子组为A1到A3，即一级员工到三级员工。接着，我们将使用a_sap_employee_attendance_details_chinese表来获取昨天迟到早退的时间统计，并且需要连接a_sap_employee_information_chinese表来过滤出F1到F3职级的员工。我们将使用SUM函数来计算总迟到和早退时间，并且限制结果为最多50条。", "sql": "SELECT SUM(a.迟到分钟数) AS 总迟到分钟数, SUM(a.早退分钟数) AS 总早退分钟数 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE a.考勤日期 = '2024-03-11' AND b.员工子组 IN ('A1', 'A2', 'A3') GROUP BY b.员工子组 LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "2024年3月份，IDT部门迟到早退的时间总和。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'BP-MU', 'fullname': 'Business Partner-MU', 'chinesename': '制造解决方案部'}", "{'parent_org': 'TPM', 'shortname': 'TPM4', 'fullname': 'TPM4', 'chinesename': '项目技术部四组'}", "{'parent_org': 'SLS', 'shortname': 'AP3', 'fullname': 'Asia Pacific3', 'chinesename': '亚太区3'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的AI小组的迟到早退时间统计\n\tsql2：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入3：对于T128财年，查询在'AD'二级机构中，编制月度为'3'月，员工子组为'技术员'的有效编制空缺数。\n\tsql3：SELECT 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 二级机构 = 'AD' AND 编制月度 = 3 AND 员工子组 = '技术员' LIMIT 50\n\n\t用户输入4：统计当前全部员工的平均入职年限。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql6：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "为了获取2024年3月份IDT部门迟到早退的时间总和，我们需要从考勤详情表中筛选出IDT部门的员工在2024年3月份的所有考勤记录，然后将迟到和早退的分钟数相加得到总和。我们可以通过WHERE子句来限定时间范围（2024年3月1日至2024年3月31日）和一级机构（IDT），并且使用SUM函数来计算迟到和早退分钟数的总和。", "sql": "SELECT SUM(a.迟到分钟数 + a.早退分钟数) AS 迟到早退总分钟数 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构 = 'IDT' AND a.考勤日期 BETWEEN '2024-03-01' AND '2024-03-31' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;迟到早退总分钟数&quot;: 464 "}
{"db_name": "hr_chinese_fk", "user_input": "前天，IDT部门AI组哪些人迟到早退了？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的AI小组的迟到早退时间统计\n\tsql2：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql6：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要计算前天的日期，即2024-03-12减去2天，得到2024-03-10。然后，我们将使用a_sap_employee_attendance_details_chinese表来查找迟到早退的记录，并结合a_sap_employee_information_chinese表来确定员工属于IDT部门的AI组。我们将检查迟到分钟数和早退分钟数字段，以找出那些迟到或早退的员工。", "sql": "SELECT\n  b.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  a.考勤日期 = '2024-03-10'\n  AND b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n    OR a.迟到早退分钟数 > 0\n  )\nLIMIT\n  50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;陈紫薇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, &quot;迟到早退分钟数&quot;: 27 "}
{"db_name": "hr_chinese_fk", "user_input": "昨天12到14的职级的员工迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}"], "display_type": "response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql3：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：列出当前在职员工的平均工龄。\n\tsql5：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "current_date": "2024-03-12"}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职的实习生有谁？？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql1：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入2：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql3：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的AI小组的迟到早退时间统计\n\tsql5：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入6：当前在QA部门任职经理职务的员工有谁？\n\tsql6：SELECT 姓名, 人员工号, 职务名称 FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'QA' AND (职务名称 LIKE '%经理%' or  职务名称 LIKE '%主任%' ) LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "为了找到IDT部门在职的实习生，我们需要从员工基本信息表中查询一级机构为IDT，雇佣状态为在职，员工子组文本为实习的员工。", "sql": "SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职' AND 员工子组文本 = '实习' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;张议文&quot;, &quot;人员工号&quot;: 173739, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;人员工号&quot;: 176636, {&quot;姓名&quot;: &quot;陈紫薇&quot;, &quot;人员工号&quot;: 176637 "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职的实习生有谁？？分别在哪个二级部门？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql1：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入2：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql3：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql5：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-12", "thoughts": "为了找到IDT部门在职的实习生及其所在的二级部门，我们需要从员工基本信息表中查询一级机构为IDT，雇佣状态为在职，员工子组文本为实习的员工的姓名和二级机构。", "sql": "SELECT 姓名, 二级机构 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职' AND 员工子组文本 = '实习' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;张议文&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;陈紫薇&quot;, &quot;二级机构&quot;: &quot;AI&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职的实习生有谁？？分别在哪个二级部门？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql1：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入2：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql3：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql5：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-12", "thoughts": "要找到IDT部门在职的实习生及其所在的二级部门，我们需要查询a_sap_employee_information_chinese表，筛选一级机构为'IDT'、雇佣状态为'在职'、员工子组文本为'实习'的记录，并获取员工的姓名和二级机构信息。", "sql": "SELECT 姓名, 二级机构 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职' AND 员工子组文本 = '实习' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;张议文&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;陈紫薇&quot;, &quot;二级机构&quot;: &quot;AI&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职人数有多少、\n", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}"], "display_type": "response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：哪个一级机构下的在职员工人数最多？\n\tsql3：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql5：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入6：IDT部门的AI小组的迟到早退时间统计\n\tsql6：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n", "current_date": "2024-03-12"}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职有多少人？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：IDT部门的AI小组的迟到早退时间统计\n\tsql4：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入5：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql5：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入6：哪个一级机构下的在职员工人数最多？\n\tsql6：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n", "current_date": "2024-03-12", "thoughts": "为了找出IDT部门在职的员工数量，我们需要从员工基本信息表中筛选出一级机构为IDT且雇佣状态为在职的员工，然后对结果进行计数。", "sql": "SELECT COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职'", "ai_sql_result": "&quot;: [{&quot;在职员工数量&quot;: 206 "}
{"db_name": "hr_chinese_fk", "user_input": "昨天离职了多少人", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}"], "display_type": "response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.", "qa_samples": "\t用户输入1：目前公司总共有多少空缺职位？\n\tsql1：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入2：查找到现在为止，公司一共有多少名员工？\n\tsql2：SELECT COUNT(*) FROM a_sap_employee_information_chinese;\n\n\t用户输入3：目前哪个职位的员工数量最多？\n\tsql3：select 职位,count(*) as 数量 from a_sap_employee_information_chinese  group by 职位 order by 数量 desc\n\n\t用户输入4：哪个岗位的人员流动（离职和入职）最频繁?\n\tsql4：SELECT 职位, COUNT(*) AS 流动次数 FROM a_sap_employee_information_chinese Where 雇佣状态='离职' GROUP  BY 职位 ORDER BY 流动次数 DESC LIMIT 1\n\n\t用户输入5：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql5：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入6：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql6：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n", "current_date": "2024-03-12"}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职有多少人？请列出全部姓名和二级机构，by二级机构排序，不要limit 50限制。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql1：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入2：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql2：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql4：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n\t用户输入5：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql5：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "用户想要查询IDT部门在职员工的数量，并列出他们的姓名和所属的二级机构，并按照二级机构进行排序。由于用户没有要求限制结果数量，所以不需要在SQL查询中使用LIMIT 50。", "sql": "SELECT 姓名, 二级机构 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职' ORDER BY 二级机构", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;吴雷萌&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张育红&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;程炜&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张议文&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;吴绍雄&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;李钰&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;胡俊伟&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;包益刚&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;蔡文章&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;郑自舜&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;熊彦超&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;彭俊&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;温盼&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张巨林&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张梓涛&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;程华曦&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;缪林伟&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;苏晴&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;何泽平&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;乐志清&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;林桂谋&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;熊倩&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;李夏&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张永宁&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;林瑞祥&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;杨富钧&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;陈晓麟&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;杨建雄&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;袁光华&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;彭民权&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;白留伟&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;丘岸&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;何建军&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;吉娴&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;郑建山&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;黄青松&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;兰永星&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;杨宜强&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;杨文燕&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张国庆&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;陈薇&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;李光静&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;郭鹏飞&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;郑淇尹&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;罗文洲&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;王适天&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;乔亨&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈菲&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;鲁朋&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李安榜&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈诺琳&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;沈震远&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李治&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;唐孝银&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;郑勤&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;邱创一&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;张恺&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;林贵秋&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;孙月&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈国斌&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;阮诗慧&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;黄逸彬&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈紫薇&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;何俊虎&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;员喆&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李佳谕&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;姚嘉诚&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;易成新&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李春风&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;苗秀娟&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;张平&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;刘明鑫&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;王树树&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;尹利祥&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;张栋&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;陈滋洁&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;李秀娟&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;林亮&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;孙智超&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;阮红昌&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;李勇智&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;杨雷&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;李春泽&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;周锦尧&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;陈春甫&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;谢莲莲&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;李立安&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;肖仕杰&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;曹青&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李光志&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;许盛杰&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;姚朋朋&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;林超祺&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;温从森&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;廖忠平&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;章盼松&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;罗姝匀&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;邓伟&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陆健康&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;何威&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;郭伟伟&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;杨剑辉&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;孙君炜&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;付豪&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;谢晓珊&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陈杰&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李林&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;余美燕&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陈辉滨&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;何晓强&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陈锦辉&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李艳平&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;蔡京晶&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;祁一哲&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;罗盈盈&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;尹正熙&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;黄东玲&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;彭述国&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;连学勇&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;郑忠伟&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;赖然&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;姚苗&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;蔡纪元&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;汪玉&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;陈小琼&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;王诗豪&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;柳秋月&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;李萍萍&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;林碧治&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;陈雪妹&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;段鑫宇&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;慕晓虎&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;涂邦昌&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;戴健&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;叶信坚&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;陈恩智&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;秦贝&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;张爱娟&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;焦明辉&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;郑龙辉&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;刘迪&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;陈露瑶&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;苗宇&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;唐巧文&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;孙瑶&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;郑章蕊&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;李建&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;李乐&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;叶建辉&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;林生土&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;张浩&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;曾侯军&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;杨育平&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;袁浩扬&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;孙则太&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;陈钦钦&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;杨家文&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;陈严琨&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;谢健霞&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;陈派荣&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;王秋&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;黄叔达&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;梁丽萍&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;李永乐&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;丁力&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;刘怡山&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;余彬彬&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;冯海雄&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;郝昕&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;敖雄海&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;冯路路&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;陈泽霖&quot;, &quot;二级机构&quot;: &quot;ICS&quot;, {&quot;姓名&quot;: &quot;高伟&quot;, &quot;二级机构&quot;: &quot;ICS&quot;, {&quot;姓名&quot;: &quot;韦忠杨&quot;, &quot;二级机构&quot;: &quot;ICS&quot;, {&quot;姓名&quot;: &quot;王益&quot;, &quot;二级机构&quot;: &quot;ICS&quot;, {&quot;姓名&quot;: &quot;彭翼鲲&quot;, &quot;二级机构&quot;: &quot;ICS&quot;, {&quot;姓名&quot;: &quot;陈宏亮&quot;, &quot;二级机构&quot;: &quot;ICS&quot;, {&quot;姓名&quot;: &quot;曾皓霖&quot;, &quot;二级机构&quot;: &quot;ICS&quot;, {&quot;姓名&quot;: &quot;韩俊&quot;, &quot;二级机构&quot;: &quot;ICS&quot;, {&quot;姓名&quot;: &quot;周美英&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;叶丽华&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;张勇刚&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;王倩&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;Lee Chang Chin&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;胡阿圣&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;欧阳子健&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;卢艳明&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;林明钗&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;田艳阳&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;傅佳&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;林明理&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;黄友光&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;谢波&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;肖光镫&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;赵吉森&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;何成政&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;吴献武&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;Anurag Basu&quot;, &quot;二级机构&quot;: null, {&quot;姓名&quot;: &quot;林智超&quot;, &quot;二级机构&quot;: null, {&quot;姓名&quot;: &quot;Qiang Jiao&quot;, &quot;二级机构&quot;: null, {&quot;姓名&quot;: &quot;Himanshu Sharma&quot;, &quot;二级机构&quot;: null, {&quot;姓名&quot;: &quot;Satinder Nainawat&quot;, &quot;二级机构&quot;: null, {&quot;姓名&quot;: &quot;程明&quot;, &quot;二级机构&quot;: null, {&quot;姓名&quot;: &quot;Chang Chin Lee&quot;, &quot;二级机构&quot;: null, {&quot;姓名&quot;: &quot;Zhou Xiangyang&quot;, &quot;二级机构&quot;: null "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职人数有多少、", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}"], "display_type": "response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：哪个一级机构下的在职员工人数最多？\n\tsql3：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql5：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入6：IDT部门的AI小组的迟到早退时间统计\n\tsql6：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n", "current_date": "2024-03-12"}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职有多少人？请列出全部姓名和二级机构，by二级机构排序，不要limit 50限制。人事范围是ND，SSL的。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql1：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入2：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql2：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入3：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql3：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql5：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "用户想要查询IDT部门在职员工的数量，并列出他们的姓名和二级机构，按照二级机构排序。查询需要针对人事范围为ND和SSL的员工。由于用户没有要求限制结果数量，所以不需要在SQL查询中使用LIMIT 50。", "sql": "SELECT 姓名, 二级机构 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职' AND 人事范围 IN ('ND', 'SSL') ORDER BY 二级机构", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;杨建雄&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;缪林伟&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;吉娴&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;吴绍雄&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张议文&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;乐志清&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;熊倩&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;林瑞祥&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;郑自舜&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;黄青松&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;程华曦&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;熊彦超&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;杨文燕&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;陈晓麟&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;温盼&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;袁光华&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;杨宜强&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;彭民权&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;蔡文章&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;郑建山&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;李夏&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;彭俊&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张国庆&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;吴雷萌&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张育红&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;何泽平&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;陈薇&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;包益刚&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;苏晴&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;李光静&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;林桂谋&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;何建军&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;鲁朋&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈诺琳&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李治&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李佳谕&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;林贵秋&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;孙月&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈国斌&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;郑淇尹&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;阮诗慧&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;郭鹏飞&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;员喆&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;乔亨&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;罗文洲&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈菲&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;郑勤&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;姚嘉诚&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李春风&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;易成新&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;王适天&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;张平&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;邱创一&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;张恺&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;黄逸彬&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;沈震远&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;何俊虎&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李安榜&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;苗秀娟&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;唐孝银&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈紫薇&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;尹利祥&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;李秀娟&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;周锦尧&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;李艳平&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;谢晓珊&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;罗姝匀&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李林&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;杨剑辉&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;何威&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;郭伟伟&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李立安&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;姚朋朋&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;孙君炜&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;温从森&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陈锦辉&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李光志&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;肖仕杰&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陈杰&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;曹青&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;廖忠平&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;章盼松&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陆健康&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;何晓强&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;林超祺&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;邓伟&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陈辉滨&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;余美燕&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;许盛杰&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;付豪&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;尹正熙&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;蔡京晶&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;罗盈盈&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;郑忠伟&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;陈小琼&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;姚苗&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;连学勇&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;蔡纪元&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;彭述国&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;祁一哲&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;王诗豪&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;柳秋月&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;赖然&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;汪玉&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;黄东玲&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;陈露瑶&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;苗宇&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;李萍萍&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;秦贝&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;陈恩智&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;段鑫宇&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;林碧治&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;叶信坚&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;陈雪妹&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;慕晓虎&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;戴健&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;张爱娟&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;涂邦昌&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;郑龙辉&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;焦明辉&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;刘迪&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;叶建辉&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;孙瑶&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;郑章蕊&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;杨家文&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;孙则太&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;李建&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;黄叔达&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;李乐&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;袁浩扬&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;陈严琨&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;陈钦钦&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;林生土&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;唐巧文&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;王秋&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;陈派荣&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;杨育平&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;曾侯军&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;谢健霞&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;张浩&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;郝昕&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;刘怡山&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;敖雄海&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;余彬彬&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;冯海雄&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;李永乐&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;冯路路&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;丁力&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;梁丽萍&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;周美英&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;Lee Chang Chin&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;叶丽华&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;王倩&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;张勇刚&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;赵吉森&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;何成政&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;谢波&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;肖光镫&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;欧阳子健&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;林明钗&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;吴献武&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;黄友光&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;卢艳明&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;林明理&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;田艳阳&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;胡阿圣&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;傅佳&quot;, &quot;二级机构&quot;: &quot;IS&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "idt总人数", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：查找到现在为止，公司一共有多少名员工？\n\tsql4：SELECT COUNT(*) FROM a_sap_employee_information_chinese;\n\n\t用户输入5：计算当前年度的总编制数量是多少？\n\tsql5：SELECT SUM(年度编制数量) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128';\n\n\t用户输入6：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql6：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n", "current_date": "2024-03-12", "thoughts": "用户想要知道IDT部门的总人数。可以通过查询a_sap_employee_information_chinese表，统计一级机构为'IDT'的员工数量来得到答案。", "sql": "SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT'", "ai_sql_result": "261 "}
{"db_name": "hr_chinese_fk", "user_input": "idt在职，在ND，SSL的人数。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "{'parent_org': 'EHS-DG', 'shortname': 'Site-SSL', 'fullname': 'Environment,Health and Safety  Site Management','chinesename': 'SSL EHS现场管理组'}", "{'parent_org': 'MU-SSL', 'shortname': 'SSL-PRD', 'fullname': 'SSL-Production', 'chinesename': 'SSL生产部'}", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'MU-SSL', 'shortname': 'SSL-ME', 'fullname': 'SSL-Maintenance Engineering', 'chinesename': 'SSL设备技术部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'SSL-PRD', 'shortname': 'SSL-PRD-MC', 'fullname': '', 'chinesename': 'SSL管理中心'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql3：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql5：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "用户想要查询在职的IDT一级机构下，在ND和SSL上班地点的员工人数。我们可以通过查询a_sap_employee_information_chinese表，筛选雇佣状态为'在职'，一级机构为'IDT'，并且上班地点为'ND'或'SSL'的员工，然后计算这样的员工数量。", "sql": "SELECT COUNT(*) AS 在职人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 一级机构 = 'IDT' AND 上班地点 IN ('ND', 'SSL')", "ai_sql_result": "&quot;: [{&quot;在职人数&quot;: 164 "}
{"db_name": "hr_chinese_fk", "user_input": "最近一周，IDT部门博士学历的迟到早退详细清单", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】", "Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名,人员工号:【每个员工的唯一工号，也是这张表的主键】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'shortname': 'RI', 'fullname': 'Research Institute', 'chinesename': '研究院'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql2：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql5：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入6：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql6：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要从员工基本信息表中找出IDT部门的博士学历员工的工号。然后，我们需要从考勤表中找出这些员工最近一周的迟到早退记录。最近一周的日期范围是从2024-03-05到2024-03-11。", "sql": "SELECT a.姓名, a.迟到分钟数, a.早退分钟数, a.考勤日期 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 INNER JOIN a_sap_employee_education_experience_chinese c ON b.人员工号 = c.人员工号 WHERE b.一级机构 = 'IDT' AND c.学历 = '博士' AND a.考勤日期 BETWEEN '2024-03-05' AND '2024-03-11' AND (a.迟到分钟数 > 0 OR a.早退分钟数 > 0) ORDER BY a.考勤日期 LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "最近一周，博士学历的迟到早退详细清单", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名,人员工号:【每个员工的唯一工号，也是这张表的主键】", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'shortname': 'RI', 'fullname': 'Research Institute', 'chinesename': '研究院'}", "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}", "{'parent_org': 'PMC-MPS', 'shortname': 'MPS-MST', 'fullname': 'Master Plan', 'chinesename': '主计划组'}", "{'parent_org': 'PMC', 'shortname': 'PMC-MPS', 'fullname': 'Master Plan & System', 'chinesename': '主计划&系统组'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': '00:01Lab', 'shortname': 'ATI', 'fullname': 'Advanced Technology Incubator','chinesename': '先进技术孵化组'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的AI小组的迟到早退时间统计\n\tsql2：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：当前在职的员工中，有多少人的最高学历是博士？\n\tsql4：SELECT COUNT(DISTINCT eie.人员工号) AS 博士学历人数 FROM a_sap_employee_information_chinese AS eii JOIN a_sap_employee_education_experience_chinese AS eie ON eii.人员工号 = eie.人员工号 WHERE eii.雇佣状态 = '在职' AND eie.学历 = '博士' AND eie.结束日期 IN (     SELECT MAX(结束日期)     FROM a_sap_employee_education_experience_chinese     GROUP BY 人员工号 ) LIMIT 50;\n\n\t用户输入5：公司有多少位具有博士学历的员工？\n\tsql5：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '博士'\n\n\t用户输入6：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql6：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "为了获取最近一周博士学历员工的迟到早退详细清单，我们需要从两张表中获取数据：a_sap_employee_education_experience_chinese 和 a_sap_employee_attendance_details_chinese。首先，我们需要确定最近一周的日期范围，即从2024-03-05到2024-03-11。然后，我们将根据学历为'博士'筛选员工，并关联考勤表以获取迟到早退的数据。我们将使用INNER JOIN来连接这两张表，并且只选择迟到早退分钟数大于0的记录。", "sql": "SELECT aee.姓名, aee.人员工号, aad.迟到分钟数, aad.早退分钟数, aad.迟到早退分钟数, aad.考勤日期 FROM a_sap_employee_education_experience_chinese aee INNER JOIN a_sap_employee_attendance_details_chinese aad ON aee.人员工号 = aad.人员工号 WHERE aee.学历 = '博士' AND aad.考勤日期 BETWEEN '2024-03-05' AND '2024-03-11' AND (aad.迟到分钟数 > 0 OR aad.早退分钟数 > 0) LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "最近一个月，博士学历的迟到早退详细清单", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名,人员工号:【每个员工的唯一工号，也是这张表的主键】", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'shortname': 'RI', 'fullname': 'Research Institute', 'chinesename': '研究院'}", "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'PMC-MPS', 'shortname': 'MPS-MST', 'fullname': 'Master Plan', 'chinesename': '主计划组'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'PMC', 'shortname': 'PMC-MPS', 'fullname': 'Master Plan & System', 'chinesename': '主计划&系统组'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql2：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入3：IDT部门的AI小组的迟到早退时间统计\n\tsql3：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入4：请问有哪些员工的学历是硕士及以上？\n\tsql4：SELECT 人员工号, 姓名, 学历 FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士') LIMIT 50\n\n\t用户输入5：请找出2022年Q2期间入职，并且是硕士学历的员工名单。\n\tsql5：SELECT 姓名 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士' AND 入职日期 >= '2022-07-01' AND 入职日期 <= '2022-09-30' LIMIT 50\n\n\t用户输入6：当前在职的员工中，有多少人的最高学历是博士？\n\tsql6：SELECT COUNT(DISTINCT eie.人员工号) AS 博士学历人数 FROM a_sap_employee_information_chinese AS eii JOIN a_sap_employee_education_experience_chinese AS eie ON eii.人员工号 = eie.人员工号 WHERE eii.雇佣状态 = '在职' AND eie.学历 = '博士' AND eie.结束日期 IN (     SELECT MAX(结束日期)     FROM a_sap_employee_education_experience_chinese     GROUP BY 人员工号 ) LIMIT 50;\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要确定最近一个月的日期范围，即从2024-02-12到2024-03-12。然后，我们需要从教育经历表中筛选出学历为博士的员工，接着从考勤表中找出这些员工在指定日期范围内的迟到早退记录。我们将使用两个表的人员工号字段来关联这些数据。", "sql": "SELECT aee.姓名, aee.人员工号, aad.考勤日期, aad.迟到分钟数, aad.早退分钟数, aad.迟到早退分钟数 FROM a_sap_employee_education_experience_chinese aee INNER JOIN a_sap_employee_attendance_details_chinese aad ON aee.人员工号 = aad.人员工号 WHERE aee.学历 = '博士' AND aad.考勤日期 BETWEEN '2024-02-12' AND '2024-03-12' AND (aad.迟到分钟数 > 0 OR aad.早退分钟数 > 0) ORDER BY aad.考勤日期 LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "最近一个月，本科学历的迟到早退详细清单", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名,人员工号:【每个员工的唯一工号，也是这张表的主键】", "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：在所有教育信息中，有多少人持有大学本科学历，并且在2021年以前入职的？\n\tsql2：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科' AND 入职日期 < '2021-01-01'\n\n\t用户输入3：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql3：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入4：请问有哪些员工的学历是硕士及以上？\n\tsql4：SELECT 人员工号, 姓名, 学历 FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士') LIMIT 50\n\n\t用户输入5：请列出目前所有一级机构下，具有本科学历且职位为技术员的员工列表。\n\tsql5：SELECT e.人员工号, e.姓名, e.职位, e.入职日期, e.一级机构名称 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.职位 like '%技术员%' AND edu.学历 = '大学本科' AND e.雇佣状态 = '在职' LIMIT 50\n\n\t用户输入6：请找出2022年Q2期间入职，并且是硕士学历的员工名单。\n\tsql6：SELECT 姓名 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士' AND 入职日期 >= '2022-07-01' AND 入职日期 <= '2022-09-30' LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要确定最近一个月的日期范围，即从2024-02-12到2024-03-12。然后，我们需要从教育经历表中筛选出学历为'大学本科'的员工，接着从考勤表中找出这些员工在指定日期范围内的迟到早退记录。我们将使用两个表的人员工号字段来关联这些数据。", "sql": "SELECT a.姓名, a.迟到分钟数, a.早退分钟数, a.考勤日期 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_employee_education_experience_chinese b ON a.人员工号 = b.人员工号 WHERE b.学历 = '大学本科' AND (a.迟到分钟数 > 0 OR a.早退分钟数 > 0) AND a.考勤日期 BETWEEN '2024-02-12' AND '2024-03-12' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;李唯露&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 109, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;谈时&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 113, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;徐文强&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;侯美灵&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 12, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;杨凡&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 90, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;吴建裕&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 62, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;徐琴心&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;王嘉伟&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;李唯露&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 15, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;康聪颖&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;施华妹&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 62, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;石永强&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 80, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;赵彪&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 19, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;刘纯&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 116, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;王金&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 9, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;林荣栋&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 97, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;赖小鸿&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 94, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;李行&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 82, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;温兆冬&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 88, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;林兆涵&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 60, &quot;考勤日期&quot;: &quot;2024-03-07T00:00:00&quot;, {&quot;姓名&quot;: &quot;何云霞&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 4, &quot;考勤日期&quot;: &quot;2024-03-06T00:00:00&quot;, {&quot;姓名&quot;: &quot;李唯露&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 6, &quot;考勤日期&quot;: &quot;2024-03-06T00:00:00&quot;, {&quot;姓名&quot;: &quot;童文伟&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 87, &quot;考勤日期&quot;: &quot;2024-03-06T00:00:00&quot;, {&quot;姓名&quot;: &quot;吴泰霖&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, &quot;考勤日期&quot;: &quot;2024-03-05T00:00:00&quot;, {&quot;姓名&quot;: &quot;闫桂林&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 113, &quot;考勤日期&quot;: &quot;2024-03-05T00:00:00&quot;, {&quot;姓名&quot;: &quot;郑万新&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 8, &quot;考勤日期&quot;: &quot;2024-03-05T00:00:00&quot;, {&quot;姓名&quot;: &quot;李文清&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, &quot;考勤日期&quot;: &quot;2024-03-05T00:00:00&quot;, {&quot;姓名&quot;: &quot;张佳琪&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-03-05T00:00:00&quot;, {&quot;姓名&quot;: &quot;王珊&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 58, &quot;考勤日期&quot;: &quot;2024-03-04T00:00:00&quot;, {&quot;姓名&quot;: &quot;崔辉&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 14, &quot;考勤日期&quot;: &quot;2024-03-04T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈慧慧&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 14, &quot;考勤日期&quot;: &quot;2024-03-04T00:00:00&quot;, {&quot;姓名&quot;: &quot;李安榜&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-03-04T00:00:00&quot;, {&quot;姓名&quot;: &quot;段鑫宇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 111, &quot;考勤日期&quot;: &quot;2024-03-04T00:00:00&quot;, {&quot;姓名&quot;: &quot;李唯露&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;刘荣昌&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 9, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;谢丽梅&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈昱成&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;李磊&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 73, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;林小丽&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 45, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈玉凤&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 6, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;王斌&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 113, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈晓&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 47, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;李昱&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;杨震&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;李腾飞&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 60, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;李唯露&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-02-29T00:00:00&quot;, {&quot;姓名&quot;: &quot;张文轩&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 8, &quot;考勤日期&quot;: &quot;2024-02-29T00:00:00&quot;, {&quot;姓名&quot;: &quot;韦涛&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-02-29T00:00:00&quot;, {&quot;姓名&quot;: &quot;黄少军&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 6, &quot;考勤日期&quot;: &quot;2024-02-28T00:00:00&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "最近一个月，IDT部门本科学历的迟到早退详细清单", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql2：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：请找出2022年Q2期间入职，并且是硕士学历的员工名单。\n\tsql6：SELECT 姓名 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士' AND 入职日期 >= '2022-07-01' AND 入职日期 <= '2022-09-30' LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "要找出最近一个月IDT部门本科学历员工的迟到早退详细清单，首先需要确定最近一个月的日期范围，即从2024-02-12到2024-03-12。然后，我们需要从员工基本信息表中筛选出IDT部门的本科学历员工，再与考勤表关联，找出这段时间内的迟到早退记录。但是，由于表结构定义中没有提供员工学历的字段，因此无法根据学历进行筛选。所以，提供的表结构信息不足以生成sql查询。", "sql": "", "ai_sql_result": "要找出最近一个月IDT部门本科学历员工的迟到早退详细清单，首先需要确定最近一个月的日期范围，即从2024-02-12到2024-03-12。然后，我们需要从员工基本信息表中筛选出IDT部门的本科学历员工，再与考勤表关联，找出这段时间内的迟到早退记录。但是，由于表结构定义中没有提供员工学历的字段，因此无法根据学历进行筛选。所以，提供的表结构信息不足以生成sql查询。"}
{"db_name": "hr_chinese_fk", "user_input": "最近一个月，IDT部门，本科学历的迟到早退详细清单", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】", "Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名,人员工号:【每个员工的唯一工号，也是这张表的主键】"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql2：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：请找出2022年Q2期间入职，并且是硕士学历的员工名单。\n\tsql6：SELECT 姓名 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士' AND 入职日期 >= '2022-07-01' AND 入职日期 <= '2022-09-30' LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "为了获取最近一个月IDT部门本科学历员工的迟到早退详细清单，我们需要从员工基本信息表中筛选出IDT部门且学历为本科的员工，然后结合考勤表中的迟到早退数据。首先，我们需要计算出最近一个月的日期范围，即从'2024-02-12'到'2024-03-12'。接着，我们将使用INNER JOIN来连接员工基本信息表和考勤表，并筛选出对应的数据。", "sql": "SELECT a.姓名, a.迟到分钟数, a.早退分钟数, a.考勤日期 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 INNER JOIN a_sap_employee_education_experience_chinese c ON b.人员工号 = c.人员工号 WHERE b.一级机构 = 'IDT' AND c.学历 = '大学本科' AND (a.迟到分钟数 > 0 OR a.早退分钟数 > 0) AND a.考勤日期 BETWEEN '2024-02-12' AND '2024-03-12' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;包益刚&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-02-27T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈恩智&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 9, &quot;考勤日期&quot;: &quot;2024-02-25T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈诺琳&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, &quot;考勤日期&quot;: &quot;2024-02-25T00:00:00&quot;, {&quot;姓名&quot;: &quot;梁丽萍&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 2, &quot;考勤日期&quot;: &quot;2024-02-23T00:00:00&quot;, {&quot;姓名&quot;: &quot;温盼&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 7, &quot;考勤日期&quot;: &quot;2024-02-22T00:00:00&quot;, {&quot;姓名&quot;: &quot;梁丽萍&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-02-22T00:00:00&quot;, {&quot;姓名&quot;: &quot;杨剑辉&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, &quot;考勤日期&quot;: &quot;2024-02-22T00:00:00&quot;, {&quot;姓名&quot;: &quot;曹青&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-02-22T00:00:00&quot;, {&quot;姓名&quot;: &quot;杨剑辉&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 5, &quot;考勤日期&quot;: &quot;2024-02-21T00:00:00&quot;, {&quot;姓名&quot;: &quot;何建军&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 6, &quot;考勤日期&quot;: &quot;2024-02-20T00:00:00&quot;, {&quot;姓名&quot;: &quot;李建&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, &quot;考勤日期&quot;: &quot;2024-02-19T00:00:00&quot;, {&quot;姓名&quot;: &quot;祁一哲&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 4, &quot;考勤日期&quot;: &quot;2024-02-18T00:00:00&quot;, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 109, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;段鑫宇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 115, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;汪玉&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 5, &quot;考勤日期&quot;: &quot;2024-03-07T00:00:00&quot;, {&quot;姓名&quot;: &quot;梁丽萍&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 4, &quot;考勤日期&quot;: &quot;2024-02-18T00:00:00&quot;, {&quot;姓名&quot;: &quot;付豪&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 59, &quot;考勤日期&quot;: &quot;2024-03-05T00:00:00&quot;, {&quot;姓名&quot;: &quot;梁丽萍&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 8, &quot;考勤日期&quot;: &quot;2024-03-01T00:00:00&quot;, {&quot;姓名&quot;: &quot;赵吉森&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 5, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈紫薇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, {&quot;姓名&quot;: &quot;尹正熙&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 3, &quot;考勤日期&quot;: &quot;2024-03-08T00:00:00&quot;, {&quot;姓名&quot;: &quot;李安榜&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-03-04T00:00:00&quot;, {&quot;姓名&quot;: &quot;段鑫宇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 111, &quot;考勤日期&quot;: &quot;2024-03-04T00:00:00&quot;, {&quot;姓名&quot;: &quot;杨剑辉&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 5, &quot;考勤日期&quot;: &quot;2024-02-29T00:00:00&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职人数有多少、", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：哪个一级机构下的在职员工人数最多？\n\tsql3：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql5：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入6：IDT部门的AI小组的迟到早退时间统计\n\tsql6：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n", "current_date": "2024-03-12", "thoughts": "为了找出IDT部门的在职人数，我们需要从员工基本信息表中筛选出一级机构为IDT且雇佣状态为在职的员工，并计算这样的员工有多少人。", "sql": "SELECT COUNT(*) AS 在职人数 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职'", "ai_sql_result": "&quot;: [{&quot;在职人数&quot;: 206 "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职人数有多少?", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：IDT部门的AI小组的迟到早退时间统计\n\tsql4：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入5：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql5：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入6：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql6：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n", "current_date": "2024-03-12", "thoughts": "为了找出IDT部门在职人数，我们需要从员工基本信息表中筛选出一级机构为IDT且雇佣状态为在职的员工记录，然后计算这些记录的数量。", "sql": "SELECT COUNT(*) AS 在职人数 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职'", "ai_sql_result": "&quot;: [{&quot;在职人数&quot;: 206 "}
{"db_name": "hr_chinese_fk", "user_input": "ATL公司IDT部门在职人数有多少?", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql3：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入4：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql4：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入5：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql5：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入6：IDT部门的AI小组的迟到早退时间统计\n\tsql6：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n", "current_date": "2024-03-12", "thoughts": "为了找出IDT部门在职人数，我们需要从员工基本信息表中筛选出一级机构为IDT且雇佣状态为在职的员工，并计算这样的员工有多少人。", "sql": "SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职';", "ai_sql_result": "206 "}
{"db_name": "hr_chinese_fk", "user_input": "IDT在宁德和松山湖分别在职有多少人？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'LOG', 'shortname': 'LOG-ND', 'fullname': 'Logistics-ND', 'chinesename': '宁德物流部'}", "{'parent_org': 'LOG-ND', 'shortname': 'LOG-ND-WH', 'fullname': 'Warehouse of Ningde Logistics Department','chinesename': '宁德物流部仓储组'}", "{'parent_org': 'PMC-PC', 'shortname': 'PC-ND', 'fullname': 'ND Plan Control', 'chinesename': '宁德计划控制组'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql1：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入2：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql4：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n\t用户输入5：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql5：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入6：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql6：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n", "current_date": "2024-03-12", "thoughts": "为了找出IDT在宁德和松山湖分别在职的人数，我们需要从员工基本信息表中筛选出一级机构为IDT，雇佣状态为在职，并且上班地点分别为宁德和松山湖的员工记录。然后我们将对这些记录进行计数。", "sql": "SELECT 上班地点, COUNT(*) AS 在职人数 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职' AND 上班地点 IN ('ND', 'SSL') GROUP BY 上班地点", "ai_sql_result": "&quot;: [{&quot;上班地点&quot;: &quot;ND&quot;, &quot;在职人数&quot;: 150, {&quot;上班地点&quot;: &quot;SSL&quot;, &quot;在职人数&quot;: 14 "}
{"db_name": "hr_chinese_fk", "user_input": "你有哪些表？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名,人员工号:【每个员工的唯一工号，也是这张表的主键】", "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】", "Table:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:姓名,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,主管2职位,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,总监2职务,总监2职位,总监2姓名,总监1职务,总监1职位,总监1姓名,经理4职务,经理4职位,经理4姓名,经理3职务,经理3职位,经理3姓名,经理2职务,经理2职位,经理2姓名,经理1职务,经理1职位,经理1姓名,主管2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'ND-Lab', 'shortname': 'MAL-MDA','fullname': 'Material Analysis Lab-Method Development & Application', 'chinesename': '材料表征方法开发与应用组'}", "{'parent_org': 'ME-ND2', 'shortname': 'ME-General', 'fullname': 'ME-General', 'chinesename': '公共组'}", "{'parent_org': 'ME-EP', 'shortname': 'ME-Coating', 'fullname': 'ME-Coating', 'chinesename': '涂布段'}", "{'parent_org': 'ME', 'shortname': 'ME-ND1', 'fullname': 'ME-ND1', 'chinesename': 'ND制造工程部1'}", "{'parent_org': 'CPD', 'shortname': 'EAP', 'fullname': 'Elite Account Portfolio', 'chinesename': 'E客户项目群'}", "{'parent_org': 'ME', 'shortname': 'ME-ND2', 'fullname': 'ME-ND2', 'chinesename': 'ND制造工程部2'}"], "display_type": "Table", "qa_samples": "\t用户输入1：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql1：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入2：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql2：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入3：我们想知道当前有多少个职位是空缺的，即有效编制空缺大于0的职位。\n\tsql3：SELECT COUNT(*) FROM a_sap_staffing_recruitment_plan_chinese WHERE 有效编制空缺 > 0;\n\n\t用户输入4：请列出目前所有一级机构下，具有本科学历且职位为技术员的员工列表。\n\tsql4：SELECT e.人员工号, e.姓名, e.职位, e.入职日期, e.一级机构名称 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.职位 like '%技术员%' AND edu.学历 = '大学本科' AND e.雇佣状态 = '在职' LIMIT 50\n\n\t用户输入5：最常见的教育类型是什么？\n\tsql5：SELECT 教育类型, COUNT(*) AS 数量 FROM a_sap_employee_education_experience_chinese GROUP BY 教育类型 ORDER BY 数量 DESC LIMIT 1\n\n\t用户输入6：在所有教育信息中，有多少人持有大学本科学历，并且在2021年以前入职的？\n\tsql6：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科' AND 入职日期 < '2021-01-01'\n\n", "current_date": "2024-03-12", "thoughts": "用户想要知道当前数据库中有哪些表的信息，可以直接列出所有表的名称和它们的描述。", "sql": "", "ai_sql_result": "用户想要知道当前数据库中有哪些表的信息，可以直接列出所有表的名称和它们的描述。"}
{"db_name": "hr_chinese_fk", "user_input": "列出所有表的名称和它们的描述", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:姓名,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,主管2职位,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,总监2职务,总监2职位,总监2姓名,总监1职务,总监1职位,总监1姓名,经理4职务,经理4职位,经理4姓名,经理3职务,经理3职位,经理3姓名,经理2职务,经理2职位,经理2姓名,经理1职务,经理1职位,经理1姓名,主管2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位", "Table:a_sap_performance_ai,table_comment:公司所有员工每年的绩效表Columns:编制年度:【公司财年】,绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'FE', 'shortname': 'SYS', 'fullname': 'System', 'chinesename': '系统组'}", "{'parent_org': 'ME-ND2', 'shortname': 'ME-General', 'fullname': 'ME-General', 'chinesename': '公共组'}", "{'parent_org': 'CPD', 'shortname': 'EAP', 'fullname': 'Elite Account Portfolio', 'chinesename': 'E客户项目群'}", "{'parent_org': 'ME-EP', 'shortname': 'ME-Slitting', 'fullname': 'ME-Slitting', 'chinesename': '备料段'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'ME-TC', 'shortname': 'ME-Program', 'fullname': 'ME-Program', 'chinesename': '程序组'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：请列出目前所有员工的姓名和对应的职位。\n\tsql1：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入2：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql2：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入3：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql3：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入4：请列出所有员工的姓名和对应的直属上司姓名，并按照部门分类。\n\tsql4：SELECT e.姓名, e.直属上司姓名, e.一级机构名称 FROM a_sap_employee_information_chinese e ORDER BY e.一级机构名称 LIMIT 50\n\n\t用户输入5：需要生成一份报告，列出所有三级机构，以及每个三级机构下拥有的职务类型总数。\n\tsql5：SELECT 三级机构, COUNT(DISTINCT 职务类型) AS 职务类型总数 FROM a_sap_positions_responsibilities_risks_chinese GROUP BY 三级机构 ORDER BY 三级机构 LIMIT 50;\n\n\t用户输入6：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql6：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n", "current_date": "2024-03-12", "thoughts": "用户请求列出所有表的名称及其描述。由于这是一个静态请求，不需要执行SQL查询，可以直接提供信息。", "sql": "", "ai_sql_result": "用户请求列出所有表的名称及其描述。由于这是一个静态请求，不需要执行SQL查询，可以直接提供信息。"}
{"db_name": "hr_chinese_fk", "user_input": "2023年自离人数是多少", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'SLS', 'shortname': 'AP3', 'fullname': 'Asia Pacific3', 'chinesename': '亚太区3'}", "{'parent_org': 'FIT', 'shortname': 'SET', 'fullname': 'Separator Engineering Team', 'chinesename': '隔离膜工程组'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'MU', 'shortname': 'MU Plus Digi-Lean', 'fullname': 'Manufacturing Unit Plus Digi Lean', 'chinesename': '智能制造特区Digi-Lean部'}", "{'parent_org': 'EHS-ND', 'shortname': 'Site-M&E', 'fullname': 'Environment,Health and Safety  Site Management(M&E)','chinesename': '湖东现场管理组'}", "{'parent_org': 'PRJ-DG', 'shortname': 'PRJ-DG3', 'fullname': 'EP&SSE&CIP&DO2 Team','chinesename': 'EP&SSE&国内2组'}"], "display_type": "Table", "qa_samples": "\t用户输入1：请问2023年Q3有多少有效编制空缺？\n\tsql1：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (10, 11, 12)\n\n\t用户输入2：目前2023年3月份，职务为经理级别的员工中，空缺编制数量是多少？\n\tsql2：SELECT SUM(有效编制空缺) AS 空缺编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 in (1,2,3) AND 职级范围 = 'JG11-13'\n\n\t用户输入3：请问在2023年第一季度有多少有效的编制空缺？\n\tsql3：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (1, 2, 3)\n\n\t用户输入4：今年的有效编制空缺数是多少？\n\tsql4：SELECT SUM(有效编制空缺) AS 今年有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128'\n\n\t用户输入5：在2022年Q1，公司有多少有效编制空缺？\n\tsql5：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (1, 2, 3)\n\n\t用户输入6：当前有多少员工具备硕士学历？\n\tsql6：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n", "current_date": "2024-03-12", "thoughts": "由于用户询问的是2023年自离人数，我们需要查询员工基本信息表中雇佣状态为'离职'且入职日期在2023年内的记录数。根据表结构定义，我们可以使用'入职日期'字段来筛选2023年的数据，并且使用'雇佣状态'字段来筛选离职的员工。由于表结构中没有直接提供离职日期，我们无法直接筛选出2023年自离的员工，因此无法生成准确的SQL查询。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "146298身份证信息", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'EHS-DG', 'shortname': 'Site-SSL', 'fullname': 'Environment,Health and Safety  Site Management','chinesename': 'SSL EHS现场管理组'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'PRJ-DG', 'shortname': 'PRJ-DG3', 'fullname': 'EP&SSE&CIP&DO2 Team','chinesename': 'EP&SSE&国内2组'}", "{'parent_org': 'SD', 'shortname': 'EHS-ND', 'fullname': 'Environment,Health and Safety Management(ND)', 'chinesename': 'EHS-ND管理组'}", "{'parent_org': 'SD', 'shortname': 'EHS-DG', 'fullname': 'Environment,Health and Safety Management(DG)', 'chinesename': 'EHS-DG管理组'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：请问工号为137109的员工的姓名和入职日期是什么？\n\tsql1：SELECT 姓名, 入职日期 FROM a_sap_employee_information_chinese WHERE 人员工号 = '137109' LIMIT 1;\n\n\t用户输入2：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql2：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入3：请列出持有本科学历或以上且目前担任总监职务的员工姓名及职务名称。\n\tsql3：SELECT 姓名, 职务名称 FROM a_sap_employee_information_chinese WHERE 职务名称 LIKE '%总监%' AND 雇佣状态 = '在职' LIMIT 50\n\n\t用户输入4：请查询所有在APD部门任职'经理'级别且拥有硕士学历的员工的姓名、职务名称和入职日期。\n\tsql4：SELECT e.姓名, e.职务名称, e.入职日期 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.一级机构名称 = 'APD' AND (e.职务名称 LIKE '%主任%' OR e.职务名称 LIKE '%经理%') AND edu.学历 = '硕士' LIMIT 50\n\n\t用户输入5：请问工号为137109员工的汇报关系是如何的？\n\tsql5：SELECT 直属上司工号, 直属上司姓名 FROM a_sap_employee_information_chinese WHERE 人员工号 = '137109'\n\n\t用户输入6：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql6：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "用户想要查询人员工号为146298的员工的身份证地址信息。根据表结构定义，我们可以使用人员工号字段来定位员工，并查询身份证地址的省_直辖市字段。", "sql": "SELECT 身份证地址的省_直辖市 FROM a_sap_employee_information_chinese WHERE 人员工号 = '146298' LIMIT 1;", "ai_sql_result": "&quot;: [{&quot;身份证地址的省_直辖市&quot;: &quot;湖北&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "146298的联系方式", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'SLS', 'shortname': 'BO/CS', 'fullname': 'Back office/Customer Service', 'chinesename': '销售支持/客服'}", "{'parent_org': 'PMD', 'shortname': 'MKT', 'fullname': 'Marketing', 'chinesename': '市场部'}", "{'parent_org': 'ME-ND2', 'shortname': 'ME-TSC', 'fullname': 'ME-TSC', 'chinesename': 'TSC制造工程部'}", "{'parent_org': 'Tech', 'shortname': 'TSE', 'fullname': 'Technology Support and Execute management','chinesename': '技术支持与执行组'}", "{'parent_org': 'CPD', 'shortname': 'PPL', 'fullname': 'Phone Product Line', 'chinesename': '手机平台开发部'}", "{'parent_org': 'SLS', 'shortname': 'K1', 'fullname': 'Key Account1', 'chinesename': '关键客户1'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：请问工号为137109的员工的姓名和入职日期是什么？\n\tsql2：SELECT 姓名, 入职日期 FROM a_sap_employee_information_chinese WHERE 人员工号 = '137109' LIMIT 1;\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：请问工号为137109员工的汇报关系是如何的？\n\tsql4：SELECT 直属上司工号, 直属上司姓名 FROM a_sap_employee_information_chinese WHERE 人员工号 = '137109'\n\n\t用户输入5：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql5：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入6：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql6：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n", "current_date": "2024-03-12", "thoughts": "用户想要查询工号为146298的员工的联系方式，可以通过查询a_sap_employee_information_chinese表来获取员工的联系号码。", "sql": "SELECT 员工本人联系号码 FROM a_sap_employee_information_chinese WHERE 人员工号 = '146298' LIMIT 1;", "ai_sql_result": "&quot;: [{&quot;员工本人联系号码&quot;: &quot;15071225298&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "2023年入职的员工，离职了多少人", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：目前2023年3月份，职务为经理级别的员工中，空缺编制数量是多少？\n\tsql1：SELECT SUM(有效编制空缺) AS 空缺编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 in (1,2,3) AND 职级范围 = 'JG11-13'\n\n\t用户输入2：目前公司总共有多少空缺职位？\n\tsql2：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入3：请问2023年Q3有多少有效编制空缺？\n\tsql3：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (10, 11, 12)\n\n\t用户输入4：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql4：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入5：当前具有硕士及以上学历的员工总数是多少？\n\tsql5：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "current_date": "2024-03-12", "thoughts": "为了找出2023年入职并且已经离职的员工数量，我们需要在a_sap_employee_information_chinese表中查询入职日期在2023年范围内的记录，并且雇佣状态为'离职'的记录数。", "sql": "SELECT COUNT(*) AS 离职员工数量 FROM a_sap_employee_information_chinese WHERE 入职日期 >= '2023-01-01' AND 入职日期 <= '2023-12-31' AND 雇佣状态 = '离职'", "ai_sql_result": "&quot;: [{&quot;离职员工数量&quot;: 9696 "}
{"db_name": "hr_chinese_fk", "user_input": "146298是哪个部门的？上级是谁？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:姓名,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,主管2职位,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,总监2职务,总监2职位,总监2姓名,总监1职务,总监1职位,总监1姓名,经理4职务,经理4职位,经理4姓名,经理3职务,经理3职位,经理3姓名,经理2职务,经理2职位,经理2姓名,经理1职务,经理1职位,经理1姓名,主管2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "{'parent_org': 'MRD', 'shortname': 'AMD', 'fullname': 'Advanced Manufacturing Development', 'chinesename': '先进制造部'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}", "{'parent_org': 'PSO', 'shortname': 'CPA', 'fullname': 'Corporate public affairs', 'chinesename': '企业公共事务部'}", "{'parent_org': 'FNC', 'shortname': 'OMO', 'fullname': 'Operation management office', 'chinesename': '经营管理部'}", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql1：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入2：截至目前，公司一级机构下有多少个不同的职务？\n\tsql2：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：哪个部门的部门负责人在岗时间最长？\n\tsql4：SELECT 一级机构名称, 部门负责人, MIN(入职日期) AS 最早入职日期 FROM a_sap_employee_information_chinese WHERE 部门负责人 IS NOT NULL GROUP BY 一级机构名称, 部门负责人 ORDER BY 最早入职日期 ASC LIMIT 1\n\n\t用户输入5：请列出所有一级机构中哪些部门的职务范围包含'经理'级别以上的岗位，并按照一级机构名称排序。\n\tsql5：SELECT DISTINCT 一级机构 FROM a_sap_positions_responsibilities_risks_chinese WHERE 职务 LIKE '%经理%' OR 职务 LIKE '%主任%' OR 职务 LIKE '%总监%' OR 职务 LIKE '%副总裁%' OR 职务 LIKE '%总裁%' ORDER BY 一级机构 ASC LIMIT 50\n\n\t用户输入6：请列出所有员工的姓名和对应的直属上司姓名，并按照部门分类。\n\tsql6：SELECT e.姓名, e.直属上司姓名, e.一级机构名称 FROM a_sap_employee_information_chinese e ORDER BY e.一级机构名称 LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "为了找到员工146298所在的部门和上级，我们需要查询员工基本信息表a_sap_employee_information_chinese。我们将使用人员工号来定位员工，并获取他们的一级机构和直属上司姓名。", "sql": "SELECT 一级机构, 直属上司姓名 FROM a_sap_employee_information_chinese WHERE 人员工号 = '146298' LIMIT 1", "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;HR&quot;, &quot;直属上司姓名&quot;: &quot;林钦&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职的实习生有谁？？分别在哪个二级部门？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql1：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入2：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql3：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql5：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-12", "thoughts": "要找到IDT部门在职的实习生及其所在的二级部门，我们需要从员工基本信息表中查询一级机构为IDT，雇佣状态为在职，员工子组文本为实习的员工的姓名和二级机构。", "sql": "SELECT 姓名, 二级机构 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职' AND 员工子组文本 = '实习' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;张议文&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;陈紫薇&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;二级机构&quot;: &quot;AD&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门有哪些二级部门？  在职分别有多少人？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql2：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入3：目前AI二级机构下有多少有效编制空缺，以及这些空缺的年度编制数量是多少？\n\tsql3：SELECT SUM(有效编制空缺) AS 总有效编制空缺, SUM(年度编制数量) AS 总年度编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql5：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要查询IDT部门下的所有二级部门，然后统计每个二级部门在职员工的数量。我们可以通过查询a_sap_employee_information_chinese表，筛选一级机构为IDT的记录，并且雇佣状态为在职的员工，然后按二级机构分组并计数。", "sql": "SELECT 二级机构, COUNT(*) AS 在职人数 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职' GROUP BY 二级机构 LIMIT 50", "ai_sql_result": "&quot;: [{&quot;二级机构&quot;: &quot;AD&quot;, &quot;在职人数&quot;: 43, {&quot;二级机构&quot;: &quot;AI&quot;, &quot;在职人数&quot;: 29, {&quot;二级机构&quot;: &quot;BP&quot;, &quot;在职人数&quot;: 15, {&quot;二级机构&quot;: &quot;BP-MU&quot;, &quot;在职人数&quot;: 26, {&quot;二级机构&quot;: &quot;BP-RD&quot;, &quot;在职人数&quot;: 15, {&quot;二级机构&quot;: &quot;BP-SCM&quot;, &quot;在职人数&quot;: 16, {&quot;二级机构&quot;: &quot;CS&quot;, &quot;在职人数&quot;: 19, {&quot;二级机构&quot;: &quot;DP&quot;, &quot;在职人数&quot;: 9, {&quot;二级机构&quot;: &quot;ICS&quot;, &quot;在职人数&quot;: 8, {&quot;二级机构&quot;: &quot;IDT-MO&quot;, &quot;在职人数&quot;: 5, {&quot;二级机构&quot;: &quot;IS&quot;, &quot;在职人数&quot;: 13, {&quot;二级机构&quot;: null, &quot;在职人数&quot;: 8 "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门T129的Hc", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_staffing_recruitment_plan_chinese,table_comment:公司各个部门的招聘计划表。Columns:特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围,月度编制数量,季度编制数量,年度编制数量,月度可申请空缺数量,季度可申请空缺数量,年度可申请空缺数量,创建日期,有效编制空缺,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'ME-ND2', 'shortname': 'ME-TSC', 'fullname': 'ME-TSC', 'chinesename': 'TSC制造工程部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：IDT部门的AI小组的迟到早退时间统计\n\tsql4：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入5：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql5：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入6：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql6：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n", "current_date": "2024-03-12", "thoughts": "用户想要查询IDT部门在T129财年的HC（Headcount，即人力编制数量）。根据表结构定义，我们可以使用'年度编制数量'字段来获取这个信息，并且需要筛选出一级机构为'IDT'且编制年度为'T129'的记录。", "sql": "SELECT SUM(年度编制数量) AS total_headcount FROM a_sap_staffing_recruitment_plan_chinese WHERE 一级机构 = 'IDT' AND 编制年度 = 'T129' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;total_headcount&quot;: null "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门，2023年4月的HC", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_staffing_recruitment_plan_chinese,table_comment:公司各个部门的招聘计划表。Columns:特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围,月度编制数量,季度编制数量,年度编制数量,月度可申请空缺数量,季度可申请空缺数量,年度可申请空缺数量,创建日期,有效编制空缺,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'SLS', 'shortname': 'AP4', 'fullname': 'Asia Pacific4', 'chinesename': '亚太区4'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的AI小组的迟到早退时间统计\n\tsql4：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入5：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql5：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入6：对于T128财年，查询在'AD'二级机构中，编制月度为'3'月，员工子组为'技术员'的有效编制空缺数。\n\tsql6：SELECT 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 二级机构 = 'AD' AND 编制月度 = 3 AND 员工子组 = '技术员' LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "用户想要查询IDT部门在2023年4月的HC（Headcount，即员工人数）。根据背景知识，2023年对应的财年是T128。由于用户没有指定具体的职级或员工子组，我们将查询IDT部门在T128财年4月份的拟在职人数。", "sql": "SELECT 拟在职人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 一级机构 = 'IDT' AND 编制年度 = 'T128' AND 编制月度 = 4 LIMIT 50", "ai_sql_result": "&quot;: [{&quot;拟在职人数&quot;: 22, {&quot;拟在职人数&quot;: 117, {&quot;拟在职人数&quot;: 16, {&quot;拟在职人数&quot;: 0, {&quot;拟在职人数&quot;: 6, {&quot;拟在职人数&quot;: 22, {&quot;拟在职人数&quot;: 1, {&quot;拟在职人数&quot;: 0 "}
{"db_name": "hr_chinese_fk", "user_input": "公司在职人数", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'parent_org': 'PSO', 'shortname': 'CPA', 'fullname': 'Corporate public affairs', 'chinesename': '企业公共事务部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：查找到现在为止，公司一共有多少名员工？\n\tsql1：SELECT COUNT(*) FROM a_sap_employee_information_chinese;\n\n\t用户输入2：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql2：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入3：请问公司各个部门的编制使用情况和现职人数分别是多少？\n\tsql3：SELECT srp.一级机构, SUM(srp.年度编制数量) AS 编制数量, SUM(srp.有效编制空缺) AS 编制空缺, COUNT(ei.人员工号) AS 现职人数 FROM a_sap_staffing_recruitment_plan_chinese srp LEFT JOIN a_sap_employee_information_chinese ei ON srp.一级机构 = ei.一级机构名称 AND ei.雇佣状态 = '在职' GROUP BY srp.一级机构 LIMIT 50\n\n\t用户输入4：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql4：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入5：目前公司总共有多少空缺职位？\n\tsql5：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入6：查找公司中男性员工的数量？\n\tsql6：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 性别 = '男'\n\n", "current_date": "2024-03-12", "thoughts": "为了得到公司在职人数，我们需要查询员工基本信息表，并计算雇佣状态为'在职'的员工数量。", "sql": "SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';", "ai_sql_result": "30058 "}
{"db_name": "hr_chinese_fk", "user_input": "ND和SSL，公司在职人数", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'MU-SSL', 'shortname': 'SSL-ME', 'fullname': 'SSL-Maintenance Engineering', 'chinesename': 'SSL设备技术部'}", "{'parent_org': 'SD', 'shortname': 'EHS-ND', 'fullname': 'Environment,Health and Safety Management(ND)', 'chinesename': 'EHS-ND管理组'}", "{'parent_org': 'SSL-PRD', 'shortname': 'SSL-PRD-ASSY1', 'fullname': '', 'chinesename': '装配1生产部'}", "{'parent_org': 'SSL-PRD', 'shortname': 'SSL-PRD-ASSY2', 'fullname': '', 'chinesename': '装配2生产部'}", "{'parent_org': 'EHS-DG', 'shortname': 'Site-SSL', 'fullname': 'Environment,Health and Safety  Site Management','chinesename': 'SSL EHS现场管理组'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql1：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入2：查找到现在为止，公司一共有多少名员工？\n\tsql2：SELECT COUNT(*) FROM a_sap_employee_information_chinese;\n\n\t用户输入3：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql3：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入4：哪个一级机构下的在职员工人数最多？\n\tsql4：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql6：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n", "current_date": "2024-03-12", "thoughts": "为了获取ND和SSL两个一级机构的在职人数，我们需要在查询中指定一级机构为'ND'和'SSL'，并且雇佣状态为'在职'。然后我们将对这两个条件下的员工数量进行计数。", "sql": "SELECT 一级机构, COUNT(*) AS 在职人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 一级机构 IN ('ND', 'SSL') GROUP BY 一级机构", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "人员编制ND和SSL，公司在职人数", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'SD', 'shortname': 'EHS-ND', 'fullname': 'Environment,Health and Safety Management(ND)', 'chinesename': 'EHS-ND管理组'}", "{'parent_org': 'SSL-PTO/EP', 'shortname': 'SSL-PRD-EP', 'fullname': '', 'chinesename': 'SSL前工序生产部'}", "{'parent_org': 'SSL-PRD', 'shortname': 'SSL-PRD-ASSY1', 'fullname': '', 'chinesename': '装配1生产部'}", "{'parent_org': 'SSL-PRD', 'shortname': 'SSL-PRD-ASSY2', 'fullname': '', 'chinesename': '装配2生产部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'parent_org': 'MU-SSL', 'shortname': 'SSL-PRD', 'fullname': 'SSL-Production', 'chinesename': 'SSL生产部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql1：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入2：查找到现在为止，公司一共有多少名员工？\n\tsql2：SELECT COUNT(*) FROM a_sap_employee_information_chinese;\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql4：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入5：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql5：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n\t用户输入6：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql6：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n", "current_date": "2024-03-12", "thoughts": "为了获取人员编制ND和SSL的在职人数，我们需要从员工基本信息表中筛选出一级机构为'ND'和'SSL'的在职员工，并计算数量。", "sql": "SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 一级机构 IN ('ND', 'SSL')", "ai_sql_result": "0 "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职有多少人？请列出全部姓名和二级机构，by二级机构排序，不要limit 50限制。人事范围是ND，SSL的。请用柱状图显示", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}"], "display_type": "response_bar_chart", "qa_samples": "\t用户输入1：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql1：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql3：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入4：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql4：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入5：目前AI二级机构下有多少有效编制空缺，以及这些空缺的年度编制数量是多少？\n\tsql5：SELECT SUM(有效编制空缺) AS 总有效编制空缺, SUM(年度编制数量) AS 总年度编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入6：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql6：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "为了找出IDT部门在职的员工数量，并按照二级机构排序列出他们的姓名，我们需要从员工基本信息表中筛选出一级机构为IDT，雇佣状态为在职，人事范围为ND或SSL的员工。然后，我们将结果按照二级机构排序，并且不加limit 50的限制。最后，我们将使用柱状图来展示每个二级机构下的员工数量。", "sql": "SELECT 姓名, 二级机构 FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职' AND 人事范围 IN ('ND', 'SSL') ORDER BY 二级机构", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;吉娴&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;何建军&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张议文&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;何泽平&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;乐志清&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;林桂谋&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;李夏&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;熊彦超&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;程华曦&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;吴雷萌&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张育红&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;苏晴&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;杨建雄&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;郑自舜&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;温盼&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;黄青松&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;郑建山&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;陈薇&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;陈晓麟&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;袁光华&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;李光静&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;彭民权&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;张国庆&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;包益刚&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;林瑞祥&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;缪林伟&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;杨文燕&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;彭俊&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;熊倩&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;吴绍雄&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;蔡文章&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;杨宜强&quot;, &quot;二级机构&quot;: &quot;AD&quot;, {&quot;姓名&quot;: &quot;林贵秋&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈国斌&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;郑淇尹&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;员喆&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;苗秀娟&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;姚嘉诚&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;易成新&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈菲&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李佳谕&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;乔亨&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李春风&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李治&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;邱创一&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;张恺&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;阮诗慧&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;何俊虎&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;罗文洲&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈紫薇&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;沈震远&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;唐孝银&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;王适天&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;李安榜&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;郑勤&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;鲁朋&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;陈诺琳&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;郭鹏飞&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;张平&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;黄逸彬&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;孙月&quot;, &quot;二级机构&quot;: &quot;AI&quot;, {&quot;姓名&quot;: &quot;尹利祥&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;李秀娟&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;周锦尧&quot;, &quot;二级机构&quot;: &quot;BP&quot;, {&quot;姓名&quot;: &quot;温从森&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陈杰&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;余美燕&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;章盼松&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;何晓强&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;何威&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;林超祺&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陈锦辉&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;邓伟&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;孙君炜&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李光志&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;许盛杰&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;姚朋朋&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李林&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李立安&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;罗姝匀&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;郭伟伟&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陆健康&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;杨剑辉&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;肖仕杰&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;李艳平&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;廖忠平&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;付豪&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;曹青&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;陈辉滨&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;谢晓珊&quot;, &quot;二级机构&quot;: &quot;BP-MU&quot;, {&quot;姓名&quot;: &quot;罗盈盈&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;祁一哲&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;彭述国&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;王诗豪&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;陈小琼&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;黄东玲&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;姚苗&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;柳秋月&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;郑忠伟&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;尹正熙&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;连学勇&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;蔡京晶&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;汪玉&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;蔡纪元&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;赖然&quot;, &quot;二级机构&quot;: &quot;BP-RD&quot;, {&quot;姓名&quot;: &quot;林碧治&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;戴健&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;苗宇&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;秦贝&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;涂邦昌&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;郑龙辉&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;段鑫宇&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;陈雪妹&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;慕晓虎&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;李萍萍&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;焦明辉&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;陈恩智&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;陈露瑶&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;刘迪&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;叶信坚&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;张爱娟&quot;, &quot;二级机构&quot;: &quot;BP-SCM&quot;, {&quot;姓名&quot;: &quot;陈严琨&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;袁浩扬&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;杨家文&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;郑章蕊&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;曾侯军&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;唐巧文&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;陈钦钦&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;孙瑶&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;林生土&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;叶建辉&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;黄叔达&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;李乐&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;孙则太&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;杨育平&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;谢健霞&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;王秋&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;李建&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;陈派荣&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;张浩&quot;, &quot;二级机构&quot;: &quot;CS&quot;, {&quot;姓名&quot;: &quot;郝昕&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;李永乐&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;冯路路&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;敖雄海&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;余彬彬&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;梁丽萍&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;丁力&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;刘怡山&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;冯海雄&quot;, &quot;二级机构&quot;: &quot;DP&quot;, {&quot;姓名&quot;: &quot;Lee Chang Chin&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;周美英&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;叶丽华&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;张勇刚&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;王倩&quot;, &quot;二级机构&quot;: &quot;IDT-MO&quot;, {&quot;姓名&quot;: &quot;田艳阳&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;林明理&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;欧阳子健&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;何成政&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;胡阿圣&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;卢艳明&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;肖光镫&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;林明钗&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;黄友光&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;吴献武&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;赵吉森&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;傅佳&quot;, &quot;二级机构&quot;: &quot;IS&quot;, {&quot;姓名&quot;: &quot;谢波&quot;, &quot;二级机构&quot;: &quot;IS&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "IDT部门在职各二级机构有多少人？by二级机构排序，不要limit 50限制。人事范围是ND，SSL的。请用柱状图显示", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'parent_org': 'SSL-ME', 'shortname': 'SSL-ME-ASSY2', 'fullname': '', 'chinesename': '装配2设备技术部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}"], "display_type": "response_bar_chart", "qa_samples": "\t用户输入1：目前AI二级机构下有多少有效编制空缺，以及这些空缺的年度编制数量是多少？\n\tsql1：SELECT SUM(有效编制空缺) AS 总有效编制空缺, SUM(年度编制数量) AS 总年度编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入2：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql2：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入3：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql3：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "为了回答这个问题，我们需要从a_sap_employee_information_chinese表中选择在职员工，他们的一级机构是IDT，人事范围是ND或SSL，并且按照二级机构分组计数。然后我们将结果按照二级机构排序。由于用户请求不要limit 50限制，我们将不会在SQL查询中添加LIMIT子句。用户还要求使用柱状图显示结果，所以我们将选择柱状图作为展示方式。", "sql": "SELECT 二级机构, COUNT(*) AS 员工数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 一级机构 = 'IDT' AND 人事范围 IN ('ND', 'SSL') GROUP BY 二级机构 ORDER BY 二级机构", "ai_sql_result": "&quot;: [{&quot;二级机构&quot;: &quot;AD&quot;, &quot;员工数&quot;: 33, {&quot;二级机构&quot;: &quot;AI&quot;, &quot;员工数&quot;: 29, {&quot;二级机构&quot;: &quot;BP&quot;, &quot;员工数&quot;: 3, {&quot;二级机构&quot;: &quot;BP-MU&quot;, &quot;员工数&quot;: 26, {&quot;二级机构&quot;: &quot;BP-RD&quot;, &quot;员工数&quot;: 15, {&quot;二级机构&quot;: &quot;BP-SCM&quot;, &quot;员工数&quot;: 16, {&quot;二级机构&quot;: &quot;CS&quot;, &quot;员工数&quot;: 19, {&quot;二级机构&quot;: &quot;DP&quot;, &quot;员工数&quot;: 9, {&quot;二级机构&quot;: &quot;IDT-MO&quot;, &quot;员工数&quot;: 5, {&quot;二级机构&quot;: &quot;IS&quot;, &quot;员工数&quot;: 13 "}
{"db_name": "hr_chinese_fk", "user_input": "昨天12到14的职级的员工迟到早退时间统计。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql3：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：列出当前在职员工的平均工龄。\n\tsql5：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要从员工基本信息表中筛选出职级在12到14之间的员工，然后根据人员工号关联考勤表，以获取这些员工昨天的迟到早退时间。昨天的日期是2024-03-11。我们将使用SUM函数来计算总迟到和早退时间，并且限制结果数量为最多50条。", "sql": "SELECT b.姓名, SUM(a.迟到分钟数) AS 总迟到分钟数, SUM(a.早退分钟数) AS 总早退分钟数 FROM a_sap_employee_information_chinese b INNER JOIN a_sap_employee_attendance_details_chinese a ON b.人员工号 = a.人员工号 WHERE b.职级 BETWEEN 'JG12' AND 'JG14' AND a.考勤日期 = '2024-03-11' GROUP BY b.姓名 LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "昨天12,13,14的职级的员工迟到早退时间统计", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql2：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入3：统计当前全部员工的平均入职年限。\n\tsql3：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入4：列出当前在职员工的平均工龄。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要确定昨天的日期，然后根据职级范围字段说明，我们知道职级12,13,14对应的员工子组文本是四级员工和五级员工。接下来，我们需要从考勤表中找到昨天日期对应的记录，并且筛选出职级为12,13,14的员工的迟到早退时间。我们可以通过连接员工基本信息表和考勤表来实现这一点，同时根据员工子组文本字段来筛选出对应职级的员工。", "sql": "SELECT a.姓名, a.迟到分钟数, a.早退分钟数, a.迟到早退分钟数 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE a.考勤日期 = '2024-03-11' AND b.员工子组文本 IN ('四级员工', '五级员工') LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;张柏清&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;刘增春&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;陈治&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;姚苗&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;王百欣&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;邓小容&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;乔晓峰&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;劳绍江&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;黄振宏&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;中山正雄&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;王卫东&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;黄运兵&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;蔡京晶&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;王维&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;汪洋&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;黄永辉&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;余振强&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;林庆森&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;杨杰&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;李先伟&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;赵鹏涛&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;赵巧宇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;陈朝阳&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;魏文磊&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;耿继斌&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;高伟&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;柴建朝&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;莫明亮&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;郎野&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 1, {&quot;姓名&quot;: &quot;冼祖锋&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;郭佳丽&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 17, {&quot;姓名&quot;: &quot;李艳平&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;钟松材&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;胡恒涛&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;张平川&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;王海兵&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 12, {&quot;姓名&quot;: &quot;汪业湘&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;王会勤&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;王丽娜&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;杨华志&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;朱旭礼&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;陈桂许&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;吴书锋&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;姚剑&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;余仕禧&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;林东亮&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;胡大恩&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;林俊康&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;赵忠利&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;张卫均&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 0 "}
{"db_name": "hr_chinese_fk", "user_input": "昨天IDT部门14的职级的员工迟到早退时间统计", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql2：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入3：统计当前全部员工的平均入职年限。\n\tsql3：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql6：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要从员工基本信息表中筛选出IDT部门职级为14的在职员工的工号。然后，我们需要使用这些工号去考勤表中查询昨天的迟到早退时间。昨天的日期是2024-03-11。根据背景知识，职级14对应的是高级管理层，我们可以使用员工子组文本字段来筛选出这些员工。", "sql": "SELECT\n  e.姓名,\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_information_chinese e\n  INNER JOIN a_sap_employee_attendance_details_chinese a ON e.人员工号 = a.人员工号\nWHERE\n  e.一级机构 = 'IDT'\n  AND e.职级 = '14'\n  AND e.雇佣状态 = '在职'\n  AND a.考勤日期 = '2024-03-11'\nGROUP BY\n  e.姓名\nLIMIT\n  50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;何成政&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;冯海雄&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;卢艳明&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;吴献武&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;吴绍雄&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;孙智超&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;彭述国&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;李光志&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;李勇智&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;林明理&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;林桂谋&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;林碧治&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;沈震远&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;涂邦昌&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;温从森&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;程炜&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;赵吉森&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 5, {&quot;姓名&quot;: &quot;郑龙辉&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;郝昕&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;阮红昌&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;陈滋洁&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;陈菲&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0, {&quot;姓名&quot;: &quot;陈锦辉&quot;, &quot;总迟到分钟数&quot;: 0, &quot;总早退分钟数&quot;: 0 "}
{"db_name": "hr_chinese_fk", "user_input": "昨天IDT部门，14职级的员工，有迟到早退的时间统计", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql2：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql3：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入4：统计当前全部员工的平均入职年限。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql6：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要从员工基本信息表中筛选出IDT部门且职级为14的在职员工的工号。然后，我们需要使用这些工号去考勤表中查询昨天（2024-03-11）的迟到早退时间统计。我们将使用INNER JOIN来连接这两个表，并且筛选出迟到早退分钟数大于0的记录。", "sql": "SELECT a.姓名, a.迟到分钟数, a.早退分钟数, a.迟到早退分钟数 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构 = 'IDT' AND b.职级 = '14' AND a.考勤日期 = '2024-03-11' AND (a.迟到分钟数 > 0 OR a.早退分钟数 > 0) AND b.雇佣状态 = '在职' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;赵吉森&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 5, &quot;迟到早退分钟数&quot;: 5 "}
{"db_name": "hr_chinese_fk", "user_input": "昨天IDT部门，AI组，有迟到早退的时间统计", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'IDT', 'shortname': 'AI', 'fullname': 'Industrial Artificial Intelligence', 'chinesename': '工业智能部'}", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'AD', 'fullname': 'Application Development', 'chinesename': '技术开发部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql2：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要确定昨天的日期，然后使用这个日期来查询考勤表。我们将会连接员工基本信息表和员工考勤表，以确保我们只统计IDT部门AI组的员工。我们将会筛选出迟到分钟数和早退分钟数大于0的记录，并对这些记录进行求和以得到总的迟到和早退时间。", "sql": "SELECT SUM(a.迟到分钟数) AS 总迟到分钟数, SUM(a.早退分钟数) AS 总早退分钟数 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE a.考勤日期 = '2024-03-11' AND b.一级机构 = 'IDT' AND b.二级机构 = 'AI' AND (a.迟到分钟数 > 0 OR a.早退分钟数 > 0) LIMIT 50", "ai_sql_result": "&quot;: [{&quot;总迟到分钟数&quot;: null, &quot;总早退分钟数&quot;: null "}
{"db_name": "hr_chinese_fk", "user_input": "昨天，IDT部门，有迟到早退的人员和时间情况", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:英文名,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期", "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:出勤工时,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,异常类型,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,有效值班,职位,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,工作区域,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'IDT', 'shortname': 'IDT-MO', 'fullname': 'IDT-Management Office', 'chinesename': 'IDT管理办公室'}", "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}", "{'parent_org': 'IDT', 'shortname': 'IS', 'fullname': 'Infrastructure Service', 'chinesename': '基础设施服务部'}", "{'parent_org': 'IDT', 'shortname': 'BP-RD', 'fullname': 'Business Partner-RD', 'chinesename': '研发解决方案部'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'IDT', 'shortname': 'CS', 'fullname': 'Client Service', 'chinesename': '桌面服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的AI小组的迟到早退时间统计\n\tsql1：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入2：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql2：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "current_date": "2024-03-12", "thoughts": "首先，我们需要从员工考勤详情表中找到昨天日期（2024-03-11）的记录。然后，我们需要联合员工基本信息表来筛选出属于IDT部门的员工。最后，我们需要查找那些有迟到或早退记录的员工及其对应的迟到早退时间。", "sql": "SELECT a.姓名, a.迟到分钟数, a.早退分钟数, a.迟到早退分钟数 FROM a_sap_employee_attendance_details_chinese a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE a.考勤日期 = '2024-03-11' AND b.一级机构 = 'IDT' AND (a.迟到分钟数 > 0 OR a.早退分钟数 > 0 OR a.迟到早退分钟数 > 0) LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;李佳谕&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 1, {&quot;姓名&quot;: &quot;苏煦超&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 109, &quot;迟到早退分钟数&quot;: 109, {&quot;姓名&quot;: &quot;谢莲莲&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 22, {&quot;姓名&quot;: &quot;孙智超&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 4, {&quot;姓名&quot;: &quot;陈锦辉&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 36, {&quot;姓名&quot;: &quot;王树树&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 3, {&quot;姓名&quot;: &quot;李乐&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 9, {&quot;姓名&quot;: &quot;孙君炜&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 6, {&quot;姓名&quot;: &quot;唐巧文&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 18, {&quot;姓名&quot;: &quot;李钰&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 3, {&quot;姓名&quot;: &quot;何成政&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 15, {&quot;姓名&quot;: &quot;赵吉森&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 5, &quot;迟到早退分钟数&quot;: 5, {&quot;姓名&quot;: &quot;黄东玲&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 39, {&quot;姓名&quot;: &quot;彭俊&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 8, {&quot;姓名&quot;: &quot;彭民权&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 4, {&quot;姓名&quot;: &quot;林碧治&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 4, {&quot;姓名&quot;: &quot;丁力&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 10, {&quot;姓名&quot;: &quot;温盼&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 8, {&quot;姓名&quot;: &quot;袁光华&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 6, {&quot;姓名&quot;: &quot;郭伟伟&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 1, {&quot;姓名&quot;: &quot;阮诗慧&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 3, {&quot;姓名&quot;: &quot;何建军&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 11, {&quot;姓名&quot;: &quot;彭述国&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 11, {&quot;姓名&quot;: &quot;吴绍雄&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 5, {&quot;姓名&quot;: &quot;章盼松&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 5, {&quot;姓名&quot;: &quot;蔡纪元&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 65, {&quot;姓名&quot;: &quot;柳秋月&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 5, {&quot;姓名&quot;: &quot;杨宜强&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 7, {&quot;姓名&quot;: &quot;李安榜&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 5, {&quot;姓名&quot;: &quot;卢艳明&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 2, {&quot;姓名&quot;: &quot;吉娴&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 6, {&quot;姓名&quot;: &quot;段鑫宇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 115, &quot;迟到早退分钟数&quot;: 115, {&quot;姓名&quot;: &quot;付豪&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 14, {&quot;姓名&quot;: &quot;王适天&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 56, {&quot;姓名&quot;: &quot;李春风&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 1, {&quot;姓名&quot;: &quot;余彬彬&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 8, {&quot;姓名&quot;: &quot;熊倩&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 1, {&quot;姓名&quot;: &quot;陈露瑶&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 8, {&quot;姓名&quot;: &quot;陈诺琳&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 29, {&quot;姓名&quot;: &quot;苗秀娟&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 28, {&quot;姓名&quot;: &quot;陈杰&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 22, {&quot;姓名&quot;: &quot;苗宇&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 14, {&quot;姓名&quot;: &quot;肖仕杰&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 3, {&quot;姓名&quot;: &quot;张勇刚&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 17 "}
{"db_name": "hr_chinese_fk", "user_input": "这个礼拜离职的员工有哪些？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名"], "extend_info": ["复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：哪个岗位的人员流动（离职和入职）最频繁?\n\tsql1：SELECT 职位, COUNT(*) AS 流动次数 FROM a_sap_employee_information_chinese Where 雇佣状态='离职' GROUP  BY 职位 ORDER BY 流动次数 DESC LIMIT 1\n\n\t用户输入2：目前公司总共有多少空缺职位？\n\tsql2：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入3：请列出目前所有员工的姓名和对应的职位。\n\tsql3：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入4：当前公司有哪些职务的员工?\n\tsql4：SELECT DISTINCT 职务名称 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入5：哪位员工在公司呆的时间最久?\n\tsql5：SELECT 人员工号, 姓名, 入职日期 FROM a_sap_employee_information_chinese ORDER BY 入职日期 ASC LIMIT 1\n\n\t用户输入6：目前哪个职位的员工数量最多？\n\tsql6：select 职位,count(*) as 数量 from a_sap_employee_information_chinese  group by 职位 order by 数量 desc\n\n", "current_date": "2024-03-13", "thoughts": "为了找出这个礼拜离职的员工，我们需要查询公司员工基本信息表，筛选出离职日期在本周内的员工。由于今天是2024-03-13，本周的开始日期是2024-03-10（周日），结束日期是2024-03-16（周六）。我们将使用BETWEEN语句来筛选这个时间范围内的离职员工。", "sql": "SELECT 人员工号, 姓名, 职位, 离职日期 FROM a_sap_employee_information_chinese WHERE 离职日期 BETWEEN '2024-03-10' AND '2024-03-16' AND 雇佣状态 = '离职' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;人员工号&quot;: 80013805, &quot;姓名&quot;: &quot;李凌峰&quot;, &quot;职位&quot;: &quot;三级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013834, &quot;姓名&quot;: &quot;汪浩磊&quot;, &quot;职位&quot;: &quot;三级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013778, &quot;姓名&quot;: &quot;王江豪&quot;, &quot;职位&quot;: &quot;二级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 176750, &quot;姓名&quot;: &quot;张豪&quot;, &quot;职位&quot;: &quot;三级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013780, &quot;姓名&quot;: &quot;高其林&quot;, &quot;职位&quot;: &quot;二级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013663, &quot;姓名&quot;: &quot;李贞阳&quot;, &quot;职位&quot;: &quot;二级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013706, &quot;姓名&quot;: &quot;王超&quot;, &quot;职位&quot;: &quot;二级技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013619, &quot;姓名&quot;: &quot;田华祥&quot;, &quot;职位&quot;: &quot;一级仓库物料员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013795, &quot;姓名&quot;: &quot;代龙辉&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013664, &quot;姓名&quot;: &quot;李阳&quot;, &quot;职位&quot;: &quot;二级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013548, &quot;姓名&quot;: &quot;孔德远&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013547, &quot;姓名&quot;: &quot;孔宇辰&quot;, &quot;职位&quot;: &quot;二级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013166, &quot;姓名&quot;: &quot;刘天乐&quot;, &quot;职位&quot;: &quot;二级资深技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 176586, &quot;姓名&quot;: &quot;华欢&quot;, &quot;职位&quot;: &quot;三级技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;人员工号&quot;: 80004548, &quot;姓名&quot;: &quot;黄悦&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 176546, &quot;姓名&quot;: &quot;张丽波&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;人员工号&quot;: 80013467, &quot;姓名&quot;: &quot;陈湧彬&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013300, &quot;姓名&quot;: &quot;凌志福&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013080, &quot;姓名&quot;: &quot;肖雄&quot;, &quot;职位&quot;: &quot;三级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013085, &quot;姓名&quot;: &quot;刘东南&quot;, &quot;职位&quot;: &quot;一级技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013266, &quot;姓名&quot;: &quot;聂阳阳&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013459, &quot;姓名&quot;: &quot;段文龙&quot;, &quot;职位&quot;: &quot;IQC Pack三级检验技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013084, &quot;姓名&quot;: &quot;刘西北&quot;, &quot;职位&quot;: &quot;一级技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013194, &quot;姓名&quot;: &quot;古学俊&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013237, &quot;姓名&quot;: &quot;高昇&quot;, &quot;职位&quot;: &quot;二级检验技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 176476, &quot;姓名&quot;: &quot;侯佳&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013131, &quot;姓名&quot;: &quot;邓佳俊&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013012, &quot;姓名&quot;: &quot;张宇&quot;, &quot;职位&quot;: &quot;二级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013106, &quot;姓名&quot;: &quot;张帆&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80013132, &quot;姓名&quot;: &quot;谌云旋&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 176406, &quot;姓名&quot;: &quot;游桄亮&quot;, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;人员工号&quot;: 176407, &quot;姓名&quot;: &quot;薛锦康&quot;, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;人员工号&quot;: 80012629, &quot;姓名&quot;: &quot;柏厚发&quot;, &quot;职位&quot;: &quot;三级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012940, &quot;姓名&quot;: &quot;单雪龙&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 176279, &quot;姓名&quot;: &quot;王东合&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;人员工号&quot;: 80012882, &quot;姓名&quot;: &quot;熊兵&quot;, &quot;职位&quot;: &quot;一级生产操作员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012601, &quot;姓名&quot;: &quot;洪金益&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012757, &quot;姓名&quot;: &quot;吴行旭&quot;, &quot;职位&quot;: &quot;二级技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012714, &quot;姓名&quot;: &quot;黄新平&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80009869, &quot;姓名&quot;: &quot;吴庆宇&quot;, &quot;职位&quot;: &quot;三级保安员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012471, &quot;姓名&quot;: &quot;张富景&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012466, &quot;姓名&quot;: &quot;彭安贵&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 176110, &quot;姓名&quot;: &quot;冯亚利&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;人员工号&quot;: 80012295, &quot;姓名&quot;: &quot;杨鸿麟&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012282, &quot;姓名&quot;: &quot;方贤臣&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012243, &quot;姓名&quot;: &quot;黄小秋&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012003, &quot;姓名&quot;: &quot;黄德标&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80012000, &quot;姓名&quot;: &quot;祝阳阳&quot;, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80011774, &quot;姓名&quot;: &quot;任淼&quot;, &quot;职位&quot;: &quot;一级保安员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;人员工号&quot;: 80011750, &quot;姓名&quot;: &quot;高金辉&quot;, &quot;职位&quot;: &quot;二级保安员&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "这个礼拜离职的F1到F3职级的员工有哪些？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名"], "extend_info": ["复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'FNC', 'shortname': 'OMO', 'fullname': 'Operation management office', 'chinesename': '经营管理部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'FNC', 'shortname': 'COE', 'fullname': 'Center of Excellent', 'chinesename': '专业财务中心'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：截至目前，公司一级机构下有多少个不同的职务？\n\tsql1：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入2：请列出公司各个职级范围的空缺职位数量？\n\tsql2：SELECT 职级范围, SUM(有效编制空缺) AS 空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 职级范围 LIMIT 50\n\n\t用户输入3：当前在QA部门任职经理职务的员工有谁？\n\tsql3：SELECT 姓名, 人员工号, 职务名称 FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'QA' AND (职务名称 LIKE '%经理%' or  职务名称 LIKE '%主任%' ) LIMIT 50\n\n\t用户输入4：目前哪些员工的学历为硕士，并且其所在的一级机构为FE？\n\tsql4：SELECT DISTINCT e.人员工号, e.姓名\nFROM a_sap_employee_education_experience_chinese AS edu\nJOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号\nWHERE edu.学历 = '硕士' AND e.一级机构名称 = 'FE'\nLIMIT 50\n\n\t用户输入5：哪个岗位的人员流动（离职和入职）最频繁?\n\tsql5：SELECT 职位, COUNT(*) AS 流动次数 FROM a_sap_employee_information_chinese Where 雇佣状态='离职' GROUP  BY 职位 ORDER BY 流动次数 DESC LIMIT 1\n\n\t用户输入6：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql6：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n", "current_date": "2024-03-13", "thoughts": "首先，我们需要确定这个礼拜的日期范围，即2024-03-10至2024-03-16。然后，我们将查询离职日期在这个范围内，职级在F1到F3之间，且雇佣状态为'离职'的员工信息。最后，我们将结果限制为最多50条。", "sql": "SELECT 姓名, 人员工号, 职级, 离职日期 FROM a_sap_employee_information_chinese WHERE 职级 IN ('F1', 'F2', 'F3') AND 离职日期 BETWEEN '2024-03-10' AND '2024-03-16' AND 雇佣状态 = '离职' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;任淼&quot;, &quot;人员工号&quot;: 80011774, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;高金辉&quot;, &quot;人员工号&quot;: 80011750, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;王启相&quot;, &quot;人员工号&quot;: 80011514, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;危添亮&quot;, &quot;人员工号&quot;: 80011488, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈增鹏&quot;, &quot;人员工号&quot;: 80011469, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;黄铠滨&quot;, &quot;人员工号&quot;: 80011481, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;吴楠&quot;, &quot;人员工号&quot;: 80011480, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;杨帆&quot;, &quot;人员工号&quot;: 80011461, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;马新帅&quot;, &quot;人员工号&quot;: 80011471, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;赖成成&quot;, &quot;人员工号&quot;: 80011366, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;潘乐国&quot;, &quot;人员工号&quot;: 80011355, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;管玉华&quot;, &quot;人员工号&quot;: 80011166, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;林凯&quot;, &quot;人员工号&quot;: 80011282, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;林雨亭&quot;, &quot;人员工号&quot;: 80011192, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;蓝强&quot;, &quot;人员工号&quot;: 80011137, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;曹文武&quot;, &quot;人员工号&quot;: 80010562, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;杨凯旭&quot;, &quot;人员工号&quot;: 80010702, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈积桃&quot;, &quot;人员工号&quot;: 80010609, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;李伟&quot;, &quot;人员工号&quot;: 143369, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-10T00:00:00&quot;, {&quot;姓名&quot;: &quot;张锡禹&quot;, &quot;人员工号&quot;: 175366, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;李扬&quot;, &quot;人员工号&quot;: 80009870, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;惠海朋&quot;, &quot;人员工号&quot;: 80009881, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;寇玉珂&quot;, &quot;人员工号&quot;: 175209, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;孙小槟&quot;, &quot;人员工号&quot;: 80009759, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;翟贵改&quot;, &quot;人员工号&quot;: 21251, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;林龙&quot;, &quot;人员工号&quot;: 80009596, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;张文龙&quot;, &quot;人员工号&quot;: 172587, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;王德钦&quot;, &quot;人员工号&quot;: 80009317, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈光玉&quot;, &quot;人员工号&quot;: 128674, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;谢明杰&quot;, &quot;人员工号&quot;: 80002699, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;谢惠敏&quot;, &quot;人员工号&quot;: 80009996, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;吴敬丰&quot;, &quot;人员工号&quot;: 80010278, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;李洋根&quot;, &quot;人员工号&quot;: 80008585, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;姚陈云&quot;, &quot;人员工号&quot;: 174679, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;耿上&quot;, &quot;人员工号&quot;: 174569, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;黄惺皓&quot;, &quot;人员工号&quot;: 173914, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;廖辉&quot;, &quot;人员工号&quot;: 173840, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-10T00:00:00&quot;, {&quot;姓名&quot;: &quot;李俊晓&quot;, &quot;人员工号&quot;: 173021, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;谭贵来&quot;, &quot;人员工号&quot;: 80010201, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;晁笑娜&quot;, &quot;人员工号&quot;: 172544, &quot;职级&quot;: &quot;F1&quot;, &quot;离职日期&quot;: &quot;2024-03-10T00:00:00&quot;, {&quot;姓名&quot;: &quot;凌志强&quot;, &quot;人员工号&quot;: 80003384, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;张东傲&quot;, &quot;人员工号&quot;: 172153, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;王志强&quot;, &quot;人员工号&quot;: 80002856, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;杨晶晶&quot;, &quot;人员工号&quot;: 171109, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;蒋德粉&quot;, &quot;人员工号&quot;: 80010461, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot;, {&quot;姓名&quot;: &quot;王亮&quot;, &quot;人员工号&quot;: 167341, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;魏德梢&quot;, &quot;人员工号&quot;: 146228, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;张钦&quot;, &quot;人员工号&quot;: 141970, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;尹文坡&quot;, &quot;人员工号&quot;: 82161, &quot;职级&quot;: &quot;F3&quot;, &quot;离职日期&quot;: &quot;2024-03-11T00:00:00&quot;, {&quot;姓名&quot;: &quot;王江豪&quot;, &quot;人员工号&quot;: 80013778, &quot;职级&quot;: &quot;F2&quot;, &quot;离职日期&quot;: &quot;2024-03-12T00:00:00&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "这个礼拜人事范围是ND离职的F1到F3职级的员工有哪些？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名"], "extend_info": ["复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'parent_org': 'SD', 'shortname': 'EHS-ND', 'fullname': 'Environment,Health and Safety Management(ND)', 'chinesename': 'EHS-ND管理组'}", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'FNC', 'shortname': 'OMO', 'fullname': 'Operation management office', 'chinesename': '经营管理部'}", "{'parent_org': 'CL', 'shortname': 'ND-Lab', 'fullname': 'ND-Lab', 'chinesename': '宁德实验室'}", "{'parent_org': 'LOG', 'shortname': 'LOG-ND', 'fullname': 'Logistics-ND', 'chinesename': '宁德物流部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请列出公司各个职级范围的空缺职位数量？\n\tsql2：SELECT 职级范围, SUM(有效编制空缺) AS 空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 职级范围 LIMIT 50\n\n\t用户输入3：截至目前，公司一级机构下有多少个不同的职务？\n\tsql3：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入4：请列出目前所有员工的姓名和对应的职位。\n\tsql4：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入5：当前在QA部门任职经理职务的员工有谁？\n\tsql5：SELECT 姓名, 人员工号, 职务名称 FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'QA' AND (职务名称 LIKE '%经理%' or  职务名称 LIKE '%主任%' ) LIMIT 50\n\n\t用户输入6：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql6：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n", "current_date": "2024-03-13", "thoughts": "首先，我们需要确定这个礼拜的日期范围，即2024-03-10至2024-03-16。然后，我们将在a_sap_employee_information_chinese表中查询人事范围为'ND'，职级在'F1'到'F3'之间，离职日期在这个礼拜范围内的员工信息。由于用户没有指定需要哪些具体信息，我们将返回员工的姓名和人员工号。", "sql": "SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 人事范围 = 'ND' AND 职级 IN ('F1', 'F2', 'F3') AND 离职日期 BETWEEN '2024-03-10' AND '2024-03-16' AND 雇佣状态 = '离职' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;张豪&quot;, &quot;人员工号&quot;: 176750, {&quot;姓名&quot;: &quot;张丽波&quot;, &quot;人员工号&quot;: 176546, {&quot;姓名&quot;: &quot;侯佳&quot;, &quot;人员工号&quot;: 176476, {&quot;姓名&quot;: &quot;游桄亮&quot;, &quot;人员工号&quot;: 176406, {&quot;姓名&quot;: &quot;薛锦康&quot;, &quot;人员工号&quot;: 176407, {&quot;姓名&quot;: &quot;王东合&quot;, &quot;人员工号&quot;: 176279, {&quot;姓名&quot;: &quot;冯亚利&quot;, &quot;人员工号&quot;: 176110, {&quot;姓名&quot;: &quot;李伟&quot;, &quot;人员工号&quot;: 143369, {&quot;姓名&quot;: &quot;张锡禹&quot;, &quot;人员工号&quot;: 175366, {&quot;姓名&quot;: &quot;寇玉珂&quot;, &quot;人员工号&quot;: 175209, {&quot;姓名&quot;: &quot;翟贵改&quot;, &quot;人员工号&quot;: 21251, {&quot;姓名&quot;: &quot;张文龙&quot;, &quot;人员工号&quot;: 172587, {&quot;姓名&quot;: &quot;陈光玉&quot;, &quot;人员工号&quot;: 128674, {&quot;姓名&quot;: &quot;姚陈云&quot;, &quot;人员工号&quot;: 174679, {&quot;姓名&quot;: &quot;耿上&quot;, &quot;人员工号&quot;: 174569, {&quot;姓名&quot;: &quot;黄惺皓&quot;, &quot;人员工号&quot;: 173914, {&quot;姓名&quot;: &quot;廖辉&quot;, &quot;人员工号&quot;: 173840, {&quot;姓名&quot;: &quot;李俊晓&quot;, &quot;人员工号&quot;: 173021, {&quot;姓名&quot;: &quot;晁笑娜&quot;, &quot;人员工号&quot;: 172544, {&quot;姓名&quot;: &quot;张东傲&quot;, &quot;人员工号&quot;: 172153, {&quot;姓名&quot;: &quot;杨晶晶&quot;, &quot;人员工号&quot;: 171109, {&quot;姓名&quot;: &quot;石新瑞&quot;, &quot;人员工号&quot;: 95253, {&quot;姓名&quot;: &quot;王建坤&quot;, &quot;人员工号&quot;: 155527, {&quot;姓名&quot;: &quot;刘翠香&quot;, &quot;人员工号&quot;: 86441, {&quot;姓名&quot;: &quot;郭彦超&quot;, &quot;人员工号&quot;: 139823, {&quot;姓名&quot;: &quot;何永琴&quot;, &quot;人员工号&quot;: 160528, {&quot;姓名&quot;: &quot;魏德梢&quot;, &quot;人员工号&quot;: 146228, {&quot;姓名&quot;: &quot;叶年华&quot;, &quot;人员工号&quot;: 144288, {&quot;姓名&quot;: &quot;王亮&quot;, &quot;人员工号&quot;: 167341, {&quot;姓名&quot;: &quot;张钦&quot;, &quot;人员工号&quot;: 141970, {&quot;姓名&quot;: &quot;尹文坡&quot;, &quot;人员工号&quot;: 82161 "}
{"db_name": "hr_chinese_fk", "user_input": "人事范围是ND的复职人员又哪些？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名"], "extend_info": ["复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "{'parent_org': 'SD', 'shortname': 'EHS-ND', 'fullname': 'Environment,Health and Safety Management(ND)', 'chinesename': 'EHS-ND管理组'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'CL', 'shortname': 'ND-Lab', 'fullname': 'ND-Lab', 'chinesename': '宁德实验室'}", "{'parent_org': 'LOG', 'shortname': 'LOG-ND', 'fullname': 'Logistics-ND', 'chinesename': '宁德物流部'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：当前公司有哪些职务的员工?\n\tsql1：SELECT DISTINCT 职务名称 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入2：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql2：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入3：请列出目前所有员工的姓名和对应的职位。\n\tsql3：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入4：当前在QA部门任职经理职务的员工有谁？\n\tsql4：SELECT 姓名, 人员工号, 职务名称 FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'QA' AND (职务名称 LIKE '%经理%' or  职务名称 LIKE '%主任%' ) LIMIT 50\n\n\t用户输入5：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql5：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入6：请列出公司各个职级范围的空缺职位数量？\n\tsql6：SELECT 职级范围, SUM(有效编制空缺) AS 空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 职级范围 LIMIT 50\n\n", "current_date": "2024-03-13", "thoughts": "根据用户的问题，我们需要从员工基本信息表中查询人事范围为'ND'的员工，且这些员工的雇佣状态应为'在职'，同时他们的离职原因不为空，这样我们可以确定他们是复职人员。我们将使用SQL查询来获取这些信息。", "sql": "SELECT 姓名, 人员工号, 职位, 雇佣状态, 离职原因 FROM a_sap_employee_information_chinese WHERE 人事范围 = 'ND' AND 雇佣状态 = '在职' AND 离职原因 IS NOT NULL LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;唐银珍&quot;, &quot;人员工号&quot;: 172452, &quot;职位&quot;: &quot;一级检验技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;阳力&quot;, &quot;人员工号&quot;: 11836, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;齐金芳&quot;, &quot;人员工号&quot;: 70506, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;何俊涛&quot;, &quot;人员工号&quot;: 72876, &quot;职位&quot;: &quot;二级生产资深技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;梁俊浩&quot;, &quot;人员工号&quot;: 152953, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;刘远良&quot;, &quot;人员工号&quot;: 165978, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;粘雅丹&quot;, &quot;人员工号&quot;: 133257, &quot;职位&quot;: &quot;一级检验技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;蔡淼涛&quot;, &quot;人员工号&quot;: 140176, &quot;职位&quot;: &quot;电气工程师&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;王亦平&quot;, &quot;人员工号&quot;: 148830, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;冯柏文&quot;, &quot;人员工号&quot;: 149344, &quot;职位&quot;: &quot;三级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;豆楠楠&quot;, &quot;人员工号&quot;: 108861, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;周腾扬&quot;, &quot;人员工号&quot;: 109212, &quot;职位&quot;: &quot;一级保安员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;葛朋辉&quot;, &quot;人员工号&quot;: 128416, &quot;职位&quot;: &quot;一级保安员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;朱锦泓&quot;, &quot;人员工号&quot;: 115799, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;姚银银&quot;, &quot;人员工号&quot;: 125910, &quot;职位&quot;: &quot;PRJ项目工程师&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;刘明哲&quot;, &quot;人员工号&quot;: 173244, &quot;职位&quot;: &quot;一级检验技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;殷海强&quot;, &quot;人员工号&quot;: 165209, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;方宇&quot;, &quot;人员工号&quot;: 145952, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;刘浩&quot;, &quot;人员工号&quot;: 154431, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;戚铭刚&quot;, &quot;人员工号&quot;: 21301, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;孙闲闲&quot;, &quot;人员工号&quot;: 57029, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;张晓群&quot;, &quot;人员工号&quot;: 85697, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;徐瑞超&quot;, &quot;人员工号&quot;: 90552, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;乔少俊&quot;, &quot;人员工号&quot;: 101580, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;集团内互转&quot;, {&quot;姓名&quot;: &quot;李俊俊&quot;, &quot;人员工号&quot;: 159174, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;肖小文&quot;, &quot;人员工号&quot;: 152219, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;王赛&quot;, &quot;人员工号&quot;: 153706, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;杨娜&quot;, &quot;人员工号&quot;: 143192, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;集团内互转&quot;, {&quot;姓名&quot;: &quot;刘述杰&quot;, &quot;人员工号&quot;: 150883, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;宋江丽&quot;, &quot;人员工号&quot;: 115985, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;程苗&quot;, &quot;人员工号&quot;: 172539, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;曹亚闯&quot;, &quot;人员工号&quot;: 166383, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;李扬扬&quot;, &quot;人员工号&quot;: 162910, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;赵博兴&quot;, &quot;人员工号&quot;: 155406, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;杜志会&quot;, &quot;人员工号&quot;: 27543, &quot;职位&quot;: &quot;制造主管&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;集团内互转&quot;, {&quot;姓名&quot;: &quot;范帅&quot;, &quot;人员工号&quot;: 156592, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;魏康菊&quot;, &quot;人员工号&quot;: 131442, &quot;职位&quot;: &quot;一级检验技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;郭浩晶&quot;, &quot;人员工号&quot;: 131782, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;梅园&quot;, &quot;人员工号&quot;: 93875, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;朱盼盼&quot;, &quot;人员工号&quot;: 98494, &quot;职位&quot;: &quot;一级检验技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;葛燕&quot;, &quot;人员工号&quot;: 111459, &quot;职位&quot;: &quot;三级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;杨百占&quot;, &quot;人员工号&quot;: 131214, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;杨飞佳&quot;, &quot;人员工号&quot;: 174013, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;甘小克&quot;, &quot;人员工号&quot;: 165121, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;赵文玲&quot;, &quot;人员工号&quot;: 146755, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;陈延智&quot;, &quot;人员工号&quot;: 129072, &quot;职位&quot;: &quot;制造三级技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;郑鸿海&quot;, &quot;人员工号&quot;: 131965, &quot;职位&quot;: &quot;产品研发一级技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;何国运&quot;, &quot;人员工号&quot;: 123575, &quot;职位&quot;: &quot;三级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;自离-无薪&quot;, {&quot;姓名&quot;: &quot;马革霞&quot;, &quot;人员工号&quot;: 61033, &quot;职位&quot;: &quot;二级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot;, {&quot;姓名&quot;: &quot;李高扬&quot;, &quot;人员工号&quot;: 85235, &quot;职位&quot;: &quot;一级生产技术员&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;离职原因&quot;: &quot;辞职&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "你好，我想看看哪些员工的紧急联系人是空白的、无法联系的，请帮我调出相应的人员", "top_k": "50", "dialect": "postgresql", "table_info": [], "extend_info": ["复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'parent_org': 'SLS', 'shortname': 'BO/CS', 'fullname': 'Back office/Customer Service', 'chinesename': '销售支持/客服'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：目前公司总共有多少空缺职位？\n\tsql1：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入2：我们想知道当前有多少个职位是空缺的，即有效编制空缺大于0的职位。\n\tsql2：SELECT COUNT(*) FROM a_sap_staffing_recruitment_plan_chinese WHERE 有效编制空缺 > 0;\n\n\t用户输入3：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql3：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入4：请列出目前所有员工的姓名和对应的职位。\n\tsql4：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入5：请列出公司各个职级范围的空缺职位数量？\n\tsql5：SELECT 职级范围, SUM(有效编制空缺) AS 空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 职级范围 LIMIT 50\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-13", "thoughts": "由于没有提供具体的表结构信息，无法知道哪个表包含员工的紧急联系人信息以及如何判断紧急联系人是否为空白或无法联系。因此，无法创建一个SQL查询来检索这些信息。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "你好，我想看看哪些员工的紧急联系人是空白的、无法联系的，请帮我调出相应的人员", "top_k": "50", "dialect": "postgresql", "table_info": [], "extend_info": ["复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}", "{'parent_org': 'SLS', 'shortname': 'BO/CS', 'fullname': 'Back office/Customer Service', 'chinesename': '销售支持/客服'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：目前公司总共有多少空缺职位？\n\tsql1：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入2：我们想知道当前有多少个职位是空缺的，即有效编制空缺大于0的职位。\n\tsql2：SELECT COUNT(*) FROM a_sap_staffing_recruitment_plan_chinese WHERE 有效编制空缺 > 0;\n\n\t用户输入3：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql3：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入4：请列出目前所有员工的姓名和对应的职位。\n\tsql4：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入5：请列出公司各个职级范围的空缺职位数量？\n\tsql5：SELECT 职级范围, SUM(有效编制空缺) AS 空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 职级范围 LIMIT 50\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-13", "thoughts": "由于没有提供具体的表结构信息，无法知道哪个表包含员工的紧急联系人信息，也无法确定紧急联系人信息是以何种形式存储（例如，是否有一个专门的字段来表示紧急联系人的信息）。因此，我无法创建一个SQL查询来检索员工的紧急联系人信息。如果紧急联系人信息存储在已知的表中，并且有一个明确的字段来表示它，那么可以使用类似于'WHERE 紧急联系人字段 IS NULL OR 紧急联系人字段 = '' '的条件来查找紧急联系人为空的员工。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "HR部门2024年1-2月加班情况", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:下班1:【员工当天第一次打下班卡的时间】,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,旷工小时数,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,人事范围,职位,有效值班", "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:婚姻状况,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,开始参加工作日期,身份证地址的省_直辖市,籍贯,民族,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}", "{'parent_org': 'ME', 'shortname': 'ME-ND2', 'fullname': 'ME-ND2', 'chinesename': 'ND制造工程部2'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql1：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入2：请问今年每个月的编制空缺数量和实际在职人数有什么变化？\n\tsql2：SELECT r.编制月度, SUM(r.有效编制空缺) AS 编制空缺数量, COUNT(e.人员工号) AS 实际在职人数 FROM a_sap_staffing_recruitment_plan_chinese r LEFT JOIN a_sap_employee_information_chinese e ON r.一级机构 = e.一级机构名称 AND r.二级机构 = e.二级机构名称 AND r.三级机构 = e.三级机构名称 WHERE r.编制年度 = 'T128' AND e.雇佣状态 = '在职' GROUP BY r.编制月度 ORDER BY r.编制月度 ASC LIMIT 50\n\n\t用户输入3：请问今年（假设是T128年）Q4季度，我公司有多少编制空缺需要填补？\n\tsql3：SELECT SUM(季度可申请空缺数量) AS 总编制空缺数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (10, 11, 12)\n\n\t用户输入4：在2022年Q1，公司有多少有效编制空缺？\n\tsql4：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (1, 2, 3)\n\n\t用户输入5：请找出2022年Q2期间入职，并且是硕士学历的员工名单。\n\tsql5：SELECT 姓名 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士' AND 入职日期 >= '2022-07-01' AND 入职日期 <= '2022-09-30' LIMIT 50\n\n\t用户输入6：公司今年第二季度的有效编制空缺数量是多少？\n\tsql6：SELECT SUM(有效编制空缺) AS 第二季度有效编制空缺总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (7, 8, 9)\n\n", "current_date": "2024-03-13", "thoughts": "为了查询HR部门2024年1-2月的加班情况，我们需要从考勤表中筛选出HR部门的员工，并且考勤日期在2024年1月和2月之间的记录。然后我们可以统计这段时间内的有效平时加班、有效周末加班和有效法定加班的总和。HR部门包括人才招聘与调配部(TA)、薪酬与激励部(TR)、海外管理部(OM)、运营中心(OPS)和组织与人才发展部(O&TD)。", "sql": "SELECT 一级机构, SUM(有效平时加班) AS 平时加班总时长, SUM(有效周末加班) AS 周末加班总时长, SUM(有效法定加班) AS 法定加班总时长 FROM a_sap_employee_attendance_details_chinese WHERE (一级机构 = 'TA' OR 一级机构 = 'TR' OR 一级机构 = 'OM' OR 一级机构 = 'OPS' OR 一级机构 = 'O&TD') AND 考勤日期 BETWEEN '2024-01-01' AND '2024-02-29' GROUP BY 一级机构 LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "HR部门2024年1月加班情况", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:下班1:【员工当天第一次打下班卡的时间】,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,旷工小时数,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,人事范围,职位,有效值班", "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:婚姻状况,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,开始参加工作日期,身份证地址的省_直辖市,籍贯,民族,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql1：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入2：请问今年（假设是T128年）Q4季度，我公司有多少编制空缺需要填补？\n\tsql2：SELECT SUM(季度可申请空缺数量) AS 总编制空缺数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (10, 11, 12)\n\n\t用户输入3：请问今年每个月的编制空缺数量和实际在职人数有什么变化？\n\tsql3：SELECT r.编制月度, SUM(r.有效编制空缺) AS 编制空缺数量, COUNT(e.人员工号) AS 实际在职人数 FROM a_sap_staffing_recruitment_plan_chinese r LEFT JOIN a_sap_employee_information_chinese e ON r.一级机构 = e.一级机构名称 AND r.二级机构 = e.二级机构名称 AND r.三级机构 = e.三级机构名称 WHERE r.编制年度 = 'T128' AND e.雇佣状态 = '在职' GROUP BY r.编制月度 ORDER BY r.编制月度 ASC LIMIT 50\n\n\t用户输入4：在2022年Q1，公司有多少有效编制空缺？\n\tsql4：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (1, 2, 3)\n\n\t用户输入5：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql5：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "current_date": "2024-03-13", "thoughts": "为了查询HR部门2024年1月的加班情况，我们需要从考勤表中筛选出HR部门的员工，并且限定考勤日期在2024年1月份。然后我们需要计算每个员工的加班小时数，包括有效平时加班、有效周末加班和有效法定加班。由于表结构中没有直接提供部门信息，我们需要使用员工信息表中的一级机构字段来确定员工是否属于HR部门。根据背景知识，HR部门的一级机构简称包括'TA', 'OM', 'TR', 'OPS', 'O&TD'。我们将使用这些简称来过滤HR部门的员工。最后，我们将结果限制为最多50条记录。", "sql": "SELECT e.姓名, e.人员工号, SUM(a.有效平时加班) AS 总有效平时加班, SUM(a.有效周末加班) AS 总有效周末加班, SUM(a.有效法定加班) AS 总有效法定加班 FROM a_sap_employee_attendance_details_chinese a JOIN a_sap_employee_information_chinese e ON a.人员工号 = e.人员工号 WHERE e.一级机构 IN ('TA', 'OM', 'TR', 'OPS', 'O&TD') AND a.考勤日期 BETWEEN '2024-01-01' AND '2024-01-31' AND e.雇佣状态 = '在职' GROUP BY e.姓名, e.人员工号 ORDER BY e.姓名 LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "一级机构为HR部门2024年1月加班情况", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:下班1:【员工当天第一次打下班卡的时间】,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,旷工小时数,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几,考勤日期,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,异常类型,出勤工时,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,人事范围,职位,有效值班"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}", "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}", "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}", "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql1：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入2：哪个一级机构下的在职员工人数最多？\n\tsql2：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入3：请问公司各个一级机构的编制使用情况和现职人数分别是多少？\n\tsql3：SELECT s.一级机构, SUM(s.年度编制数量) AS 年度编制数量, SUM(s.季度编制数量) AS 季度编制数量, SUM(s.月度编制数量) AS 月度编制数量, SUM(p.现职人数) AS 现职人数 FROM a_sap_staffing_recruitment_plan_chinese s JOIN a_sap_positions_responsibilities_risks_chinese p ON s.一级机构 = p.一级机构 GROUP BY s.一级机构 LIMIT 50\n\n\t用户输入4：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql4：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入5：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql5：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入6：请问今年每个月的编制空缺数量和实际在职人数有什么变化？\n\tsql6：SELECT r.编制月度, SUM(r.有效编制空缺) AS 编制空缺数量, COUNT(e.人员工号) AS 实际在职人数 FROM a_sap_staffing_recruitment_plan_chinese r LEFT JOIN a_sap_employee_information_chinese e ON r.一级机构 = e.一级机构名称 AND r.二级机构 = e.二级机构名称 AND r.三级机构 = e.三级机构名称 WHERE r.编制年度 = 'T128' AND e.雇佣状态 = '在职' GROUP BY r.编制月度 ORDER BY r.编制月度 ASC LIMIT 50\n\n", "current_date": "2024-03-13", "thoughts": "用户想要查询HR部门在2024年1月的加班情况。根据提供的表结构定义，我们可以使用表a_sap_employee_attendance_details_chinese来查询加班相关的数据。我们需要筛选出考勤日期在2024年1月的记录，并且只查看HR部门的数据。由于表结构中没有直接提供一级机构的字段，我们无法直接通过一级机构来过滤数据。因此，我们无法生成一个完整的SQL查询来回答用户的问题。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "公司有多少人？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;"], "display_type": "response_table", "qa_samples": "\t用户输入1：查找到现在为止，公司一共有多少名员工？\n\tsql1：SELECT COUNT(*) FROM a_sap_employee_information_chinese;\n\n\t用户输入2：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql2：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入3：查找公司中男性员工的数量？\n\tsql3：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 性别 = '男'\n\n\t用户输入4：公司有多少位具有博士学历的员工？\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '博士'\n\n\t用户输入5：目前公司总共有多少空缺职位？\n\tsql5：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入6：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql6：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n", "current_date": "2024-03-14", "thoughts": "用户想要知道公司目前的员工总数，不区分雇佣状态。因此，我们需要对a_sap_employee_information_chinese表中的所有记录进行计数。", "sql": "SELECT COUNT(*) FROM a_sap_employee_information_chinese;", "ai_sql_result": "199087 "}
{"db_name": "hr_chinese_fk", "user_input": "IDT在职有多少人？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tIDT\t|\tInformation Digital Technology\t|\t信息数字化技术部\t|\n|\t二级机构\t|\tIDT\t|\tIDT-MO\t|\tIDT-Management Office\t|\tIDT管理办公室\t|\n|\t二级机构\t|\tIDT\t|\tBP-RD\t|\tBusiness Partner-RD\t|\t研发解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tBP-SCM\t|\tBusiness Partner-SCM\t|\t供应链解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tBP-MU\t|\tBusiness Partner-MU\t|\t制造解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tAI\t|\tIndustrial Artificial Intelligence\t|\t工业智能部\t|\n|\t二级机构\t|\tIDT\t|\tDP\t|\tData Platform\t|\t数据平台部\t|\n|\t二级机构\t|\tIDT\t|\tAD\t|\tApplication Development\t|\t技术开发部\t|\n|\t二级机构\t|\tIDT\t|\tCS\t|\tClient Service\t|\t桌面服务部\t|\n|\t二级机构\t|\tIDT\t|\tIS\t|\tInfrastructure Service\t|\t基础设施服务部\t|"], "display_type": "response_table", "qa_samples": "\t用户输入1：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql1：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入2：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql2：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入3：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql3：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql5：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入6：目前哪个职位的员工数量最多？\n\tsql6：select 职位,count(*) as 数量 from a_sap_employee_information_chinese  group by 职位 order by 数量 desc\n\n", "current_date": "2024-03-14", "thoughts": "为了找出IDT部门在职员工的数量，我们需要从员工基本信息表中筛选出一级机构为IDT且雇佣状态为在职的员工，并计算这样的员工有多少人。", "sql": "SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 一级机构 = 'IDT' AND 雇佣状态 = '在职'", "ai_sql_result": "206 "}
{"db_name": "hr_chinese_fk", "user_input": "HR-O&TD在职多少人？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|"], "display_type": "response_table", "qa_samples": "\t用户输入1：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql1：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入2：当前具有硕士及以上学历的员工总数是多少？\n\tsql2：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入3：公司有多少位具有博士学历的员工？\n\tsql3：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '博士'\n\n\t用户输入4：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql4：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入5：当前有多少员工具备硕士学历？\n\tsql5：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入6：目前公司总共有多少空缺职位？\n\tsql6：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n", "current_date": "2024-03-14", "thoughts": "为了找出HR-O&TD部门在职的员工数量，我们需要从员工基本信息表中筛选出二级机构为'O&TD'且雇佣状态为'在职'的员工，然后计算这样的员工有多少人。", "sql": "SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 二级机构 = 'O&TD' AND 雇佣状态 = '在职'", "ai_sql_result": "8 "}
{"db_name": "hr_chinese_fk", "user_input": "HR-O&TD在职多少人？详细人员名单", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|"], "display_type": "response_table", "qa_samples": "\t用户输入1：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql1：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入2：当前具有硕士及以上学历的员工总数是多少？\n\tsql2：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入3：目前公司总共有多少空缺职位？\n\tsql3：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入4：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql4：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入5：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql5：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n\t用户输入6：公司有多少位具有博士学历的员工？\n\tsql6：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '博士'\n\n", "current_date": "2024-03-14", "thoughts": "首先，我们需要从员工基本信息表中筛选出属于HR部门下的组织与人才发展部（O&TD）的在职员工。根据表结构定义，我们可以使用二级机构字段来确定员工是否属于O&TD部门，并使用雇佣状态字段来筛选出在职员工。然后，我们将查询结果限制为最多50个结果。", "sql": "SELECT 姓名 FROM a_sap_employee_information_chinese WHERE 二级机构 = 'O&TD' AND 雇佣状态 = '在职' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;江铃&quot;, {&quot;姓名&quot;: &quot;林桂仙&quot;, {&quot;姓名&quot;: &quot;陈婷&quot;, {&quot;姓名&quot;: &quot;林巍然&quot;, {&quot;姓名&quot;: &quot;张苗&quot;, {&quot;姓名&quot;: &quot;齐焕然&quot;, {&quot;姓名&quot;: &quot;徐琴&quot;, {&quot;姓名&quot;: &quot;彭敦鸾&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "HR-O&TD在职多少人？详细人员名单，职位，家乡归属地，学历", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期", "Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,开始日期:【受教育的开始日期】,结束日期:【受教育的结束日期】,第一专业,证书,国家,院校_培训机构,教育类型"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|"], "display_type": "response_table", "qa_samples": "\t用户输入1：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql1：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入2：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql2：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入3：当前具有硕士及以上学历的员工总数是多少？\n\tsql3：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入4：请问公司当前招聘编制使用情况与编制数量各是多少？\n\tsql4：SELECT 编制年度, SUM(有效编制空缺) AS 当前有效编制空缺总数, SUM(年度编制数量) AS 当前年度编制数量总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T129' GROUP BY 编制年度 LIMIT 50\n\n\t用户输入5：目前公司总共有多少空缺职位？\n\tsql5：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入6：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql6：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n", "current_date": "2024-03-14", "thoughts": "为了找出HR-O&TD在职的人数以及他们的详细信息，我们需要从a_sap_employee_information_chinese表中筛选出二级机构为'O&TD'且雇佣状态为'在职'的员工。然后，我们需要连接a_sap_employee_education_experience_chinese表来获取他们的学历信息。我们将使用INNER JOIN来连接这两个表，因为我们只对那些在两个表中都有记录的员工感兴趣。", "sql": "SELECT e.姓名, e.职位, e.籍贯, ed.学历 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.二级机构 = 'O&TD' AND e.雇佣状态 = '在职' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;江铃&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;福建闽清&quot;, &quot;学历&quot;: &quot;大学本科&quot;, {&quot;姓名&quot;: &quot;齐焕然&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;河北省唐山市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, {&quot;姓名&quot;: &quot;林桂仙&quot;, &quot;职位&quot;: &quot;人才发展专员&quot;, &quot;籍贯&quot;: &quot;福建省福鼎市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, {&quot;姓名&quot;: &quot;徐琴&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;湖北荆州&quot;, &quot;学历&quot;: &quot;大学本科&quot;, {&quot;姓名&quot;: &quot;林巍然&quot;, &quot;职位&quot;: &quot;二级机构负责人(O&amp;TD)&quot;, &quot;籍贯&quot;: &quot;福建省福州市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, {&quot;姓名&quot;: &quot;张苗&quot;, &quot;职位&quot;: &quot;人才发展三级资深助理&quot;, &quot;籍贯&quot;: &quot;陕西省富平县&quot;, &quot;学历&quot;: &quot;高中&quot;, {&quot;姓名&quot;: &quot;陈婷&quot;, &quot;职位&quot;: &quot;人才发展主管&quot;, &quot;籍贯&quot;: &quot;桂林市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, {&quot;姓名&quot;: &quot;彭敦鸾&quot;, &quot;职位&quot;: &quot;人才发展一级资深助理&quot;, &quot;籍贯&quot;: &quot;福建省宁德市&quot;, &quot;学历&quot;: &quot;初中及以下&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "HR-O&TD在职多少人？详细人员名单，职位，家乡归属地，学历，毕业学校？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期", "Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,开始日期:【受教育的开始日期】,结束日期:【受教育的结束日期】,第一专业,证书,国家,院校_培训机构,教育类型"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|"], "display_type": "response_table", "qa_samples": "\t用户输入1：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql1：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入2：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql2：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入3：当前具有硕士及以上学历的员工总数是多少？\n\tsql3：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入4：请问公司当前招聘编制使用情况与编制数量各是多少？\n\tsql4：SELECT 编制年度, SUM(有效编制空缺) AS 当前有效编制空缺总数, SUM(年度编制数量) AS 当前年度编制数量总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T129' GROUP BY 编制年度 LIMIT 50\n\n\t用户输入5：目前公司总共有多少空缺职位？\n\tsql5：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入6：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql6：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n", "current_date": "2024-03-14", "thoughts": "为了回答这个问题，我们需要从a_sap_employee_information_chinese表中找到HR-O&TD部门在职的员工，然后连接a_sap_employee_education_experience_chinese表来获取他们的学历和毕业学校信息。我们将使用INNER JOIN来连接这两个表，并且使用WHERE子句来筛选在职状态和HR-O&TD部门。", "sql": "SELECT e.姓名, e.职位, e.籍贯, ed.学历, ed.院校_培训机构 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND e.二级机构 = 'O&TD' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;林巍然&quot;, &quot;职位&quot;: &quot;二级机构负责人(O&amp;TD)&quot;, &quot;籍贯&quot;: &quot;福建省福州市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南财经大学&quot;, {&quot;姓名&quot;: &quot;齐焕然&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;河北省唐山市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;西安文理学院&quot;, {&quot;姓名&quot;: &quot;林桂仙&quot;, &quot;职位&quot;: &quot;人才发展专员&quot;, &quot;籍贯&quot;: &quot;福建省福鼎市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南大学&quot;, {&quot;姓名&quot;: &quot;彭敦鸾&quot;, &quot;职位&quot;: &quot;人才发展一级资深助理&quot;, &quot;籍贯&quot;: &quot;福建省宁德市&quot;, &quot;学历&quot;: &quot;初中及以下&quot;, &quot;院校_培训机构&quot;: &quot;宁德4中&quot;, {&quot;姓名&quot;: &quot;张苗&quot;, &quot;职位&quot;: &quot;人才发展三级资深助理&quot;, &quot;籍贯&quot;: &quot;陕西省富平县&quot;, &quot;学历&quot;: &quot;高中&quot;, &quot;院校_培训机构&quot;: &quot;刘集高级中学&quot;, {&quot;姓名&quot;: &quot;徐琴&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;湖北荆州&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;长江大学&quot;, {&quot;姓名&quot;: &quot;陈婷&quot;, &quot;职位&quot;: &quot;人才发展主管&quot;, &quot;籍贯&quot;: &quot;桂林市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;天津商业大学&quot;, {&quot;姓名&quot;: &quot;江铃&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;福建闽清&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中国矿业大学&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "O&TD在职多少人？详细人员名单，职位，家乡归属地，学历，毕业学校？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期", "Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,开始日期:【受教育的开始日期】,结束日期:【受教育的结束日期】,第一专业,证书,国家,院校_培训机构,教育类型"], "extend_info": ["'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "复职员工的条件为：离职原因不为空，同时雇佣状态是在值的人员。", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|"], "display_type": "response_table", "qa_samples": "\t用户输入1：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql1：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入2：当前具有硕士及以上学历的员工总数是多少？\n\tsql2：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入3：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql3：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n\t用户输入4：当前有多少员工具备硕士学历？\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入5：持有本科学历的员工有多少人?\n\tsql5：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科';\n\n\t用户输入6：请问有哪些员工的学历是硕士及以上？\n\tsql6：SELECT 人员工号, 姓名, 学历 FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士') LIMIT 50\n\n", "current_date": "2024-03-14", "thoughts": "为了回答这个问题，我们需要从a_sap_employee_information_chinese表中找到O&TD部门的在职员工，然后将这些员工的人员工号与a_sap_employee_education_experience_chinese表连接，以获取他们的学历和毕业学校信息。我们将使用INNER JOIN来连接这两个表，并且使用WHERE子句来筛选出在职状态和二级机构为O&TD的员工。", "sql": "SELECT e.姓名, e.职位, e.籍贯, ed.学历, ed.院校_培训机构 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND e.二级机构 = 'O&TD' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;林巍然&quot;, &quot;职位&quot;: &quot;二级机构负责人(O&amp;TD)&quot;, &quot;籍贯&quot;: &quot;福建省福州市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南财经大学&quot;, {&quot;姓名&quot;: &quot;张苗&quot;, &quot;职位&quot;: &quot;人才发展三级资深助理&quot;, &quot;籍贯&quot;: &quot;陕西省富平县&quot;, &quot;学历&quot;: &quot;高中&quot;, &quot;院校_培训机构&quot;: &quot;刘集高级中学&quot;, {&quot;姓名&quot;: &quot;齐焕然&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;河北省唐山市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;西安文理学院&quot;, {&quot;姓名&quot;: &quot;林桂仙&quot;, &quot;职位&quot;: &quot;人才发展专员&quot;, &quot;籍贯&quot;: &quot;福建省福鼎市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南大学&quot;, {&quot;姓名&quot;: &quot;陈婷&quot;, &quot;职位&quot;: &quot;人才发展主管&quot;, &quot;籍贯&quot;: &quot;桂林市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;天津商业大学&quot;, {&quot;姓名&quot;: &quot;江铃&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;福建闽清&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中国矿业大学&quot;, {&quot;姓名&quot;: &quot;徐琴&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;湖北荆州&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;长江大学&quot;, {&quot;姓名&quot;: &quot;彭敦鸾&quot;, &quot;职位&quot;: &quot;人才发展一级资深助理&quot;, &quot;籍贯&quot;: &quot;福建省宁德市&quot;, &quot;学历&quot;: &quot;初中及以下&quot;, &quot;院校_培训机构&quot;: &quot;宁德4中&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "O&TD在职多少人？详细人员名单，职位，家乡归属地，学历，毕业学校？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期", "Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,开始日期:【受教育的开始日期】,结束日期:【受教育的结束日期】,第一专业,证书,国家,院校_培训机构,教育类型"], "extend_info": "|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql1：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入2：当前具有硕士及以上学历的员工总数是多少？\n\tsql2：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入3：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql3：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n\t用户输入4：当前有多少员工具备硕士学历？\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入5：持有本科学历的员工有多少人?\n\tsql5：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科';\n\n\t用户输入6：请问有哪些员工的学历是硕士及以上？\n\tsql6：SELECT 人员工号, 姓名, 学历 FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士') LIMIT 50\n\n", "current_date": "2024-03-14", "thoughts": "为了找出O&TD部门在职的人数以及他们的详细信息，我们需要从员工基本信息表中筛选出二级机构为'O&TD'且雇佣状态为'在职'的员工，然后将这些员工的人员工号与员工受教育经历的数据表进行连接，以获取他们的学历和毕业学校信息。我们将使用INNER JOIN来连接这两个表，并限制结果数量为50。", "sql": "SELECT e.姓名, e.职位, e.籍贯, ed.学历, ed.院校_培训机构 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.二级机构 = 'O&TD' AND e.雇佣状态 = '在职' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;张苗&quot;, &quot;职位&quot;: &quot;人才发展三级资深助理&quot;, &quot;籍贯&quot;: &quot;陕西省富平县&quot;, &quot;学历&quot;: &quot;高中&quot;, &quot;院校_培训机构&quot;: &quot;刘集高级中学&quot;, {&quot;姓名&quot;: &quot;齐焕然&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;河北省唐山市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;西安文理学院&quot;, {&quot;姓名&quot;: &quot;陈婷&quot;, &quot;职位&quot;: &quot;人才发展主管&quot;, &quot;籍贯&quot;: &quot;桂林市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;天津商业大学&quot;, {&quot;姓名&quot;: &quot;林巍然&quot;, &quot;职位&quot;: &quot;二级机构负责人(O&amp;TD)&quot;, &quot;籍贯&quot;: &quot;福建省福州市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南财经大学&quot;, {&quot;姓名&quot;: &quot;江铃&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;福建闽清&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中国矿业大学&quot;, {&quot;姓名&quot;: &quot;徐琴&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;湖北荆州&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;长江大学&quot;, {&quot;姓名&quot;: &quot;彭敦鸾&quot;, &quot;职位&quot;: &quot;人才发展一级资深助理&quot;, &quot;籍贯&quot;: &quot;福建省宁德市&quot;, &quot;学历&quot;: &quot;初中及以下&quot;, &quot;院校_培训机构&quot;: &quot;宁德4中&quot;, {&quot;姓名&quot;: &quot;林桂仙&quot;, &quot;职位&quot;: &quot;人才发展专员&quot;, &quot;籍贯&quot;: &quot;福建省福鼎市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南大学&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "李斯琪的详细的所有资料。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期", "Table:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:经理4姓名,经理3职务,经理3职位,经理3姓名,经理2职务,经理2职位,经理2姓名,经理1职务,经理1职位,经理1姓名,主管2职务,主管2职位,主管2姓名,主管1职务,主管1职位,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,姓名,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,一级机构负责人职务,一级机构负责人职位,一级机构负责人姓名,总监4职务,总监4职位,总监4姓名,总监3职务,总监3职位,总监3姓名,总监2职务,总监2职位,总监2姓名,总监1职务,总监1职位,总监1姓名,经理4职务,经理4职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】", "Table:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,开始日期:【受教育的开始日期】,结束日期:【受教育的结束日期】,第一专业,证书,国家,院校_培训机构,教育类型"], "extend_info": "", "display_type": "response_table", "qa_samples": "\t用户输入1：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql1：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入2：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql2：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n\t用户输入3：请列出目前所有员工的姓名和对应的职位。\n\tsql3：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入4：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql4：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入5：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql5：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入6：请查询所有在APD部门任职'经理'级别且拥有硕士学历的员工的姓名、职务名称和入职日期。\n\tsql6：SELECT e.姓名, e.职务名称, e.入职日期 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.一级机构名称 = 'APD' AND (e.职务名称 LIKE '%主任%' OR e.职务名称 LIKE '%经理%') AND edu.学历 = '硕士' LIMIT 50\n\n", "current_date": "2024-03-14", "thoughts": "为了获取李斯琪的所有详细资料，我们需要从公司里所有员工基本信息表（a_sap_employee_information_chinese）中查询李斯琪的基本信息，同时也需要从公司所有员工受教育经历的数据表（a_sap_employee_education_experience_chinese）中查询她的教育背景。我们可以通过人员工号来关联这两张表，但是由于我们只知道李斯琪的姓名，我们首先需要从员工基本信息表中获取她的人员工号，然后再用这个工号去查询她的教育背景。", "sql": "SELECT e.*, edu.学历, edu.开始日期 AS 教育开始日期, edu.结束日期 AS 教育结束日期, edu.第一专业, edu.证书, edu.国家, edu.院校_培训机构, edu.教育类型 FROM a_sap_employee_information_chinese e LEFT JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.姓名 = '李斯琪' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;人员工号&quot;: 140599, &quot;姓名&quot;: &quot;李斯琪&quot;, &quot;职级&quot;: null, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;职位&quot;: &quot;供应商品质管理工程师&quot;, &quot;入职日期&quot;: &quot;2020-08-10T00:00:00&quot;, &quot;离职类型&quot;: null, &quot;离职原因&quot;: null, &quot;离职日期&quot;: null, &quot;部门负责人&quot;: &quot;林志国&quot;, &quot;人事范围&quot;: &quot;ND&quot;, &quot;员工组&quot;: &quot;正式&quot;, &quot;员工子组文本&quot;: &quot;三级员工&quot;, &quot;上班地点&quot;: &quot;ND&quot;, &quot;英文名&quot;: &quot;Serena Li&quot;, &quot;性别&quot;: &quot;女&quot;, &quot;国籍&quot;: &quot;中国&quot;, &quot;民族&quot;: &quot;汉族&quot;, &quot;婚姻状况&quot;: &quot;已婚&quot;, &quot;籍贯&quot;: &quot;沈阳市&quot;, &quot;身份证地址的省_直辖市&quot;: null, &quot;开始参加工作日期&quot;: null, &quot;员工本人联系号码&quot;: &quot;13664142247&quot;, &quot;一级机构&quot;: &quot;QA&quot;, &quot;二级机构&quot;: &quot;SQM&quot;, &quot;三级机构&quot;: &quot;SQE&quot;, &quot;职务名称&quot;: &quot;工程师&quot;, &quot;员工工作性质文本&quot;: &quot;全职-计算&quot;, &quot;直属上司工号&quot;: 94361, &quot;直属上司姓名&quot;: &quot;林志国&quot;, &quot;集团入职日期&quot;: &quot;2020-08-10T00:00:00&quot;, &quot;最近一次晋升日期&quot;: null, &quot;学历&quot;: &quot;大学本科&quot;, &quot;教育开始日期&quot;: &quot;2013-09-01T00:00:00&quot;, &quot;教育结束日期&quot;: &quot;2017-07-01T00:00:00&quot;, &quot;第一专业&quot;: &quot;材料化学&quot;, &quot;证书&quot;: &quot;毕业证+学位证&quot;, &quot;国家&quot;: &quot;中国&quot;, &quot;院校_培训机构&quot;: &quot;辽宁大学&quot;, &quot;教育类型&quot;: &quot;统招&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "O&TD在职多少人？详细人员名单，职位，家乡归属地，学历，毕业学校？", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期\nTable:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,开始日期:【受教育的开始日期】,结束日期:【受教育的结束日期】,第一专业,证书,国家,院校_培训机构,教育类型", "extend_info": "|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql1：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入2：当前具有硕士及以上学历的员工总数是多少？\n\tsql2：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入3：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql3：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n\t用户输入4：当前有多少员工具备硕士学历？\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入5：持有本科学历的员工有多少人?\n\tsql5：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科';\n\n\t用户输入6：请问有哪些员工的学历是硕士及以上？\n\tsql6：SELECT 人员工号, 姓名, 学历 FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士') LIMIT 50\n\n", "current_date": "2024-03-14", "thoughts": "为了回答这个问题，我们需要从a_sap_employee_information_chinese表中找到所有在职且属于O&TD二级机构的员工，然后将这些员工的人员工号与a_sap_employee_education_experience_chinese表进行连接查询，以获取他们的学历和毕业学校信息。我们将使用INNER JOIN来连接这两个表，并且使用WHERE子句来筛选出在职状态和O&TD所属的员工。最后，我们将选择姓名、职位、籍贯、学历和毕业学校这些列来显示结果。", "sql": "SELECT e.姓名, e.职位, e.籍贯, ed.学历, ed.院校_培训机构 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND e.二级机构 = 'O&TD' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;齐焕然&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;河北省唐山市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;西安文理学院&quot;, {&quot;姓名&quot;: &quot;彭敦鸾&quot;, &quot;职位&quot;: &quot;人才发展一级资深助理&quot;, &quot;籍贯&quot;: &quot;福建省宁德市&quot;, &quot;学历&quot;: &quot;初中及以下&quot;, &quot;院校_培训机构&quot;: &quot;宁德4中&quot;, {&quot;姓名&quot;: &quot;张苗&quot;, &quot;职位&quot;: &quot;人才发展三级资深助理&quot;, &quot;籍贯&quot;: &quot;陕西省富平县&quot;, &quot;学历&quot;: &quot;高中&quot;, &quot;院校_培训机构&quot;: &quot;刘集高级中学&quot;, {&quot;姓名&quot;: &quot;陈婷&quot;, &quot;职位&quot;: &quot;人才发展主管&quot;, &quot;籍贯&quot;: &quot;桂林市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;天津商业大学&quot;, {&quot;姓名&quot;: &quot;林巍然&quot;, &quot;职位&quot;: &quot;二级机构负责人(O&amp;TD)&quot;, &quot;籍贯&quot;: &quot;福建省福州市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南财经大学&quot;, {&quot;姓名&quot;: &quot;江铃&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;福建闽清&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中国矿业大学&quot;, {&quot;姓名&quot;: &quot;林桂仙&quot;, &quot;职位&quot;: &quot;人才发展专员&quot;, &quot;籍贯&quot;: &quot;福建省福鼎市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南大学&quot;, {&quot;姓名&quot;: &quot;徐琴&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;湖北荆州&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;长江大学&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "O&TD在职多少人？详细人员名单，职位，家乡归属地，学历，毕业学校？", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:姓名,职位,雇佣状态:【值为：[\"在职\",\"离职\"]】,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,最近一次晋升日期,集团入职日期,直属上司姓名,直属上司工号,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,职务名称,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,员工本人联系号码,开始参加工作日期,身份证地址的省_直辖市,籍贯,婚姻状况,民族,国籍,性别,英文名,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,离职日期,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,入职日期\nTable:a_sap_employee_education_experience_chinese,table_comment:公司所有员工受教育经历的数据表。Columns:学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,开始日期:【受教育的开始日期】,结束日期:【受教育的结束日期】,第一专业,证书,国家,院校_培训机构,教育类型", "extend_info": "如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql1：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入2：当前具有硕士及以上学历的员工总数是多少？\n\tsql2：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入3：目前在职的员工中，有多少人属于技术员或资深技术员职务？\n\tsql3：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 IN ('二级员工')\n\n\t用户输入4：当前有多少员工具备硕士学历？\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入5：持有本科学历的员工有多少人?\n\tsql5：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科';\n\n\t用户输入6：请问有哪些员工的学历是硕士及以上？\n\tsql6：SELECT 人员工号, 姓名, 学历 FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士') LIMIT 50\n\n", "current_date": "2024-03-14", "thoughts": "为了找到O&TD部门在职的员工数量以及他们的详细信息，我们需要从a_sap_employee_information_chinese表中筛选出二级机构为'O&TD'且雇佣状态为'在职'的员工，然后将这些员工的人员工号与a_sap_employee_education_experience_chinese表进行连接查询，以获取他们的学历和毕业学校信息。最后，我们将结果限制为最多50条记录。", "sql": "SELECT e.姓名, e.职位, e.籍贯, ed.学历, ed.院校_培训机构 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.二级机构 = 'O&TD' AND e.雇佣状态 = '在职' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;江铃&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;福建闽清&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中国矿业大学&quot;, {&quot;姓名&quot;: &quot;林桂仙&quot;, &quot;职位&quot;: &quot;人才发展专员&quot;, &quot;籍贯&quot;: &quot;福建省福鼎市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南大学&quot;, {&quot;姓名&quot;: &quot;林巍然&quot;, &quot;职位&quot;: &quot;二级机构负责人(O&amp;TD)&quot;, &quot;籍贯&quot;: &quot;福建省福州市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;中南财经大学&quot;, {&quot;姓名&quot;: &quot;齐焕然&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;河北省唐山市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;西安文理学院&quot;, {&quot;姓名&quot;: &quot;徐琴&quot;, &quot;职位&quot;: &quot;人才发展资深主管&quot;, &quot;籍贯&quot;: &quot;湖北荆州&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;长江大学&quot;, {&quot;姓名&quot;: &quot;张苗&quot;, &quot;职位&quot;: &quot;人才发展三级资深助理&quot;, &quot;籍贯&quot;: &quot;陕西省富平县&quot;, &quot;学历&quot;: &quot;高中&quot;, &quot;院校_培训机构&quot;: &quot;刘集高级中学&quot;, {&quot;姓名&quot;: &quot;陈婷&quot;, &quot;职位&quot;: &quot;人才发展主管&quot;, &quot;籍贯&quot;: &quot;桂林市&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;院校_培训机构&quot;: &quot;天津商业大学&quot;, {&quot;姓名&quot;: &quot;彭敦鸾&quot;, &quot;职位&quot;: &quot;人才发展一级资深助理&quot;, &quot;籍贯&quot;: &quot;福建省宁德市&quot;, &quot;学历&quot;: &quot;初中及以下&quot;, &quot;院校_培训机构&quot;: &quot;宁德4中&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "你好，我想看看HR 二级机构OPS的加班数据", "top_k": "50", "dialect": "postgresql", "table_info": "", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|", "display_type": "Table", "qa_samples": "\t用户输入1：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql1：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入2：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql2：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入3：统计当前全部员工的平均入职年限。\n\tsql3：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入4：哪个岗位的人员流动（离职和入职）最频繁?\n\tsql4：SELECT 职位, COUNT(*) AS 流动次数 FROM a_sap_employee_information_chinese Where 雇佣状态='离职' GROUP  BY 职位 ORDER BY 流动次数 DESC LIMIT 1\n\n\t用户输入5：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql5：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入6：请找出2022年Q2期间入职，并且是硕士学历的员工名单。\n\tsql6：SELECT 姓名 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士' AND 入职日期 >= '2022-07-01' AND 入职日期 <= '2022-09-30' LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "要获取HR二级机构OPS的加班数据，我们需要查询与加班相关的表格，但是在提供的表结构定义中没有直接与加班相关的表。因此，我们无法直接生成SQL查询来获取加班数据。如果加班数据被记录在某个特定的表中，那么我们需要这个表的结构定义来构建查询。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_dev", "user_input": "你好，我想看看HR 二级机构OPS的加班数据", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:上班2:【员工当天第二次打上班卡的时间】,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,异常类型,单据类型,冲销时长,原始平时加班,有效平时加班,原始周末加班,有效周末加班,原始法定加班,有效法定加班,实际出勤工时,三级员工周六（打卡时数）,班别代码,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,工资等级组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,隶属小组,原始值班,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,出勤工时\nTable:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:经理3职位,开始日期:【汇报关系开始的时间】,结束日期:【汇报关系结束的时间】,人员工号:【该表主键，每个员工的唯一id值。】,姓名,入司日期,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,主管1姓名,主管1职位,主管1职务,主管2姓名,主管2职位,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理2职务,经理3姓名,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tHR\t|\tHuman Resources\t|\t人力资源部\t|\n|\t二级机构\t|\tHR\t|\tTR\t|\tTotal Rewards\t|\t薪酬与激励部\t|\n|\t二级机构\t|\tHR\t|\tTA\t|\tTalent Acquisition\t|\t人才招聘与调配部\t|\n|\t二级机构\t|\tHR\t|\tO&TD\t|\tOrganization&Talent Development\t|\t组织与人才发展部\t|\n|\t二级机构\t|\tHR\t|\tOPS\t|\tOperation Center\t|\t运营中心\t|\n|\t二级机构\t|\tHR\t|\tOM\t|\tOversea Management\t|\t海外管理部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：截至当前最新数据，HR部门中担任经理职务（含资深经理）的员工有多少人？\n\tsql1：SELECT COUNT(*) FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'HR' AND (职务名称 LIKE '%经理%' or 职务名称 LIKE '%主任%')\n\n\t用户输入2：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql2：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入3：统计当前全部员工的平均入职年限。\n\tsql3：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入4：哪个岗位的人员流动（离职和入职）最频繁?\n\tsql4：SELECT 职位, COUNT(*) AS 流动次数 FROM a_sap_employee_information_chinese Where 雇佣状态='离职' GROUP  BY 职位 ORDER BY 流动次数 DESC LIMIT 1\n\n\t用户输入5：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql5：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入6：请找出2022年Q2期间入职，并且是硕士学历的员工名单。\n\tsql6：SELECT 姓名 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士' AND 入职日期 >= '2022-07-01' AND 入职日期 <= '2022-09-30' LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "为了获取HR二级机构OPS的加班数据，我们需要从考勤表中查询属于OPS机构的员工的加班信息。我们可以通过人员工号关联考勤表和汇报关系表，筛选出二级机构为OPS的员工，并计算他们的加班时长。加班时长可以通过考勤表中的有效平时加班、有效周末加班和有效法定加班字段来获取。", "sql": "SELECT a.姓名, a.考勤日期, a.有效平时加班, a.有效周末加班, a.有效法定加班 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_reporting_relationship_chinese b ON a.人员工号 = b.人员工号 WHERE b.二级机构 = 'OPS' AND b.一级机构 = 'HR' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;郑爱华&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;钟小铃&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;黄丽春&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;任巨平&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;郑爱华&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;雷巧霞&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;钟小铃&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;王湘靖&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;昌果&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;任巨平&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;颜楠靖&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;郑爱华&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 4, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;林文婧&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;雷震&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;危丽萍&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;王湘靖&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;昌果&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;邹容&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;李佩&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;唐志辉&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;罗冬雪&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;冯铃&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;林钦&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;钟小铃&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;罗冬雪&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;唐志辉&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;韦金云&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;姚尧&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;王芬&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;冯铃&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;李恒银&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;林文婧&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;雷震&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;廖睿禛&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;王湘靖&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;昌果&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;邹容&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;李佩&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;姚尧&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;韦金云&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;王芬&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;郑爱华&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 9, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;林钦&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;叶家斌&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;廖睿禛&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;雷巧霞&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;钟小铃&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;邹容&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;李佩&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0, {&quot;姓名&quot;: &quot;罗冬雪&quot;, &quot;考勤日期&quot;: &quot;2024-03-09T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效法定加班&quot;: 0 "}
{"db_name": "hr_chinese_dev", "user_input": "这两天 IDT-AI哪些人迟到早退？", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tIDT\t|\tInformation Digital Technology\t|\t信息数字化技术部\t|\n|\t二级机构\t|\tIDT\t|\tIDT-MO\t|\tIDT-Management Office\t|\tIDT管理办公室\t|\n|\t二级机构\t|\tIDT\t|\tBP-RD\t|\tBusiness Partner-RD\t|\t研发解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tBP-SCM\t|\tBusiness Partner-SCM\t|\t供应链解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tBP-MU\t|\tBusiness Partner-MU\t|\t制造解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tAI\t|\tIndustrial Artificial Intelligence\t|\t工业智能部\t|\n|\t二级机构\t|\tIDT\t|\tDP\t|\tData Platform\t|\t数据平台部\t|\n|\t二级机构\t|\tIDT\t|\tAD\t|\tApplication Development\t|\t技术开发部\t|\n|\t二级机构\t|\tIDT\t|\tCS\t|\tClient Service\t|\t桌面服务部\t|\n|\t二级机构\t|\tIDT\t|\tIS\t|\tInfrastructure Service\t|\t基础设施服务部\t|", "display_type": "Table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的AI小组的迟到早退时间统计\n\tsql2：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql4：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入5：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql5：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-15", "thoughts": "由于用户询问的是IDT-AI组在最近两天内迟到早退的员工情况，我们需要查询考勤表中属于IDT-AI组的员工在最近两天（即2024-03-13和2024-03-14）的迟到早退记录。我们将使用迟到分钟数、早退分钟数和迟到早退分钟数这三个字段来判断员工是否迟到或早退。由于表结构中没有直接提供二级机构的字段，我们无法直接通过SQL查询得到结果。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_dev", "user_input": "这两天， IDT-AI哪些人迟到早退？", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tIDT\t|\tInformation Digital Technology\t|\t信息数字化技术部\t|\n|\t二级机构\t|\tIDT\t|\tIDT-MO\t|\tIDT-Management Office\t|\tIDT管理办公室\t|\n|\t二级机构\t|\tIDT\t|\tBP-RD\t|\tBusiness Partner-RD\t|\t研发解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tBP-SCM\t|\tBusiness Partner-SCM\t|\t供应链解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tBP-MU\t|\tBusiness Partner-MU\t|\t制造解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tAI\t|\tIndustrial Artificial Intelligence\t|\t工业智能部\t|\n|\t二级机构\t|\tIDT\t|\tDP\t|\tData Platform\t|\t数据平台部\t|\n|\t二级机构\t|\tIDT\t|\tAD\t|\tApplication Development\t|\t技术开发部\t|\n|\t二级机构\t|\tIDT\t|\tCS\t|\tClient Service\t|\t桌面服务部\t|\n|\t二级机构\t|\tIDT\t|\tIS\t|\tInfrastructure Service\t|\t基础设施服务部\t|", "display_type": "Table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的AI小组的迟到早退时间统计\n\tsql2：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql5：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-15", "thoughts": "由于用户询问的是IDT-AI组在最近两天内迟到早退的员工情况，我们需要查询考勤表中属于IDT-AI组的员工在最近两天（即2024-03-13和2024-03-14）的迟到早退记录。由于表结构定义中没有直接提供员工所属组织的信息，我们无法直接通过表a_sap_employee_attendance_details_chinese获取员工所属的二级机构信息。因此，我们无法生成SQL查询来回答用户的问题。", "sql": "", "ai_sql_result": "由于用户询问的是IDT-AI组在最近两天内迟到早退的员工情况，我们需要查询考勤表中属于IDT-AI组的员工在最近两天（即2024-03-13和2024-03-14）的迟到早退记录。由于表结构定义中没有直接提供员工所属组织的信息，我们无法直接通过表a_sap_employee_attendance_details_chinese获取员工所属的二级机构信息。因此，我们无法生成SQL查询来回答用户的问题。"}
{"db_name": "hr_chinese_dev", "user_input": "这两天， IDT-AI组哪些人迟到早退？", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时\nTable:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,英文名,性别,国籍,民族,婚姻状况,籍贯,集团入职日期,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,员工本人联系号码,最近一次晋升日期,身份证地址的省_直辖市,开始参加工作日期", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tIDT\t|\tInformation Digital Technology\t|\t信息数字化技术部\t|\n|\t二级机构\t|\tIDT\t|\tIDT-MO\t|\tIDT-Management Office\t|\tIDT管理办公室\t|\n|\t二级机构\t|\tIDT\t|\tBP-RD\t|\tBusiness Partner-RD\t|\t研发解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tBP-SCM\t|\tBusiness Partner-SCM\t|\t供应链解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tBP-MU\t|\tBusiness Partner-MU\t|\t制造解决方案部\t|\n|\t二级机构\t|\tIDT\t|\tAI\t|\tIndustrial Artificial Intelligence\t|\t工业智能部\t|\n|\t二级机构\t|\tIDT\t|\tDP\t|\tData Platform\t|\t数据平台部\t|\n|\t二级机构\t|\tIDT\t|\tAD\t|\tApplication Development\t|\t技术开发部\t|\n|\t二级机构\t|\tIDT\t|\tCS\t|\tClient Service\t|\t桌面服务部\t|\n|\t二级机构\t|\tIDT\t|\tIS\t|\tInfrastructure Service\t|\t基础设施服务部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：2024年2月28日，IDT部门AI组哪些人迟到早退了？\n\tsql1：SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a join a_sap_employee_information_chinese b on a.人员工号=b.人员工号\nWHERE\n  a.考勤日期 = '2024-02-28'\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n       OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构  = 'IDT'\nLIMIT\n  50\n\n\t用户输入2：IDT部门的AI小组的迟到早退时间统计\n\tsql2：SELECT\n  SUM(a.迟到分钟数) AS 总迟到分钟数,\n  SUM(a.早退分钟数) AS 总早退分钟数\nFROM\n  a_sap_employee_attendance_details_chinese a\n  INNER JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  b.一级机构 = 'IDT'\n  AND b.二级机构 = 'AI'\nGROUP BY\n  b.二级机构\nLIMIT\n  50\n\n\t用户输入3：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql3：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：IDT部门的在职员工，博士学历在T128年的绩效如何？\n\tsql5：SELECT e.姓名, e.人员工号, p.绩效 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.雇佣状态 = '在职' AND edu.学历 = '博士' AND p.编制年度 = 'T128' LIMIT 50\n\n\t用户输入6：目前AI二级机构下有多少有效编制空缺，以及这些空缺的年度编制数量是多少？\n\tsql6：SELECT SUM(有效编制空缺) AS 总有效编制空缺, SUM(年度编制数量) AS 总年度编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n", "current_date": "2024-03-15", "thoughts": "为了找出IDT-AI组在最近两天迟到早退的员工，我们需要查询考勤表中的迟到早退记录，并且结合员工信息表来确定员工属于IDT的AI组。我们将考勤日期设置为最近两天，即'2024-03-14'和'2024-03-15'，并且检查迟到早退分钟数是否大于0。", "sql": "SELECT\n  a.姓名,\n  a.迟到分钟数,\n  a.早退分钟数,\n  a.迟到早退分钟数,\n  a.考勤日期\nFROM\n  a_sap_employee_attendance_details_chinese a\n  JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号\nWHERE\n  a.考勤日期 IN ('2024-03-14', '2024-03-15')\n  AND b.二级机构 = 'AI'\n  AND (\n    a.迟到分钟数 > 0\n    OR a.早退分钟数 > 0\n    OR a.迟到早退分钟数 > 0\n  )\n  AND b.一级机构 = 'IDT'\nLIMIT\n  50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;李佳谕&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 1, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, {&quot;姓名&quot;: &quot;陈诺琳&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 27, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, {&quot;姓名&quot;: &quot;苗秀娟&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 6, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, {&quot;姓名&quot;: &quot;李安榜&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 16, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, {&quot;姓名&quot;: &quot;李春风&quot;, &quot;迟到分钟数&quot;: 0, &quot;早退分钟数&quot;: 0, &quot;迟到早退分钟数&quot;: 14, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot; "}
{"db_name": "hr_chinese_dev", "user_input": "FQC|OQC-PTO 这个小组的人这个礼拜的加班情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时\nTable:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:经理2职务,开始日期:【汇报关系开始的时间】,结束日期:【汇报关系结束的时间】,人员工号:【该表主键，每个员工的唯一id值。】,姓名,入司日期,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,主管1姓名,主管1职位,主管1职务,主管2姓名,主管2职位,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql5：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定这个礼拜的日期范围，由于今天是2024-03-15，我们可以假设这个礼拜开始于2024-03-10（星期日）并结束于2024-03-16（星期六）。接下来，我们需要从a_sap_reporting_relationship_chinese表中找到属于FQC|OQC-PTO小组的所有员工的人员工号。然后，我们将使用这些人员工号在a_sap_employee_attendance_details_chinese表中查询这个礼拜的加班情况，包括有效法定加班、原始法定加班、有效周末加班、原始周末加班、有效平时加班和原始平时加班。我们将这些信息汇总并限制结果数量为最多50条。", "sql": "SELECT a.姓名, a.考勤日期, a.有效法定加班, a.原始法定加班, a.有效周末加班, a.原始周末加班, a.有效平时加班, a.原始平时加班 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_reporting_relationship_chinese r ON a.人员工号 = r.人员工号 WHERE r.三级机构 = 'FQC|OQC-PTO' AND a.考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC|OQC-PTO 这个小组的人这个礼拜的加班情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,英文名,性别,国籍,民族,婚姻状况,籍贯,集团入职日期,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,员工本人联系号码,最近一次晋升日期,身份证地址的省_直辖市,开始参加工作日期\nTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql5：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "current_date": "2024-03-15", "thoughts": "为了找到FQC|OQC-PTO小组这个礼拜的加班情况，我们需要从员工考勤表中筛选出属于这个三级机构的员工，并且考勤日期在本周内。我们可以使用当前日期2024-03-15来确定本周的日期范围，然后查询有效平时加班、有效周末加班和有效法定加班的总和。由于本周的日期范围是固定的，我们可以直接计算出本周的开始和结束日期，然后在SQL查询中使用这个范围。", "sql": "SELECT 人员工号, 姓名, SUM(有效平时加班) AS 平时加班总时长, SUM(有效周末加班) AS 周末加班总时长, SUM(有效法定加班) AS 法定加班总时长 FROM a_sap_employee_attendance_details_chinese WHERE 三级机构 = 'FQC|OQC-PTO' AND 考勤日期 BETWEEN '2024-03-11' AND '2024-03-17' GROUP BY 人员工号, 姓名 LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC|OQC-PTO 这个小组的人这个礼拜的加班情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,英文名,性别,国籍,民族,婚姻状况,籍贯,集团入职日期,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,员工本人联系号码,最近一次晋升日期,身份证地址的省_直辖市,开始参加工作日期\nTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql5：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "current_date": "2024-03-15", "thoughts": "为了查询FQC|OQC-PTO小组这个礼拜的加班情况，我们需要从员工考勤详情表中找出属于这个三级机构的员工，并且筛选出这个礼拜的记录。由于今天是2024-03-15，我们可以认为这个礼拜指的是2024-03-09（星期日）到2024-03-15（星期六）的时间范围。我们将使用三级机构字段来筛选小组，并且使用考勤日期来限定时间范围。我们还需要加上有效加班时间的字段，如有效法定加班、有效周末加班和有效平时加班，以计算总的加班时间。", "sql": "SELECT 人员工号, 姓名, 考勤日期, 有效法定加班, 有效周末加班, 有效平时加班 FROM a_sap_employee_attendance_details_chinese WHERE 三级机构 = 'FQC|OQC-PTO' AND 考勤日期 BETWEEN '2024-03-09' AND '2024-03-15' ORDER BY 考勤日期 LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "这个礼拜，FQC|OQC-PTO 这个小组的人的加班情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,英文名,性别,国籍,民族,婚姻状况,籍贯,集团入职日期,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,员工本人联系号码,最近一次晋升日期,身份证地址的省_直辖市,开始参加工作日期\nTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：统计当前全部员工的平均入职年限。\n\tsql3：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入4：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql4：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入5：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql5：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入6：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql6：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定这个礼拜的日期范围，然后查询FQC|OQC-PTO小组的员工在这个日期范围内的加班情况。我们可以使用a_sap_employee_information_chinese表来找到属于FQC|OQC-PTO小组的员工，然后使用这些员工的人员工号去a_sap_employee_attendance_details_chinese表中查询他们的加班情况。由于今天是2024-03-15，这个礼拜的日期范围是2024-03-10到2024-03-16。", "sql": "SELECT e.姓名, e.人员工号, a.考勤日期, a.有效法定加班, a.有效周末加班, a.有效平时加班 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_attendance_details_chinese a ON e.人员工号 = a.人员工号 WHERE e.三级机构 = 'FQC|OQC-PTO' AND a.考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' AND (a.有效法定加班 > 0 OR a.有效周末加班 > 0 OR a.有效平时加班 > 0) LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC|OQC-PTO 这个小组的人这个礼拜的加班情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时\nTable:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:经理2职务,开始日期:【汇报关系开始的时间】,结束日期:【汇报关系结束的时间】,人员工号:【该表主键，每个员工的唯一id值。】,姓名,入司日期,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,主管1姓名,主管1职位,主管1职务,主管2姓名,主管2职位,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql2：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql5：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定“这个礼拜”的日期范围。由于今天是2024-03-15，我们可以假设这个礼拜开始于2024-03-10（星期日）并结束于2024-03-16（星期六）。接下来，我们需要从a_sap_reporting_relationship_chinese表中找到属于'FQC|OQC-PTO'小组的所有员工的人员工号。然后，我们将使用这些人员工号在a_sap_employee_attendance_details_chinese表中查询他们在这个礼拜的加班情况，包括有效法定加班、原始法定加班、有效周末加班、原始周末加班、有效平时加班和原始平时加班。我们将结果限制为最多50条记录。", "sql": "SELECT a.姓名, a.考勤日期, a.有效法定加班, a.原始法定加班, a.有效周末加班, a.原始周末加班, a.有效平时加班, a.原始平时加班 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_reporting_relationship_chinese r ON a.人员工号 = r.人员工号 WHERE r.三级机构 = 'FQC|OQC-PTO' AND a.考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC|OQC-PTO 这个小组的有哪些人？", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,英文名,性别,国籍,民族,婚姻状况,籍贯,集团入职日期,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,员工本人联系号码,最近一次晋升日期,身份证地址的省_直辖市,开始参加工作日期\nTable:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:经理2职务,开始日期:【汇报关系开始的时间】,结束日期:【汇报关系结束的时间】,人员工号:【该表主键，每个员工的唯一id值。】,姓名,入司日期,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,主管1姓名,主管1职位,主管1职务,主管2姓名,主管2职位,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：当前在QA部门任职经理职务的员工有谁？\n\tsql1：SELECT 姓名, 人员工号, 职务名称 FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'QA' AND (职务名称 LIKE '%经理%' or  职务名称 LIKE '%主任%' ) LIMIT 50\n\n\t用户输入2：目前哪些员工的学历为硕士，并且其所在的一级机构为FE？\n\tsql2：SELECT DISTINCT e.人员工号, e.姓名\nFROM a_sap_employee_education_experience_chinese AS edu\nJOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号\nWHERE edu.学历 = '硕士' AND e.一级机构名称 = 'FE'\nLIMIT 50\n\n\t用户输入3：请列出目前所有员工的姓名和对应的职位。\n\tsql3：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入4：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql4：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql6：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n", "current_date": "2024-03-15", "thoughts": "用户想要查询FQC|OQC-PTO这个三级机构下的所有员工信息。根据表结构定义，我们可以使用a_sap_employee_information_chinese表来查询，因为它包含了员工的三级机构信息。我们将根据三级机构字段来筛选出属于FQC|OQC-PTO小组的员工，并且限制结果数量为50。", "sql": "SELECT 人员工号, 姓名 FROM a_sap_employee_information_chinese WHERE 三级机构 = 'FQC|OQC-PTO' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO这个小组的有哪些人？", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,英文名,性别,国籍,民族,婚姻状况,籍贯,集团入职日期,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,员工本人联系号码,最近一次晋升日期,身份证地址的省_直辖市,开始参加工作日期", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：当前在QA部门任职经理职务的员工有谁？\n\tsql1：SELECT 姓名, 人员工号, 职务名称 FROM a_sap_reporting_relationship_chinese WHERE 一级机构 = 'QA' AND (职务名称 LIKE '%经理%' or  职务名称 LIKE '%主任%' ) LIMIT 50\n\n\t用户输入2：目前哪些员工的学历为硕士，并且其所在的一级机构为FE？\n\tsql2：SELECT DISTINCT e.人员工号, e.姓名\nFROM a_sap_employee_education_experience_chinese AS edu\nJOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号\nWHERE edu.学历 = '硕士' AND e.一级机构名称 = 'FE'\nLIMIT 50\n\n\t用户输入3：请列出目前所有员工的姓名和对应的职位。\n\tsql3：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入4：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql4：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql6：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n", "current_date": "2024-03-15", "thoughts": "用户想要查询FQC/OQC-PTO这个三级机构下的所有员工信息。根据表结构定义，我们可以使用三级机构字段来筛选出属于FQC/OQC-PTO小组的员工，并且选择姓名和人员工号作为输出字段。由于用户没有指定数据行数，我们将查询限制为最多50个结果。", "sql": "SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 三级机构 = 'FQC/OQC-PTO' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;吕从敏&quot;, &quot;人员工号&quot;: 3096, {&quot;姓名&quot;: &quot;张四英&quot;, &quot;人员工号&quot;: 4065, {&quot;姓名&quot;: &quot;苏超凤&quot;, &quot;人员工号&quot;: 12589, {&quot;姓名&quot;: &quot;李瑞霞&quot;, &quot;人员工号&quot;: 14511, {&quot;姓名&quot;: &quot;蒙引娣&quot;, &quot;人员工号&quot;: 56753, {&quot;姓名&quot;: &quot;王明霞&quot;, &quot;人员工号&quot;: 57804, {&quot;姓名&quot;: &quot;张亚锋&quot;, &quot;人员工号&quot;: 59061, {&quot;姓名&quot;: &quot;杨志刚&quot;, &quot;人员工号&quot;: 61706, {&quot;姓名&quot;: &quot;夏焕文&quot;, &quot;人员工号&quot;: 63331, {&quot;姓名&quot;: &quot;杨丹丹&quot;, &quot;人员工号&quot;: 72844, {&quot;姓名&quot;: &quot;韦陈旺&quot;, &quot;人员工号&quot;: 79803, {&quot;姓名&quot;: &quot;孙帅&quot;, &quot;人员工号&quot;: 83571, {&quot;姓名&quot;: &quot;魏静&quot;, &quot;人员工号&quot;: 90001, {&quot;姓名&quot;: &quot;康贺&quot;, &quot;人员工号&quot;: 97649, {&quot;姓名&quot;: &quot;李旦&quot;, &quot;人员工号&quot;: 120337, {&quot;姓名&quot;: &quot;李红梅&quot;, &quot;人员工号&quot;: 16485, {&quot;姓名&quot;: &quot;黄小民&quot;, &quot;人员工号&quot;: 56724, {&quot;姓名&quot;: &quot;韦近才&quot;, &quot;人员工号&quot;: 78261, {&quot;姓名&quot;: &quot;彭丽琼&quot;, &quot;人员工号&quot;: 78920, {&quot;姓名&quot;: &quot;李旭英&quot;, &quot;人员工号&quot;: 78926, {&quot;姓名&quot;: &quot;刘亚睿&quot;, &quot;人员工号&quot;: 84045, {&quot;姓名&quot;: &quot;赵雪英&quot;, &quot;人员工号&quot;: 97802, {&quot;姓名&quot;: &quot;秦君&quot;, &quot;人员工号&quot;: 102333, {&quot;姓名&quot;: &quot;周江梅&quot;, &quot;人员工号&quot;: 120225, {&quot;姓名&quot;: &quot;皮建娅&quot;, &quot;人员工号&quot;: 128001, {&quot;姓名&quot;: &quot;谢丽勤&quot;, &quot;人员工号&quot;: 128907, {&quot;姓名&quot;: &quot;闫晴晴&quot;, &quot;人员工号&quot;: 129057, {&quot;姓名&quot;: &quot;张雪玲&quot;, &quot;人员工号&quot;: 132506, {&quot;姓名&quot;: &quot;何思涵&quot;, &quot;人员工号&quot;: 143176, {&quot;姓名&quot;: &quot;宋小玲&quot;, &quot;人员工号&quot;: 166612, {&quot;姓名&quot;: &quot;田小娟&quot;, &quot;人员工号&quot;: 50757, {&quot;姓名&quot;: &quot;王欢欢&quot;, &quot;人员工号&quot;: 72557, {&quot;姓名&quot;: &quot;谷素明&quot;, &quot;人员工号&quot;: 77904, {&quot;姓名&quot;: &quot;常晶鑫&quot;, &quot;人员工号&quot;: 79986, {&quot;姓名&quot;: &quot;潘敏敏&quot;, &quot;人员工号&quot;: 101444, {&quot;姓名&quot;: &quot;江斯惠&quot;, &quot;人员工号&quot;: 110378, {&quot;姓名&quot;: &quot;范景盘&quot;, &quot;人员工号&quot;: 131188, {&quot;姓名&quot;: &quot;陈霜梅&quot;, &quot;人员工号&quot;: 132191, {&quot;姓名&quot;: &quot;袁玲俐&quot;, &quot;人员工号&quot;: 152210 "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时\nTable:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:经理2职务,开始日期:【汇报关系开始的时间】,结束日期:【汇报关系结束的时间】,人员工号:【该表主键，每个员工的唯一id值。】,姓名,入司日期,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,主管1姓名,主管1职位,主管1职务,主管2姓名,主管2职位,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定'这个礼拜'的日期范围。由于今天是2024-03-15，我们可以假设这个礼拜指的是2024-03-10（星期日）到2024-03-16（星期六）的时间段。接下来，我们需要从a_sap_employee_attendance_details_chinese表中查询属于'FQC/OQC-PTO'小组的员工在这个时间段内的加班和请假情况。我们可以通过'三级机构'字段来确定员工是否属于'FQC/OQC-PTO'小组，并且通过'考勤日期'字段来筛选出这个礼拜的记录。加班情况可以通过'有效法定加班'、'有效周末加班'和'有效平时加班'字段来获取，而请假情况可能需要通过'异常类型'字段来判断，但由于表结构定义中没有提供'异常类型'字段的具体值，我们无法确定哪些异常类型代表请假。因此，我们将只能提供加班情况的查询。", "sql": "SELECT 姓名, 考勤日期, 星期几, 有效法定加班, 有效周末加班, 有效平时加班 FROM a_sap_employee_attendance_details_chinese WHERE 三级机构 = 'FQC/OQC-PTO' AND 考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:异常类型,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,原始平时加班,冲销时长,单据类型,出勤工时\n\tTable:a_sap_reporting_relationship_chinese,table_comment:公司所有员工汇报关系表。Columns:经理2职务,开始日期:【汇报关系开始的时间】,结束日期:【汇报关系结束的时间】,人员工号:【该表主键，每个员工的唯一id值。】,姓名,入司日期,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,主管1姓名,主管1职位,主管1职务,主管2姓名,主管2职位,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定这个礼拜的日期范围，由于今天是2024-03-15，这个礼拜的开始日期应该是2024-03-10（星期日），结束日期是2024-03-16（星期六）。接下来，我们需要从a_sap_reporting_relationship_chinese表中找出属于FQC/OQC-PTO小组的所有员工的人员工号。然后，我们将使用这些人员工号去a_sap_employee_attendance_details_chinese表中查询对应的加班和请假情况。加班情况可以通过检查有效法定加班、有效周末加班和有效平时加班字段来确定，而请假情况可以通过检查迟到早退分钟数、旷工小时数字段来确定。我们将这些信息限制在上述日期范围内。", "sql": "SELECT a.姓名, a.考勤日期, a.有效法定加班, a.有效周末加班, a.有效平时加班, a.迟到早退分钟数, a.旷工小时数 FROM a_sap_employee_attendance_details_chinese a INNER JOIN a_sap_reporting_relationship_chinese r ON a.人员工号 = r.人员工号 WHERE r.三级机构 = 'FQC/OQC-PTO' AND a.考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;吕从敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;张四英&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 8, {&quot;姓名&quot;: &quot;蒙引娣&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;王明霞&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;张亚锋&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;杨志刚&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;杨丹丹&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 4, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;康贺&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;潘敏敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;秦君&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;常晶鑫&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;彭丽琼&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 2, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;谷素明&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;魏静&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;孙帅&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;韦近才&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;谢丽勤&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;吕从敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;张四英&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;韦陈旺&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;李旭英&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;刘亚睿&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 4, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;康贺&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;潘敏敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;秦君&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;陈霜梅&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;皮建娅&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 4, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;袁玲俐&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;吕从敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;张四英&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;李红梅&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;黄小民&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;韦陈旺&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;李旭英&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;刘亚睿&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;常晶鑫&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;彭丽琼&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;康贺&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;皮建娅&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;吕从敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;张四英&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;蒙引娣&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;黄小民&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;张亚锋&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;杨丹丹&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;李旭英&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 0, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;韦陈旺&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 2, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;孙帅&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;韦近才&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0, {&quot;姓名&quot;: &quot;康贺&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;有效平时加班&quot;: 3, &quot;迟到早退分钟数&quot;: 0, &quot;旷工小时数&quot;: 0 "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,性别,国籍\n\tTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:工资等级组,原始法定加班,有效法定加班,实际出勤工时,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,有效周末加班,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,有效平时加班,原始周末加班,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,出勤工时,异常类型,单据类型,冲销时长,原始平时加班", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定这个礼拜的日期范围，由于今天是2024年3月15日，我们可以假设这个礼拜指的是3月10日（星期日）到3月16日（星期六）的时间范围。接下来，我们需要从员工考勤表中找到属于'FQC/OQC-PTO'小组的员工在这个时间范围内的加班和请假记录。我们可以通过三级机构字段来筛选属于'FQC/OQC-PTO'小组的员工，然后通过考勤日期来限定这个礼拜的时间范围。最后，我们需要查看加班和请假的相关字段，如有效法定加班、有效周末加班、有效平时加班以及异常类型字段来确定加班和请假的情况。", "sql": "SELECT 姓名, 考勤日期, 星期几, 有效法定加班, 有效周末加班, 有效平时加班, 异常类型 FROM a_sap_employee_attendance_details_chinese WHERE 三级机构 = 'FQC/OQC-PTO' AND 考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,性别,国籍\n\tTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:工资等级组,原始法定加班,有效法定加班,实际出勤工时,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,有效周末加班,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,有效平时加班,原始周末加班,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,出勤工时,异常类型,单据类型,冲销时长,原始平时加班", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定这个礼拜的日期范围，由于今天是2024-03-15，我们可以假设这个礼拜开始于2024-03-10（星期日）并结束于2024-03-16（星期六）。接下来，我们需要从a_sap_employee_attendance_details_chinese表中查询三级机构为'FQC/OQC-PTO'的员工在这个日期范围内的加班和请假情况。我们将查询考勤日期、姓名、有效法定加班、有效周末加班、有效平时加班、原始法定加班、原始周末加班、原始平时加班、异常类型字段。异常类型字段可能包含请假的信息。", "sql": "SELECT 考勤日期, 姓名, 有效法定加班, 有效周末加班, 有效平时加班, 原始法定加班, 原始周末加班, 原始平时加班, 异常类型 FROM a_sap_employee_attendance_details_chinese WHERE 三级机构 = 'FQC/OQC-PTO' AND 考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,性别,国籍\n\tTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:工资等级组,原始法定加班,有效法定加班,实际出勤工时,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,有效周末加班,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,有效平时加班,原始周末加班,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,出勤工时,异常类型,单据类型,冲销时长,原始平时加班", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定这个礼拜的日期范围，由于今天是2024-03-15，我们可以假设这个礼拜指的是2024-03-10（星期日）到2024-03-16（星期六）。接下来，我们需要从员工考勤表中找到属于FQC/OQC-PTO小组的员工在这个日期范围内的加班和请假记录。我们可以通过三级机构字段来筛选属于FQC/OQC-PTO小组的员工，然后根据考勤日期来筛选这个礼拜的记录。最后，我们需要查看加班和请假的相关字段，比如有效法定加班、有效周末加班、有效平时加班以及异常类型字段来确定加班和请假的情况。", "sql": "SELECT 姓名, 考勤日期, 星期几, 有效法定加班, 有效周末加班, 有效平时加班, 异常类型 FROM a_sap_employee_attendance_details_chinese WHERE 三级机构 = 'FQC/OQC-PTO' AND 考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,性别,国籍\n\n\tTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:工资等级组,原始法定加班,有效法定加班,实际出勤工时,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,有效周末加班,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,有效平时加班,原始周末加班,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,出勤工时,异常类型,单据类型,冲销时长,原始平时加班", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定这个礼拜的日期范围，由于今天是2024-03-15，我们可以假设这个礼拜指的是从2024-03-10（星期日）到2024-03-16（星期六）。接下来，我们需要从员工考勤表中找到属于'FQC/OQC-PTO'这个三级机构的员工在这个日期范围内的加班和请假记录。我们可以通过'三级机构'字段来筛选出属于'FQC/OQC-PTO'的员工，然后通过'考勤日期'字段来筛选出这个礼拜的记录。加班情况可以通过'有效法定加班'、'有效周末加班'和'有效平时加班'字段来获取，而请假情况可能需要查看'异常类型'字段。由于表结构中没有直接提到请假的字段，我们可能无法直接获取请假情况，除非请假被视为一种异常类型。如果是这样，我们可以通过'异常类型'字段来筛选出请假记录。如果表结构中没有提供足够的信息来确定请假情况，我们将无法提供完整的答案。", "sql": "SELECT 姓名, 考勤日期, 星期几, 有效法定加班, 有效周末加班, 有效平时加班, 异常类型 FROM a_sap_employee_attendance_details_chinese WHERE 三级机构 = 'FQC/OQC-PTO' AND 考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,性别,国籍\n\nTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:工资等级组,原始法定加班,有效法定加班,实际出勤工时,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,有效周末加班,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,有效平时加班,原始周末加班,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,出勤工时,异常类型,单据类型,冲销时长,原始平时加班", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定这个礼拜的日期范围，由于今天是2024-03-15，我们可以假设这个礼拜指的是2024-03-10（星期日）到2024-03-16（星期六）。接下来，我们需要从a_sap_employee_attendance_details_chinese表中查询出属于'FQC/OQC-PTO'小组的员工在这个日期范围内的加班和请假情况。我们可以通过'三级机构'字段来筛选出属于'FQC/OQC-PTO'小组的员工，然后通过'考勤日期'字段来筛选出这个礼拜的记录。加班情况可以通过'有效法定加班'、'有效周末加班'和'有效平时加班'字段来获取，而请假情况可能需要通过'异常类型'字段来判断，但是表结构中没有提供具体的异常类型值，所以我们无法准确地查询出请假情况。因此，我们只能提供加班情况的查询。", "sql": "SELECT 姓名, 人员工号, 考勤日期, 星期几, 有效法定加班, 有效周末加班, 有效平时加班 FROM a_sap_employee_attendance_details_chinese WHERE 三级机构 = 'FQC/OQC-PTO' AND 考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,性别,国籍\n\nTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:工资等级组,原始法定加班,有效法定加班,实际出勤工时,工作区域,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,职位,有效值班,原始值班,隶属小组,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,有效周末加班,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,有效平时加班,原始周末加班,人员工号:【可以用这个字段和其他表的进行关联】,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,人事范围,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,考勤日期,星期几,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,上班1:【员工当天第一次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班5:【员工当天第五次打下班卡的时间】,迟到分钟数,早退分钟数,迟到早退分钟数,旷工小时数,出勤工时,异常类型,单据类型,冲销时长,原始平时加班", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定当前日期所在的周的起始和结束日期。由于当前日期是2024-03-15，我们可以计算出这个礼拜的起始日期是2024-03-10（周日），结束日期是2024-03-16（周六）。接下来，我们需要从a_sap_employee_attendance_details_chinese表中查询FQC/OQC-PTO小组的人员在这个时间范围内的加班和请假情况。我们将使用'三级机构'字段来确定小组，并使用'考勤日期'字段来筛选出这个礼拜的记录。加班情况可以通过'有效法定加班'、'有效周末加班'和'有效平时加班'字段来获取，而请假情况可以通过'异常类型'字段来获取，其中请假的异常类型可能包括各种请假原因。我们需要将查询结果限制为最多50条记录。", "sql": "SELECT 姓名, 考勤日期, 星期几, 有效法定加班, 有效周末加班, 有效平时加班, 异常类型 FROM a_sap_employee_attendance_details_chinese WHERE 三级机构 = 'FQC/OQC-PTO' AND 考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [] "}
{"data_example": "[[\"\\u8f66\\u95f4\", \"\\u6708\\u4efd\", \"model\", \"productno\", \"\\u5e73\\u53f0\", \"\\u5ba2\\u6237\", \"\\u5de5\\u5e8f\", \"defectcode\", \"\\u6570\\u91cf\", \"reasoncode\", \"\\u5c5e\\u6027\", \"reasoncode.1\", \"\\u574f\\u54c1\\u63cf\\u8ff0\", \"model.1\", \"ac_oh\", \"pa_oh\", \"sa_oh\", \"sp_oh\", \"\\u51f8\\u819c\\u7acb\\u8fb9r\\u89d2\", \"\\u5377\\u7ed5\\u5c42\\u6570\", \"al\\u7b94\\u539a\\u5ea6\", \"cb\\u503c\", \"cu\\u7b94\\u539a\\u5ea6\", \"dlc\", \"emc\", \"est\", \"ldp\", \"\\u9633\\u6781\\u710a\\u70b9\", \"\\u5e73\\u53f0\\u7535\\u538b\", \"\\u6298\\u8fb9\\u65b9\\u5f0f\", \"\\u6700\\u5927\\u5145\\u7535\\u500d\\u7387\", \"\\u6ce8\\u6db2\\u91cf\", \"\\u6ce8\\u6db2\\u7cfb\\u6570\", \"\\u6700\\u5c0f\\u4fdd\\u6db2\\u91cf\", \"\\u6700\\u5c0f\\u4fdd\\u6db2\\u7cfb\\u6570\", \"\\u6700\\u5927\\u62bd\\u51fa\\u91cf\", \"\\u9633\\u6781\\u51b7\\u538b\\u5bc6\\u5ea6\", \"\\u9633\\u6781\\u51b7\\u538b\\u6b21\\u6570\", \"\\u9633\\u6781\\u77f3\\u58a8\\u4e3b\\u6750\", \"\\u9633\\u6781\\u914d\\u65b9\\u4ee3\\u53f7_nict\", \"\\u9634\\u6781\\u514b\\u5bb9\\u91cf\", \"\\u9634\\u6781\\u51b7\\u538b\\u5bc6\\u5ea6\", \"\\u9634\\u6781\\u6d3b\\u6027\\u7269\\u8d28\\u4e3b\\u6750\", \"\\u9634\\u6781\\u7247\\u5e95\\u6d82\", \"\\u9634\\u6781oap\", \"\\u9634\\u6781\\u914d\\u65b9\\u4ee3\\u53f7_nict\", \"\\u9694\\u79bb\\u819c\\u4fd7\\u79f0\", \"\\u9694\\u819c\\u57fa\\u6750\\u539a\\u5ea6\", \"\\u9694\\u819c\\u5904\\u7406\\u65b9\\u5f0fb\", \"\\u9876\\u5c01\\u8fb9\\u5bbd_mm\", \"pocket\\u4fd7\\u79f0\", \"pocket\\u989c\\u8272\"], [\"W02S01-S04\", \"Jul-23\", \"426384-010\", \"GC-SCC-426384-010L\", \"M6ST\", \"BBK\", \"\\u6ce8\\u6db2\", \"K003-P\", 6.0, \"K003-P\", \"\\u6027\\u80fd\", \"K003-P\", \"\\u7834\\u574f\\u6027\\u68c0\\u6d4b\", \"426384-010\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", 3, \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\"], [\"W02S01-S04\", \"Aug-23\", \"426384-010\", \"GC-SCC-426384-010L\", \"M6ST\", \"BBK\", \"\\u76ee\\u68c0\", \"F010A-P\", 2.0, \"F010A-P\", \"\\u5916\\u89c2\", \"F010A-P\", \"sealant\\u5916\\u89c2\\u4e0d\\u826f,\\u53d1\\u767d,\\u65ad\\u88c2,\\u6b8b\\u7f3a\", \"426384-010\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", 3, \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\"], [\"W02S01-S04\", \"Sep-23\", \"426384-010\", \"GC-SCC-426384-010L\", \"M6ST\", \"BBK\", \"\\u76ee\\u68c0\", \"F025-P\", 26.0, \"F025-P\", \"\\u6027\\u80fd\", \"F025-P\", \"\\u7535\\u82af\\u70ed\\u7194\\u80f6\\u6c14\\u6ce1\", \"426384-010\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", 3, \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\"], [\"W02S01-S04\", \"Aug-23\", \"426384-010\", \"GC-SCC-426384-010L\", \"M6ST\", \"BBK\", \"\\u6210\\u578b\", \"F053C-P\", 3.0, \"F053C-P\", \"\\u8bbe\\u5907\", \"F053C-P\", \"\\u6210\\u578bSMED\\u8c03\\u673a\\u574f\\u54c1\", \"426384-010\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", 3, \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\"], [\"W02S01-S04\", \"Aug-23\", \"426384-010\", \"GC-SCC-426384-010L\", \"M6ST\", \"BBK\", \"\\u76ee\\u68c0\", \"F027B-P\", 28.0, \"F027B-P\", \"\\u6027\\u80fd\", \"F027B-P\", \"\\u55b7\\u7801\\u6cb9\\u58a8/pocket\\u6765\\u6599\\u5f02\\u5e38\", \"426384-010\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", 3, \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\"]]", "file_name": "优率明细数据.csv", "ai_sql_result": "### **Data Summary**\n```json\n{\n    DataAnalysis: 该数据集可能是某工厂车间的产品质量控制记录，涉及产品检测的不同工序、缺陷情况、数量等信息，可用于分析产品质量问题、生产效率以及改进生产工艺。,\n    ColumnAnalysis: [\n        {\n            车间: 工厂内不同生产区域的标识，用于区分产品在哪个车间生产。\n        ,\n        {\n            月份: 记录缺陷发现的月份，时间格式: MMM-yy (例如: Jul-23表示2023年7月)。\n        ,\n        {\n            model: 产品型号，用于区分不同的产品或零件。\n        ,\n        {\n            productno: 产品编号，用于具体标识某个产品批次或个体。\n        ,\n        {\n            平台: 生产平台或设备，指产品生产所用的机器或生产线。\n        ,\n        {\n            客户: 产品的最终客户或接受方的名称。\n        ,\n        {\n            工序: 产品生产的具体环节，如注液、目检、成型等。\n        ,\n        {\n            defectcode: 缺陷代码，用于标记产品质量检测中发现的具体缺陷类型。\n        ,\n        {\n            数量: 缺陷数量，指在某工序发现的某种缺陷的具体件数。\n        ,\n        {\n            reasoncode: 原因代码，用于表述导致缺陷的原因。\n        ,\n        {\n            属性: 缺陷属性，如性能问题、外观问题等。\n        ,\n        {\n            reasoncode.1: 原因代码的重复字段，可能是数据冗余或用于确认。\n        ,\n        {\n            坏品描述: 具体描述缺陷的性质和表现，有助于理解缺陷发生的具体情况。\n        ,\n        {\n            model.1: 产品型号的重复字段，可能是数据冗余或用于确认。\n        ,\n        {\n            ac_oh: 专业术语待解释，可能是某种检测数据或者设备状态记录。\n        ,\n        {\n            pa_oh: 专业术语待解释，可能是某种检测数据或者设备状态记录。\n        ,\n        {\n            sa_oh: 专业术语待解释，可能是某种检测数据或者设备状态记录。\n        ,\n        {\n            sp_oh: 专业术语待解释，可能是某种检测数据或者设备状态记录。\n        ,\n        {\n            凸垫立边R角: 在制造业中，这可能是指产品上凸起部分的边缘半径，是产品设计的一个参数。\n        ,\n        {\n            卷绕层数: 指材料绕制时的层数，常用于指示产品如电池或电感的绕线层数。\n        ,\n        {\n            al簧厚度: 指铝质弹簧片的厚度，常用于电子或机械产品中作为材料参数。\n        ,\n        {\n            cb值: 可能是指电池或相关产品的某个电化学参数，比如容量或内阻。\n        ,\n        {\n            cu簧厚度: 指铜质弹簧片的厚度，常用于电子或机械产品中作为材料参数。\n        ,\n        {\n            dlc: 可能是某种涂层或材料的缩写，如'Diamond-Like Carbon'，用于指示产品表面处理或材料属性。\n        ,\n        {\n            emc: 可能指电磁兼容性(E \n### **Data Structure**\n- **1.[车间]**   _-_\n- **2.[月份]**   _-_\n- **3.[model]**   _-_\n- **4.[productno]**   _-_\n- **5.[平台]**   _-_\n- **6.[客户]**   _-_\n- **7.[工序]**   _-_\n- **8.[defectcode]**   _-_\n- **9.[数量]**   _-_\n- **10.[reasoncode]**   _-_\n- **11.[属性]**   _-_\n- **12.[reasoncode.1]**   _-_\n- **13.[坏品描述]**   _-_\n- **14.[model.1]**   _-_\n- **15.[ac_oh]**   _-_\n- **16.[pa_oh]**   _-_\n- **17.[sa_oh]**   _-_\n- **18.[sp_oh]**   _-_\n- **19.[凸膜立边r角]**   _-_\n- **20.[卷绕层数]**   _-_\n- **21.[al箔厚度]**   _-_\n- **22.[cb值]**   _-_\n- **23.[cu箔厚度]**   _-_\n- **24.[dlc]**   _-_\n- **25.[emc]**   _-_\n- **26.[est]**   _-_\n- **27.[ldp]**   _-_\n- **28.[阳极焊点]**   _-_\n- **29.[平台电压]**   _-_\n- **30.[折边方式]**   _-_\n- **31.[最大充电倍率]**   _-_\n- **32.[注液量]**   _-_\n- **33.[注液系数]**   _-_\n- **34.[最小保液量]**   _-_\n- **35.[最小保液系数]**   _-_\n- **36.[最大抽出量]**   _-_\n- **37.[阳极冷压密度]**   _-_\n- **38.[阳极冷压次数]**   _-_\n- **39.[阳极石墨主材]**   _-_\n- **40.[阳极配方代号_nict]**   _-_\n- **41.[阴极克容量]**   _-_\n- **42.[阴极冷压密度]**   _-_\n- **43.[阴极活性物质主材]**   _-_\n- **44.[阴极片底涂]**   _-_\n- **45.[阴极oap]**   _-_\n- **46.[阴极配方代号_nict]**   _-_\n- **47.[隔离膜俗称]**   _-_\n- **48.[隔膜基材厚度]**   _-_\n- **49.[隔膜处理方式b]**   _-_\n- **50.[顶封边宽_mm]**   _-_\n- **51.[pocket俗称]**   _-_\n- **52.[pocket颜色]**   _-_\n\n### **Analysis plans**\n"}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,英文名,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码\n\nTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:原始平时加班,雇佣状态:【值为：[\"在职\",\"离职\"]】,姓名,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,职位,有效值班,原始值班,隶属小组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,考勤日期,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定'这个礼拜'的日期范围。由于今天是2024-03-15，我们可以假设这个礼拜开始于2024-03-10（星期日）并结束于2024-03-16（星期六）。接下来，我们需要从a_sap_employee_information_chinese表中找到属于'FQC/OQC-PTO'这个三级机构的所有员工的人员工号。然后，我们将使用这些工号去a_sap_employee_attendance_details_chinese表中查询对应员工在这个礼拜的加班和请假情况。我们将使用考勤日期字段来限制查询范围，并且可能会用到有效平时加班、有效法定加班、有效周末加班、异常类型等字段来获取加班和请假的详细信息。由于用户没有指定具体的展示方式，我们将使用response_table作为数据展示方法。", "sql": "WITH EmployeeIDs AS (\n    SELECT 人员工号\n    FROM a_sap_employee_information_chinese\n    WHERE 三级机构 = 'FQC/OQC-PTO'\n)\nSELECT a.姓名, a.人员工号, b.考勤日期, b.有效平时加班, b.有效法定加班, b.有效周末加班, b.异常类型\nFROM EmployeeIDs e\nJOIN a_sap_employee_attendance_details_chinese b ON e.人员工号 = b.人员工号\nWHERE b.考勤日期 BETWEEN '2024-03-10' AND '2024-03-16'\nLIMIT 50", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_dev", "user_input": "FQC/OQC-PTO 这个小组的人这个礼拜的加班，请假情况。", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_employee_information_chinese,table_comment:公司里所有员工基本信息表。Columns:一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,最近一次晋升日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,姓名,职级:【值为：[\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\"]】,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,离职类型:【值为：[\"退休\",\"主动辞职\",\"被动辞职\",\"辞退\"]】,离职原因:【值包括：[\"离职-不计离职率\",\"集团内互转\",\"解除劳动关系\"..]等等】,离职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,员工子组:【值为：[\"B1\",\"B3\",\"A2\",\"A5\",\"A1\",\"A3\",\"B3\",\"A4\"]】,英文名,性别,国籍,民族,婚姻状况,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码\n\nTable:a_sap_employee_attendance_details_chinese,table_comment:公司所有员工每天的考勤表Columns:原始平时加班,雇佣状态:【值为：[\"在职\",\"离职\"]】,姓名,人员工号:【可以用这个字段和其他表的进行关联】,工作区域,职位,有效值班,原始值班,隶属小组,单据状态:【异常处理的单据的状态，值有：[\"已审核\",\"未审核\"]】,工资等级组,考勤模式:【值为：[\"免刷卡人员\",\"一次刷卡人员\",\"两次刷卡人员\",\"四次刷卡人员\"]】,班别代码,三级员工周六（打卡时数）,实际出勤工时,有效法定加班,原始法定加班,有效周末加班,原始周末加班,有效平时加班,考勤日期,冲销时长,单据类型,异常类型,出勤工时,旷工小时数,迟到早退分钟数,早退分钟数,迟到分钟数,下班5:【员工当天第五次打下班卡的时间】,上班5:【员工当天第五次打上班卡的时间】,下班4:【员工当天第四次打下班卡的时间】,上班4:【员工当天第四次打上班卡的时间】,下班3:【员工当天第三次打下班卡的时间】,上班3:【员工当天第三次打上班卡的时间】,下班2:【员工当天第二次打下班卡的时间】,上班2:【员工当天第二次打上班卡的时间】,下班1:【员工当天第一次打下班卡的时间】,上班1:【员工当天第一次打上班卡的时间】,日工作计划:【当前员工的工作计划，值有：[\"白班0800-ND\",\"夜班2000\",\"白班0700\"...]等等】,星期几", "extend_info": "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;\n\t如下用Markdown表格结构来说明部门机构的关系。\n|\t机构层级\t|\t父级机构\t|\t简称\t|\t全称\t|\t中文名称\t|\n|---------|---------|------|------|--------|\n|\t一级机构\t|\t-\t|\tQA\t|\tQuality Assurance\t|\t品质保证部\t|\n|\t二级机构\t|\tQA\t|\tSQM\t|\tSupplier Quality Management\t|\t供应商质量管理部\t|\n|\t三级机构\t|\tSQM\t|\tSQE\t|\t\t|\t供应商质量工程组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-DG\t|\t\t|\t来料质量管控-DG组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-ND\t|\t\t|\t来料质量管控-ND组\t|\n|\t三级机构\t|\tSQM\t|\tIQC-BCU\t|\tIncoming Quality Contral-Battery Component Unit\t|\t来料质量管控-BCU组\t|\n|\t二级机构\t|\tQA\t|\tQE\t|\tQuality Engineering\t|\t质量工程部\t|\n|\t三级机构\t|\tQE\t|\tICT-Domestic\t|\tICT-Domestic\t|\tICT国内客户组\t|\n|\t三级机构\t|\tQE\t|\tICT-J&K\t|\tJapan&Korea\t|\t日韩组\t|\n|\t三级机构\t|\tQE\t|\tICT-Overseas\t|\tICT-Overseas\t|\tICT国外客户组\t|\n|\t三级机构\t|\tQE\t|\tPH\t|\tPack house\t|\t驻厂组\t|\n|\t三级机构\t|\tQE\t|\tTQE\t|\tTechnology Quality Engineering\t|\t技术品质工程组\t|\n|\t二级机构\t|\tQA\t|\tQMC\t|\tQuality Management Center\t|\t质量管理中心\t|\n|\t三级机构\t|\tQMC\t|\tQMS\t|\tQuality Management System\t|\t质量管理体系组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC\t|\tFinal Quality Control/Outgoing Quality Control\t|\t最终/出货质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tFQC/OQC-PTO\t|\tFinal Quality Control/Outgoing Quality Control-Prototype\t|\t最终/出货质量控制-制样组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC\t|\tIn Process Quality Control\t|\t制程质量控制组\t|\n|\t三级机构\t|\tQMC\t|\tIPQC-PTO\t|\tIn Process Quality Control-Prototype\t|\t制程质量控制-制样组\t|\n|\t二级机构\t|\tQA\t|\tRSE\t|\tReliability  Safety Engineering\t|\t安全可靠性工程部\t|", "display_type": "response_table", "qa_samples": "\t用户输入1：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql1：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n\t用户输入2：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql2：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql4：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：请列出目前所有员工的姓名和对应的职位。\n\tsql6：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要确定'这个礼拜'的日期范围。由于今天是2024-03-15，我们可以假设这个礼拜开始于2024-03-10（星期日）并结束于2024-03-16（星期六）。接下来，我们需要从a_sap_employee_attendance_details_chinese表中找到FQC/OQC-PTO小组的人员的加班和请假情况。我们可以通过'三级机构'列在a_sap_employee_information_chinese表中找到属于FQC/OQC-PTO小组的人员工号，然后使用这些工号在a_sap_employee_attendance_details_chinese表中查询对应的加班和请假记录。我们需要查找的列包括'人员工号'，'姓名'，'考勤日期'，'有效平时加班'，'有效法定加班'，'有效周末加班'，'异常类型'（可能表示请假）。我们将使用JOIN操作来关联这两个表，并且过滤出在指定日期范围内的记录。", "sql": "SELECT e.姓名, a.考勤日期, a.有效平时加班, a.有效法定加班, a.有效周末加班, a.异常类型 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_attendance_details_chinese a ON e.人员工号 = a.人员工号 WHERE e.三级机构 = 'FQC/OQC-PTO' AND a.考勤日期 BETWEEN '2024-03-10' AND '2024-03-16' LIMIT 50", "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;苏超凤&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;李红梅&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: &quot;加班差&quot;, {&quot;姓名&quot;: &quot;黄小民&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: &quot;缺卡或多卡旷工&quot;, {&quot;姓名&quot;: &quot;夏焕文&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;张亚锋&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;康贺&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;潘敏敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: &quot;缺卡或多卡&quot;, {&quot;姓名&quot;: &quot;秦君&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: &quot;加班差&quot;, {&quot;姓名&quot;: &quot;陈霜梅&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: &quot;缺卡或多卡旷工&quot;, {&quot;姓名&quot;: &quot;谢丽勤&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;李红梅&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;李瑞霞&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;韦陈旺&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;李旭英&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;刘亚睿&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;常晶鑫&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;彭丽琼&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 2, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;谷素明&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;陈霜梅&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;谢丽勤&quot;, &quot;考勤日期&quot;: &quot;2024-03-13T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;苏超凤&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;李红梅&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;李瑞霞&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;夏焕文&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 4, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;张亚锋&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;杨志刚&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;康贺&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;潘敏敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;秦君&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;皮建娅&quot;, &quot;考勤日期&quot;: &quot;2024-03-12T00:00:00&quot;, &quot;有效平时加班&quot;: 4, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;吕从敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;张四英&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;蒙引娣&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;王明霞&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;黄小民&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;谷素明&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;魏静&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 11, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;孙帅&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;韦近才&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;范景盘&quot;, &quot;考勤日期&quot;: &quot;2024-03-11T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;杨丹丹&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;李旭英&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;韦陈旺&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 2, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;刘亚睿&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;常晶鑫&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;彭丽琼&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;陈霜梅&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;袁玲俐&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 3, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;谢丽勤&quot;, &quot;考勤日期&quot;: &quot;2024-03-10T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null, {&quot;姓名&quot;: &quot;吕从敏&quot;, &quot;考勤日期&quot;: &quot;2024-03-14T00:00:00&quot;, &quot;有效平时加班&quot;: 0, &quot;有效法定加班&quot;: 0, &quot;有效周末加班&quot;: 0, &quot;异常类型&quot;: null "}
{"db_name": "muplus_chinese", "user_input": "在最近一周内，绕胶CCD1到4拉哪些设备的NG率最高？", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_plus_attx_ccd_data_chinese,table_comment:PLUS绕胶机CCD数据Columns:设备名称,设备坐标,时间,条码,检测结果:【值为：[\"OK\",\"NG\"]】,ng信息,电芯长度,电芯宽度,铝边距,铝偏角,镍边距,镍偏角,铝边距2,铝偏角2,阴极长度,阳极长度,中心距,工号,班次,成品编码,料盘编码", "extend_info": "\"设备坐标Sxx-x对应拉线规则\": \"S01-1、S01-2、S01-3、S01-4对应1拉，S02-1、S02-2、S02-3、S02-4对应2拉,按此规律类推\";", "display_type": "response_table", "qa_samples": "\t用户输入1：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql1：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入2：哪个一级机构下的在职员工人数最多？\n\tsql2：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql5：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入6：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql6：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要计算最近一周内每个设备的NG率。这可以通过计算每个设备的NG数量与总检测数量的比例来实现。我们将使用'设备坐标'来区分不同的设备，并且根据背景知识，我们知道'设备坐标'的前三个字符（例如'S01'）代表了设备的编号。我们需要过滤出最近一周内的数据，然后按设备分组，计算每个设备的NG数量和总数量，最后计算NG率并按照NG率降序排列。我们将限制结果为最多50个。", "sql": "SELECT SUBSTRING(设备坐标, 1, 3) AS 设备编号, SUM(CASE WHEN 检测结果 = 'NG' THEN 1 ELSE 0 END) AS NG数量, COUNT(*) AS 总数量, (SUM(CASE WHEN 检测结果 = 'NG' THEN 1 ELSE 0 END)::FLOAT / COUNT(*)) AS NG率 FROM a_sap_plus_attx_ccd_data_chinese WHERE 时间 >= CURRENT_DATE - INTERVAL '7 days' GROUP BY 设备编号 ORDER BY NG率 DESC LIMIT 50", "ai_sql_result": "&quot;: [{&quot;设备编号&quot;: &quot;S11&quot;, &quot;ng数量&quot;: 4371, &quot;总数量&quot;: 138415, &quot;ng率&quot;: 0.0315789474, {&quot;设备编号&quot;: &quot;S03&quot;, &quot;ng数量&quot;: 3206, &quot;总数量&quot;: 124754, &quot;ng率&quot;: 0.0256985748, {&quot;设备编号&quot;: &quot;S08&quot;, &quot;ng数量&quot;: 1853, &quot;总数量&quot;: 103942, &quot;ng率&quot;: 0.0178272498, {&quot;设备编号&quot;: &quot;S09&quot;, &quot;ng数量&quot;: 2791, &quot;总数量&quot;: 158889, &quot;ng率&quot;: 0.017565722, {&quot;设备编号&quot;: &quot;S07&quot;, &quot;ng数量&quot;: 2505, &quot;总数量&quot;: 165395, &quot;ng率&quot;: 0.0151455606, {&quot;设备编号&quot;: &quot;S05&quot;, &quot;ng数量&quot;: 2236, &quot;总数量&quot;: 155193, &quot;ng率&quot;: 0.0144078663, {&quot;设备编号&quot;: &quot;S10&quot;, &quot;ng数量&quot;: 2335, &quot;总数量&quot;: 186977, &quot;ng率&quot;: 0.012488167, {&quot;设备编号&quot;: &quot;S12&quot;, &quot;ng数量&quot;: 1460, &quot;总数量&quot;: 144279, &quot;ng率&quot;: 0.0101192828, {&quot;设备编号&quot;: &quot;S06&quot;, &quot;ng数量&quot;: 1157, &quot;总数量&quot;: 148269, &quot;ng率&quot;: 0.0078033844, {&quot;设备编号&quot;: &quot;S02&quot;, &quot;ng数量&quot;: 1236, &quot;总数量&quot;: 211007, &quot;ng率&quot;: 0.0058576256, {&quot;设备编号&quot;: &quot;S04&quot;, &quot;ng数量&quot;: 1099, &quot;总数量&quot;: 200280, &quot;ng率&quot;: 0.0054873178, {&quot;设备编号&quot;: &quot;S01&quot;, &quot;ng数量&quot;: 563, &quot;总数量&quot;: 148140, &quot;ng率&quot;: 0.003800459 "}
{"db_name": "muplus_chinese", "user_input": "在最近一周内，绕胶CCD1到4拉哪些设备的NG率最高？", "top_k": "50", "dialect": "postgresql", "table_info": "Table:a_sap_plus_attx_ccd_data_chinese,table_comment:PLUS绕胶机CCD数据Columns:设备名称,设备坐标,时间,条码,检测结果:【值为：[\"OK\",\"NG\"]】,ng信息,电芯长度,电芯宽度,铝边距,铝偏角,镍边距,镍偏角,铝边距2,铝偏角2,阴极长度,阳极长度,中心距,工号,班次,成品编码,料盘编码", "extend_info": "\"设备坐标Sxx-x对应拉线规则\": \"S01-1、S01-2、S01-3、S01-4对应1拉，S02-1、S02-2、S02-3、S02-4对应2拉,按此规律类推\";", "display_type": "response_table", "qa_samples": "\t用户输入1：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql1：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入2：哪个一级机构下的在职员工人数最多？\n\tsql2：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：IDT部门的工程师在T128年和T129年的绩效如何？\n\tsql4：SELECT p.编制年度, p.姓名, p.人员工号, p.绩效 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE e.一级机构名称 = 'IDT' AND e.员工子组文本 = '三级员工' AND p.编制年度 IN ('T128', 'T129') LIMIT 50\n\n\t用户输入5：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql5：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入6：IDT部门的在职工程师在T128年和T129年的绩效如何？\n\tsql6：SELECT a.编制年度, a.姓名, a.人员工号, a.绩效 FROM a_sap_performance_ai a JOIN a_sap_employee_information_chinese b ON a.人员工号 = b.人员工号 WHERE b.一级机构名称 = 'IDT' AND b.职务名称 LIKE '%工程师%' AND b.雇佣状态 = '在职' AND a.编制年度 IN ('T128', 'T129') LIMIT 50\n\n", "current_date": "2024-03-15", "thoughts": "首先，我们需要计算最近一周内的日期范围，即从2024-03-08到2024-03-15。然后，我们需要根据设备坐标来确定是哪一拉（CCD1到4拉），这可以通过设备坐标的前三个字符来判断。接着，我们需要计算每个设备的NG率，即NG数量除以总检测数量。最后，我们将按照NG率降序排列，并限制结果为最多50个。", "sql": "SELECT 设备名称, COUNT(*) FILTER (WHERE 检测结果 = 'NG')::FLOAT / COUNT(*) AS ng_rate FROM a_sap_plus_attx_ccd_data_chinese WHERE 时间 BETWEEN '2024-03-08' AND '2024-03-15' AND 设备坐标 LIKE 'S01-%' OR 设备坐标 LIKE 'S02-%' OR 设备坐标 LIKE 'S03-%' OR 设备坐标 LIKE 'S04-%' GROUP BY 设备名称 ORDER BY ng_rate DESC LIMIT 50", "ai_sql_result": "&quot;: [{&quot;设备名称&quot;: &quot;ATTX0067&quot;, &quot;ng_rate&quot;: 0.0190913809, {&quot;设备名称&quot;: &quot;ATTX0060&quot;, &quot;ng_rate&quot;: 0.0165604772, {&quot;设备名称&quot;: &quot;ATTX005W&quot;, &quot;ng_rate&quot;: 0.0116864479, {&quot;设备名称&quot;: &quot;ATTX00FF&quot;, &quot;ng_rate&quot;: 0.0094975641, {&quot;设备名称&quot;: &quot;ATTX005T&quot;, &quot;ng_rate&quot;: 0.0092809715, {&quot;设备名称&quot;: &quot;ATTX0069&quot;, &quot;ng_rate&quot;: 0.0085531503, {&quot;设备名称&quot;: &quot;ATTX005Y&quot;, &quot;ng_rate&quot;: 0.0077347679, {&quot;设备名称&quot;: &quot;ATTX006A&quot;, &quot;ng_rate&quot;: 0.0064542563, {&quot;设备名称&quot;: &quot;ATTX006N&quot;, &quot;ng_rate&quot;: 0.0059544826, {&quot;设备名称&quot;: &quot;ATTX006P&quot;, &quot;ng_rate&quot;: 0.0055021374, {&quot;设备名称&quot;: &quot;ATTX00FG&quot;, &quot;ng_rate&quot;: 0.005490852, {&quot;设备名称&quot;: &quot;ATTX006B&quot;, &quot;ng_rate&quot;: 0.0051267689, {&quot;设备名称&quot;: &quot;ATTX005X&quot;, &quot;ng_rate&quot;: 0.0042976798, {&quot;设备名称&quot;: &quot;ATTX005V&quot;, &quot;ng_rate&quot;: 0.0017556639, {&quot;设备名称&quot;: &quot;ATTX005U&quot;, &quot;ng_rate&quot;: 0.0017194838 "}
