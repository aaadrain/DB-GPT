{
  "db_name": "hr_chinese_fk",
  "user_input": "请列出在T127财年中表现最差(D级绩效)且工龄超过10年的所有员工的姓名和部门名称，如果在职，同时列出他们的直属上司姓名。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)",
    "Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"
  ],
  "extend_info": [
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql1：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入2：请列出所有员工的姓名和对应的直属上司姓名，并按照部门分类。\n\tsql2：SELECT e.姓名, e.直属上司姓名, e.一级机构名称 FROM a_sap_employee_information_chinese e ORDER BY e.一级机构名称 LIMIT 50\n\n\t用户输入3：请列出目前所有员工的姓名和对应的职位。\n\tsql3：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入4：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql4：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入5：列出当前在职员工的平均工龄。\n\tsql5：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n",
  "thoughts": "要找出T127财年中绩效为D级且工龄超过10年的员工，我们需要从绩效表中筛选出绩效为D的员工，然后结合员工信息表来确定工龄超过10年的员工。但是，当前给出的表结构中没有员工的入职日期或其他可以用来计算工龄的信息，也没有员工的在职状态和直属上司姓名。因此，我们无法生成一个完整的SQL查询来满足这个要求。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "基于当前的招聘计划，查询在T127财年第二季 度（Q2）拥有最多岗位空缺的一级机构和对应的空缺数量，并列出该机构目前所有员工的平均工龄。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql1：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入2：我们想知道当前有多少个职位是空缺的，即有效编制空缺大于0的职位。\n\tsql2：SELECT COUNT(*) FROM a_sap_staffing_recruitment_plan_chinese WHERE 有效编制空缺 > 0;\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：统计当前全部员工的平均入职年限。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：公司今年第二季度的有效编制空缺数量是多少？\n\tsql5：SELECT SUM(有效编制空缺) AS 第二季度有效编制空缺总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (7, 8, 9)\n\n\t用户输入6：列出当前在职员工的平均工龄。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n",
  "thoughts": "为了找到T127财年第二季度拥有最多岗位空缺的一级机构，我们需要按照一级机构分组并计算每个一级机构的空缺总数，然后选择空缺数最多的机构。根据背景知识，T127对应2022年，Q2对应7, 8, 9月份。因此，我们需要在查询中指定编制年度为'T127'和编制月度为7, 8, 9。找到该机构后，需要查询目前所有员工的平均工龄，这通常需要员工信息表，但是提供的表结构信息中没有包含员工信息表或员工工龄信息，因此无法生成计算平均工龄的SQL查询。",
  "sql": "SELECT 一级机构, SUM(有效编制空缺) AS 空缺总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (7, 8, 9) GROUP BY 一级机构 ORDER BY 空缺总数 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;MU-M&quot;, &quot;空缺总数&quot;: 7645 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "找出在上一个财年（T127）绩效为A且学历为'大学本科'的员工，并列出他们的姓名、学历、雇佣状态和人员工号。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"
  ],
  "extend_info": [
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql1：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入2：在所有教育信息中，有多少人持有大学本科学历，并且在2021年以前入职的？\n\tsql2：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科' AND 入职日期 < '2021-01-01'\n\n\t用户输入3：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql3：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入4：持有本科学历的员工有多少人?\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科';\n\n\t用户输入5：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql5：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入6：请列出目前所有一级机构下，具有本科学历且职位为技术员的员工列表。\n\tsql6：SELECT e.人员工号, e.姓名, e.职位, e.入职日期, e.一级机构名称 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.职位 like '%技术员%' AND edu.学历 = '大学本科' AND e.雇佣状态 = '在职' LIMIT 50\n\n",
  "thoughts": "为了找到符合条件的员工，我们需要从绩效表中筛选出在T127财年绩效为A的员工，然后从教育经历表中筛选出学历为'大学本科'的员工。接着，我们需要将这两个查询的结果通过人员工号关联起来，最后选择所需的列。由于原始问题中没有提及雇佣状态的来源，我们假设雇佣状态在员工的基本信息表中，但因为这张表没有在给定的表结构中提及，所以我们无法包括雇佣状态这一列。因此，我们只能返回姓名、学历和人员工号。",
  "sql": "SELECT edu.姓名, edu.学历, edu.人员工号 FROM a_sap_employee_education_experience_chinese edu INNER JOIN a_sap_performance_ai perf ON edu.人员工号 = perf.人员工号 WHERE perf.绩效 = 'A' AND perf.编制年度 = 'T127' AND edu.学历 = '大学本科' LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;胡杨&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 75575, {&quot;姓名&quot;: &quot;刘涛&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 80798, {&quot;姓名&quot;: &quot;叶亚小&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 73475, {&quot;姓名&quot;: &quot;吕芳&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 81281, {&quot;姓名&quot;: &quot;李刚果&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 82081, {&quot;姓名&quot;: &quot;吴华娥&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 79514, {&quot;姓名&quot;: &quot;林吾焱&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 83855, {&quot;姓名&quot;: &quot;王立忠&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 97640, {&quot;姓名&quot;: &quot;陈雪琴&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 97777, {&quot;姓名&quot;: &quot;刘有当&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 79792, {&quot;姓名&quot;: &quot;林明强&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 83845, {&quot;姓名&quot;: &quot;陈昱成&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 72055, {&quot;姓名&quot;: &quot;张卫红&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 54502, {&quot;姓名&quot;: &quot;曾维雄&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 97986, {&quot;姓名&quot;: &quot;张亚杰&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 71165, {&quot;姓名&quot;: &quot;滕秋胜&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 82056, {&quot;姓名&quot;: &quot;杨文超&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 81289, {&quot;姓名&quot;: &quot;江青元&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 66720, {&quot;姓名&quot;: &quot;黄渠&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 90481, {&quot;姓名&quot;: &quot;罗柯&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 91425, {&quot;姓名&quot;: &quot;薄祥昆&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 92035, {&quot;姓名&quot;: &quot;于晓晴&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 88416, {&quot;姓名&quot;: &quot;王仲一&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 94515, {&quot;姓名&quot;: &quot;宋琴&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 93367, {&quot;姓名&quot;: &quot;胡飞鹏&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 95704, {&quot;姓名&quot;: &quot;陈鹏&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 100161, {&quot;姓名&quot;: &quot;宁瑶瑶&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 108621, {&quot;姓名&quot;: &quot;吴铃华&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 100087, {&quot;姓名&quot;: &quot;刘弦开&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 105531, {&quot;姓名&quot;: &quot;李亚军&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 100413, {&quot;姓名&quot;: &quot;杨典&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 93555, {&quot;姓名&quot;: &quot;唐佳&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 100452, {&quot;姓名&quot;: &quot;皮荣强&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 99856, {&quot;姓名&quot;: &quot;邵颖&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 100018, {&quot;姓名&quot;: &quot;周博闻&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 110804, {&quot;姓名&quot;: &quot;肖传旺&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 108885, {&quot;姓名&quot;: &quot;赵阳雨&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 114238, {&quot;姓名&quot;: &quot;彭继&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 104329, {&quot;姓名&quot;: &quot;林文阵&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 105305, {&quot;姓名&quot;: &quot;冯纯丰&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 111098, {&quot;姓名&quot;: &quot;廖群超&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 100264, {&quot;姓名&quot;: &quot;李高飞&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 117849, {&quot;姓名&quot;: &quot;赵铭武&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 117476, {&quot;姓名&quot;: &quot;练陈武&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 100101, {&quot;姓名&quot;: &quot;方荣超&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 114778, {&quot;姓名&quot;: &quot;刘青平&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 118461, {&quot;姓名&quot;: &quot;田延芬&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 128867, {&quot;姓名&quot;: &quot;郭林生&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 117049, {&quot;姓名&quot;: &quot;黄淑娴&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 129335, {&quot;姓名&quot;: &quot;姜波&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;人员工号&quot;: 123284 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请统计当前所有在职员工的最高学历分布情况，要求显示学历名称及对应的在职员工数量，按员工数量降序排序。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)"
  ],
  "extend_info": [
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：当前具有硕士及以上学历的员工总数是多少？\n\tsql1：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入2：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql2：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入3：当前在职的员工中，有多少人的最高学历是博士？\n\tsql3：SELECT COUNT(DISTINCT eie.人员工号) AS 博士学历人数 FROM a_sap_employee_information_chinese AS eii JOIN a_sap_employee_education_experience_chinese AS eie ON eii.人员工号 = eie.人员工号 WHERE eii.雇佣状态 = '在职' AND eie.学历 = '博士' AND eie.结束日期 IN (     SELECT MAX(结束日期)     FROM a_sap_employee_education_experience_chinese     GROUP BY 人员工号 ) LIMIT 50;\n\n\t用户输入4：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql4：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：当前有多少员工具备硕士学历？\n\tsql6：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n",
  "thoughts": "由于提供的表结构信息中没有关于员工雇佣状态的信息，无法直接从提供的表中筛选出在职员工的数据。因此，无法生成满足用户需求的SQL查询。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "查找当前在职员工中，哪个二级机构拥有最多经理级别职务（JG11-13）的员工，列出这个二级机构的名称和员工数量。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_positions_responsibilities_risks_chinese(这个是公司每个岗位的责任和风险，以及绩效贡献标准等等表。),columns:(现职人数,集团,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,职位,成本类别名称:【岗位的成本类别，值有：[\"mgr.above\",\"idl\",\"staff\",\"dl\"]】,岗位名称,岗位属性名称,角色定位,岗位风险点,岗位职责,岗位任职资格,绩效贡献,经验及其他资质要求,部门职能类型名称:【值有：[\"工程\",\"研发\",\"运营\",\"支持\",\"销售\",\"质量\",\"其它\",\"atl\"]】,职务,职务类型:【值为：[\"p1-技术类\",\"f4-文职类\",\"技术类\",\"实习\",\"f2-操作类\",\"p2-非技术类\",\"m-管理类\",\"f3-现场管理类\",\"f1-现场技术类\"]】】)"
  ],
  "extend_info": [
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql1：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入2：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql2：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入3：目前哪个职位的员工数量最多？\n\tsql3：select 职位,count(*) as 数量 from a_sap_employee_information_chinese  group by 职位 order by 数量 desc\n\n\t用户输入4：哪个一级机构下的在职员工人数最多？\n\tsql4：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入5：查询哪个职位的在职人数最多？\n\tsql5：select 职位,count(*) as 数量 from a_sap_employee_information_chinese where 雇佣状态='在职'  group by 职位 order by 数量 desc\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n",
  "thoughts": "首先，我们需要在给定的表结构中查找包含职务和二级机构信息的表。在本例中，a_sap_positions_responsibilities_risks_chinese表包含我们需要的所有信息。我们需要统计每个二级机构中职务为经理级别（JG11-13）的员工数量。然后，我们可以按照这个数量对二级机构进行排序，最后选择数量最多的那个二级机构和对应的员工数量。由于表结构中没有直接提供职级范围的字段，我们需要根据职务类型来判断是否为经理级别职务。",
  "sql": "SELECT 二级机构, COUNT(*) AS 经理级别员工数量 FROM a_sap_positions_responsibilities_risks_chinese WHERE 职务 LIKE 'JG11%' OR 职务 LIKE 'JG12%' OR 职务 LIKE 'JG13%' GROUP BY 二级机构 ORDER BY 经理级别员工数量 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在最新的财年中，哪个一级机构的职位空缺率最高，且至少有2个以上的空缺数？（职位空缺率 = 有效编制空缺数 / 年度编制数量）",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'FNC', 'shortname': 'COE', 'fullname': 'Center of Excellent', 'chinesename': '专业财务中心'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql1：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入2：哪个职级范围的有效编制空缺数最多，以及该职级范围各一级机构下的空缺数分布情况是怎样的？\n\tsql2：['SELECT 职级范围, SUM(有效编制空缺) AS 总有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 总有效编制空缺数 DESC LIMIT 1;', 'SELECT 一级机构, 职级范围, 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 职级范围 = (SELECT 职级范围 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY SUM(有效编制空缺) DESC LIMIT 1) ORDER BY 一级机构;']\n\n\t用户输入3：哪个部门的有效编制空缺数量最多？\n\tsql3：SELECT 一级机构, SUM(有效编制空缺) AS 总有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 一级机构 ORDER BY 总有效编制空缺 DESC LIMIT 1\n\n\t用户输入4：今年的有效编制空缺数是多少？\n\tsql4：SELECT SUM(有效编制空缺) AS 今年有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128'\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：我们想知道当前有多少个职位是空缺的，即有效编制空缺大于0的职位。\n\tsql6：SELECT COUNT(*) FROM a_sap_staffing_recruitment_plan_chinese WHERE 有效编制空缺 > 0;\n\n",
  "thoughts": "首先，我们需要确定最新财年的编制年度，根据背景知识，T127对应2022年，T128对应2023年，所以最新财年应该是T128。接下来，我们将计算每个一级机构的职位空缺率，并筛选出有效编制空缺数至少为2的机构。最后，我们将这些机构按照职位空缺率降序排列，并限制结果为最高的一个。",
  "sql": "SELECT 一级机构, SUM(有效编制空缺) AS 有效编制空缺数, SUM(年度编制数量) AS 年度编制数量, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 职位空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 有效编制空缺 >= 2 GROUP BY 一级机构 ORDER BY 职位空缺率 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;PSO&quot;, &quot;有效编制空缺数&quot;: 58, &quot;年度编制数量&quot;: 58, &quot;职位空缺率&quot;: 1.0 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请找出目前所有在职员工中，拥有研究生学历，目前属于管理岗位（职务类型为'm-管理类'），并在上个季度至少管理过5名下属的员工名单。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_positions_responsibilities_risks_chinese(这个是公司每个岗位的责任和风险，以及绩效贡献标准等等表。),columns:(现职人数,集团,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,职位,成本类别名称:【岗位的成本类别，值有：[\"mgr.above\",\"idl\",\"staff\",\"dl\"]】,岗位名称,岗位属性名称,角色定位,岗位风险点,岗位职责,岗位任职资格,绩效贡献,经验及其他资质要求,部门职能类型名称:【值有：[\"工程\",\"研发\",\"运营\",\"支持\",\"销售\",\"质量\",\"其它\",\"atl\"]】,职务,职务类型:【值为：[\"p1-技术类\",\"f4-文职类\",\"技术类\",\"实习\",\"f2-操作类\",\"p2-非技术类\",\"m-管理类\",\"f3-现场管理类\",\"f1-现场技术类\"]】】)"
  ],
  "extend_info": [
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "{'parent_org': 'RI', 'shortname': 'RCM', 'fullname': 'Research cooperation Management', 'chinesename': '研发管理部'}",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'RI', 'fullname': 'Research Institute', 'chinesename': '研究院'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：请列出目前我公司管理层（假设为职务名称包含'经理'或'总监'）中，拥有硕士及以上学历的员工列表。\n\tsql1：SELECT DISTINCT r.人员工号, r.姓名, r.职务名称, e.学历 FROM a_sap_reporting_relationship_chinese r INNER JOIN a_sap_employee_education_experience_chinese e ON r.人员工号 = e.人员工号 WHERE (r.职务名称 LIKE '%经理%' OR r.职务名称 LIKE '%总监%') AND e.学历 IN ('硕士', '博士') LIMIT 50\n\n\t用户输入2：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql2：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入3：当前有多少员工具备硕士学历？\n\tsql3：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入4：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql4：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入5：请查询所有在APD部门任职'经理'级别且拥有硕士学历的员工的姓名、职务名称和入职日期。\n\tsql5：SELECT e.姓名, e.职务名称, e.入职日期 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.一级机构名称 = 'APD' AND (e.职务名称 LIKE '%主任%' OR e.职务名称 LIKE '%经理%') AND edu.学历 = '硕士' LIMIT 50\n\n\t用户输入6：目前哪些员工的学历为硕士，并且其所在的一级机构为FE？\n\tsql6：SELECT DISTINCT e.人员工号, e.姓名\nFROM a_sap_employee_education_experience_chinese AS edu\nJOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号\nWHERE edu.学历 = '硕士' AND e.一级机构名称 = 'FE'\nLIMIT 50\n\n",
  "thoughts": "由于提供的表结构信息中没有关于员工的在职状态、学历信息、具体职务名称以及上个季度管理下属人数的直接数据，因此无法生成一个完整的SQL查询来回答这个问题。我们需要员工的在职状态信息、教育背景信息以及关于管理下属人数的数据，这些信息在当前提供的表结构中并不存在。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "计算当前在职员工平均工龄，并对比上一财年此时的平均工龄是否有所增长？（工龄 = 当前时间 - 开始参加工作日期）",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'PSO', 'shortname': 'CPA', 'fullname': 'Corporate public affairs', 'chinesename': '企业公共事务部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql3：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入4：公司全职员工中,哪个岗位的员工平均工龄最大？\n\tsql4：SELECT 职位, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 ORDER BY 平均工龄 DESC LIMIT 1\n\n\t用户输入5：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql5：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入6：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql6：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n",
  "thoughts": "为了计算当前在职员工的平均工龄，我们需要从员工信息表中选取在职员工，并计算他们开始参加工作日期到当前时间的年数，然后求平均值。同时，我们需要计算上一财年此时的平均工龄。由于我们没有直接的财年字段，我们需要根据当前年份来推断上一财年。当前年份是2023年，对应的财年是T128，那么上一财年就是T127，对应的年份是2022年。我们可以通过比较两个平均工龄的数值来判断是否有增长。",
  "sql": "WITH Current_Avg_Tenure AS (\n  SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 开始参加工作日期))) AS Current_Avg_Tenure\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职'\n),\nLast_Fiscal_Year_Avg_Tenure AS (\n  SELECT AVG(EXTRACT(YEAR FROM AGE(DATE '2022-01-01', 开始参加工作日期))) AS Last_Fiscal_Year_Avg_Tenure\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职'\n)\nSELECT\n  (SELECT Current_Avg_Tenure FROM Current_Avg_Tenure) AS 当前在职员工平均工龄,\n  (SELECT Last_Fiscal_Year_Avg_Tenure FROM Last_Fiscal_Year_Avg_Tenure) AS 上一财年平均工龄,\n  CASE\n    WHEN (SELECT Current_Avg_Tenure FROM Current_Avg_Tenure) > (SELECT Last_Fiscal_Year_Avg_Tenure FROM Last_Fiscal_Year_Avg_Tenure) THEN '增长'\n    WHEN (SELECT Current_Avg_Tenure FROM Current_Avg_Tenure) = (SELECT Last_Fiscal_Year_Avg_Tenure FROM Last_Fiscal_Year_Avg_Tenure) THEN '持平'\n    ELSE '减少'\n  END AS 工龄变化\nFROM Current_Avg_Tenure, Last_Fiscal_Year_Avg_Tenure\nLIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;当前在职员工平均工龄&quot;: 10.1174482467, &quot;上一财年平均工龄&quot;: 8.0849176172, &quot;工龄变化&quot;: &quot;增长&quot; "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在上一季度中，哪个一级机构下的所有二级机构平均招聘关闭数最多？（考虑只有发布过招聘的二级机构）",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：哪个一级机构下的在职员工人数最多？\n\tsql1：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入2：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql2：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入3：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql3：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：公司今年第二季度的有效编制空缺数量是多少？\n\tsql5：SELECT SUM(有效编制空缺) AS 第二季度有效编制空缺总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (7, 8, 9)\n\n\t用户输入6：哪个职级范围的有效编制空缺数最多，以及该职级范围各一级机构下的空缺数分布情况是怎样的？\n\tsql6：['SELECT 职级范围, SUM(有效编制空缺) AS 总有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 总有效编制空缺数 DESC LIMIT 1;', 'SELECT 一级机构, 职级范围, 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 职级范围 = (SELECT 职级范围 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY SUM(有效编制空缺) DESC LIMIT 1) ORDER BY 一级机构;']\n\n",
  "thoughts": "为了找到平均招聘关闭数最多的一级机构，我们需要计算上一季度每个一级机构下的所有二级机构的招聘关闭数的平均值。我们可以通过对a_sap_staffing_recruitment_plan_chinese表进行查询来实现这一点。首先，我们需要确定上一季度的编制年度和编制月度。根据背景知识，当前财年是T128，所以上一季度是T128的Q4，即1, 2, 3月。然后，我们将对每个一级机构进行分组，并计算其下所有二级机构的平均关闭数。最后，我们将选择平均关闭数最高的一级机构。",
  "sql": "SELECT 一级机构, AVG(关闭数) AS 平均关闭数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (1, 2, 3) GROUP BY 一级机构 ORDER BY 平均关闭数 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "根据员工基础信息表中员工的入职日期，计算各一级机构的平均工龄，并列出平均工龄超过5年的一级机构名称及其平均工龄。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql3：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：公司全职员工中,哪个岗位的员工平均工龄最大？\n\tsql5：SELECT 职位, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 ORDER BY 平均工龄 DESC LIMIT 1\n\n\t用户输入6：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql6：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n",
  "thoughts": "为了计算各一级机构的平均工龄，我们需要使用入职日期字段来计算每个员工的工龄，然后对每个一级机构的员工工龄进行平均。平均工龄超过5年的一级机构可以通过HAVING子句在分组聚合后进行过滤。我们将使用当前日期减去员工的入职日期来计算工龄，然后计算每个一级机构的平均工龄。",
  "sql": "SELECT 一级机构, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese GROUP BY 一级机构 HAVING AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) > 5 ORDER BY 平均工龄 DESC LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: null, &quot;平均工龄&quot;: 10.0476190476, {&quot;一级机构&quot;: &quot;BCM&quot;, &quot;平均工龄&quot;: 10.0, {&quot;一级机构&quot;: &quot;IT&quot;, &quot;平均工龄&quot;: 9.8333333333, {&quot;一级机构&quot;: &quot;SLS&quot;, &quot;平均工龄&quot;: 8.9766081871, {&quot;一级机构&quot;: &quot;EHS&quot;, &quot;平均工龄&quot;: 8.602739726, {&quot;一级机构&quot;: &quot;RI&quot;, &quot;平均工龄&quot;: 7.6038251366, {&quot;一级机构&quot;: &quot;ES&quot;, &quot;平均工龄&quot;: 7.4903846154, {&quot;一级机构&quot;: &quot;SEC&quot;, &quot;平均工龄&quot;: 7.4534792807, {&quot;一级机构&quot;: &quot;LOG&quot;, &quot;平均工龄&quot;: 7.1485714286, {&quot;一级机构&quot;: &quot;MU-SSL&quot;, &quot;平均工龄&quot;: 7.0813449024, {&quot;一级机构&quot;: &quot;FE&quot;, &quot;平均工龄&quot;: 6.5698113208, {&quot;一级机构&quot;: &quot;TPM&quot;, &quot;平均工龄&quot;: 6.4683544304, {&quot;一级机构&quot;: &quot;PLM&quot;, &quot;平均工龄&quot;: 6.4, {&quot;一级机构&quot;: &quot;SRC&quot;, &quot;平均工龄&quot;: 6.3027027027, {&quot;一级机构&quot;: &quot;CL&quot;, &quot;平均工龄&quot;: 6.3012259194, {&quot;一级机构&quot;: &quot;CPD&quot;, &quot;平均工龄&quot;: 6.2857142857, {&quot;一级机构&quot;: &quot;PA&quot;, &quot;平均工龄&quot;: 6.0, {&quot;一级机构&quot;: &quot;HR&quot;, &quot;平均工龄&quot;: 5.831372549, {&quot;一级机构&quot;: &quot;MRD&quot;, &quot;平均工龄&quot;: 5.6265822785, {&quot;一级机构&quot;: &quot;OS&quot;, &quot;平均工龄&quot;: 5.55, {&quot;一级机构&quot;: &quot;FNC&quot;, &quot;平均工龄&quot;: 5.5294117647, {&quot;一级机构&quot;: &quot;Corp.QA&quot;, &quot;平均工龄&quot;: 5.3823529412, {&quot;一级机构&quot;: &quot;ATLI&quot;, &quot;平均工龄&quot;: 5.3357664234, {&quot;一级机构&quot;: &quot;EPA&amp;IT&quot;, &quot;平均工龄&quot;: 5.2037037037, {&quot;一级机构&quot;: &quot;MDE&quot;, &quot;平均工龄&quot;: 5.1666666667, {&quot;一级机构&quot;: &quot;SLS&amp;MKT&quot;, &quot;平均工龄&quot;: 5.1071428571 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "找出当前在职的员工中持有'硕士'学历但未在技术类职务工作的员工姓名和职务名称，并且统计这样的员工数量。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql1：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入2：查找公司中拥有硕士学历的员工数量？\n\tsql2：SELECT COUNT(DISTINCT 人员工号) AS 硕士学历员工数量 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入3：当前有多少员工具备硕士学历？\n\tsql3：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入4：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql4：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入5：当前具有硕士及以上学历的员工总数是多少？\n\tsql5：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入6：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql6：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n",
  "thoughts": "首先，我们需要从员工基本信息表(a_sap_employee_information_chinese)中筛选出在职状态为'在职'的员工。然后，我们需要连接受教育经历表(a_sap_employee_education_experience_chinese)，以找出那些持有'硕士'学历的员工。接着，我们需要排除那些在技术类职务工作的员工。根据背景知识，技术类职务包括'工程师'，因此我们需要排除职务名称中包含'工程师'的记录。最后，我们需要计算符合条件的员工数量。",
  "sql": "SELECT e.姓名, e.职务名称 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '硕士' AND e.职务名称 NOT LIKE '%工程师%' LIMIT 50; SELECT COUNT(*) FROM (SELECT e.人员工号 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '硕士' AND e.职务名称 NOT LIKE '%工程师%') AS count_query",
  "ai_sql_result": "15 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "对于每个一级机构，找出财年T128中，实际在职人数与年度编制数量的差额，并列出差额最高的三个一级机构。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：对于T128财年，查询在'AD'二级机构中，编制月度为'3'月，员工子组为'技术员'的有效编制空缺数。\n\tsql1：SELECT 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 二级机构 = 'AD' AND 编制月度 = 3 AND 员工子组 = '技术员' LIMIT 50\n\n\t用户输入2：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql2：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：需要生成一份报告，列出所有三级机构，以及每个三级机构下拥有的职务类型总数。\n\tsql4：SELECT 三级机构, COUNT(DISTINCT 职务类型) AS 职务类型总数 FROM a_sap_positions_responsibilities_risks_chinese GROUP BY 三级机构 ORDER BY 三级机构 LIMIT 50;\n\n\t用户输入5：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql5：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入6：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql6：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n",
  "thoughts": "要找出每个一级机构在财年T128中实际在职人数与年度编制数量的差额，我们需要从a_sap_staffing_recruitment_plan_chinese表中筛选出编制年度为'T128'的记录，然后对每个一级机构计算实际在职人数（拟在职人数）与年度编制数量的差额，并按照差额从高到低排序，最后取差额最高的三个一级机构。",
  "sql": "SELECT 一级机构, (拟在职人数 - 年度编制数量) AS 差额 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY 差额 DESC LIMIT 3",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "找出那些有多于1个直属上司的员工，并列出他们的姓名、职务名称以及直属上司的姓名和职务。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [],
  "extend_info": [
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：请列出所有员工的姓名和对应的直属上司姓名，并按照部门分类。\n\tsql1：SELECT e.姓名, e.直属上司姓名, e.一级机构名称 FROM a_sap_employee_information_chinese e ORDER BY e.一级机构名称 LIMIT 50\n\n\t用户输入2：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql2：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql4：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql6：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n",
  "thoughts": "由于没有提供具体的表结构信息，我们无法确定一个表中是否包含了员工与上司的对应关系以及如何判断员工是否有多于1个直属上司。通常这样的信息会存储在员工表和上司关系表中，但在这个情况下，我们需要这样的表及其关系来构建SQL查询。因此，我们无法生成SQL查询。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "统计每个一级机构在最近一个完整的季度中的职级范围JG7-10（工程师层级）的在职员工的平均工龄，并找出平均工龄最高的部门。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql4：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入5：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql5：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入6：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql6：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n",
  "thoughts": "由于用户想要查询的是每个一级机构在最近一个完整的季度中职级范围JG7-10的在职员工的平均工龄，我们需要使用员工信息表来获取每个员工的一级机构、职级范围和入职日期。然后我们可以计算每个员工的工龄，并对每个一级机构中符合职级范围的在职员工的工龄进行平均。但是，提供的表结构信息中没有员工信息表或者包含员工入职日期的相关表，因此无法根据给出的表结构定义生成这个查询的SQL。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请列出在过去的财年中（T127），在所有一级机构中，每个机构哪个二级机构的平均员工工龄最高，并且需要过滤掉员工雇佣状态为'离职'的数据。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql3：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：公司全职员工中,哪个岗位的员工平均工龄最大？\n\tsql6：SELECT 职位, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 ORDER BY 平均工龄 DESC LIMIT 1\n\n",
  "thoughts": "由于用户的问题涉及到计算员工的平均工龄，并且需要根据一级机构和二级机构进行分组，同时还需要过滤掉雇佣状态为'离职'的数据。但是，给定的表结构信息中并没有提供员工的工龄、雇佣状态或是相关员工信息的表。因此，我们无法根据提供的表结构信息来生成相应的SQL查询来回答用户的问题。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}",
    "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}",
    "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'QA', 'shortname': 'QMC', 'fullname': 'Quality Management Center', 'chinesename': '质量管理中心'}",
    "{'parent_org': 'PPD', 'shortname': 'CMA', 'fullname': 'Competition Management & Analysis Team','chinesename': '竞争管理部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n",
  "thoughts": "由于绩效得分是以字母来表示的，我们需要将这些字母转换为数值来计算平均绩效得分。我们可以给每个绩效等级赋予一个数值，例如'A'=5, 'B+'=4, 'B'=3, 'B-'=2, 'C'=1, 'D'=0。然后，我们可以计算每个一级机构中所有员工绩效得分的平均值。由于我们并没有一级机构的直接信息，我们无法生成一个精确的SQL查询，因此我们无法回答这个问题。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "哪些员工在财年T127期间具有至少两种不同类型的教育背景，并且目前还在职？",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：当前有多少员工具备硕士学历？\n\tsql1：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入2：目前哪些员工的学历为硕士，并且其所在的一级机构为FE？\n\tsql2：SELECT DISTINCT e.人员工号, e.姓名\nFROM a_sap_employee_education_experience_chinese AS edu\nJOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号\nWHERE edu.学历 = '硕士' AND e.一级机构名称 = 'FE'\nLIMIT 50\n\n\t用户输入3：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql3：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入4：当前具有硕士及以上学历的员工总数是多少？\n\tsql4：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入5：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql5：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入6：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql6：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n",
  "thoughts": "首先，我们需要从员工教育经历表中找到在财年T127（对应2022年）期间有记录的员工，并且这些员工需要具备至少两种不同类型的教育背景。然后我们需要确保这些员工目前还在职，但由于给定的表结构中没有提供员工在职状态的信息，我们无法直接查询员工是否在职。因此，我们只能根据教育经历表提供的信息来筛选员工，并且假设这些员工目前还在职。我们可以通过对教育类型进行分组和计数来找出具有至少两种不同教育背景的员工。但是，由于我们没有员工在职状态的数据，我们不能确认他们是否仍然在职。",
  "sql": "SELECT 人员工号, 姓名, COUNT(DISTINCT 教育类型) AS 不同教育类型数量 FROM a_sap_employee_education_experience_chinese WHERE (结束日期 >= '2022-01-01' AND 开始日期 <= '2022-12-31') GROUP BY 人员工号, 姓名 HAVING COUNT(DISTINCT 教育类型) >= 2 LIMIT 50",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在上一财年（T127）中，有哪些一级机构的招聘开放职位（open数）数量大于它们的年度编制数量？列出这些机构及其对应的差值。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：截至目前，公司一级机构下有多少个不同的职务？\n\tsql1：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入2：今年是T127，7月份，请问最近一个季度中，各一级机构的招聘编制使用率是如何？需要考虑有效编制空缺和拟在职人数。\n\tsql2：SELECT 一级机构, SUM(拟在职人数) AS 拟在职总数, SUM(有效编制空缺) AS 有效空缺总数, (SUM(拟在职人数)::FLOAT / (SUM(拟在职人数) + SUM(有效编制空缺))) AS 编制使用率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 = 7 and 一级机构 is not null GROUP BY 一级机构 ORDER BY 编制使用率 DESC LIMIT 50\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：哪个一级机构下的在职员工人数最多？\n\tsql4：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入5：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql5：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入6：请问T127年度一共有多少有效的编制空缺？\n\tsql6：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127';\n\n",
  "thoughts": "首先，我们需要查找上一财年（T127）的数据。然后，我们要比较每个一级机构的招聘开放职位（open数）与其年度编制数量。我们只需要列出开放职位数量大于年度编制数量的机构，并计算它们之间的差值。我们将使用SUM函数来聚合每个一级机构的open数和年度编制数量，然后通过HAVING子句过滤出open数大于年度编制数量的机构。",
  "sql": "SELECT 一级机构, SUM(open数) - SUM(年度编制数量) AS 差值 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' GROUP BY 一级机构 HAVING SUM(open数) > SUM(年度编制数量) LIMIT 50",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "哪个一级机构在第三季度（T127-Q3）的招聘关闭数（关闭数）最多，并且该机构的哪个二级机构对应的关闭数最多？",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：哪个一级机构下的在职员工人数最多？\n\tsql1：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入2：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql2：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入3：今年是T127，7月份，请问最近一个季度中，各一级机构的招聘编制使用率是如何？需要考虑有效编制空缺和拟在职人数。\n\tsql3：SELECT 一级机构, SUM(拟在职人数) AS 拟在职总数, SUM(有效编制空缺) AS 有效空缺总数, (SUM(拟在职人数)::FLOAT / (SUM(拟在职人数) + SUM(有效编制空缺))) AS 编制使用率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 = 7 and 一级机构 is not null GROUP BY 一级机构 ORDER BY 编制使用率 DESC LIMIT 50\n\n\t用户输入4：哪个部门的有效编制空缺数量最多？\n\tsql4：SELECT 一级机构, SUM(有效编制空缺) AS 总有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 一级机构 ORDER BY 总有效编制空缺 DESC LIMIT 1\n\n\t用户输入5：哪个职级范围的有效编制空缺数最多，以及该职级范围各一级机构下的空缺数分布情况是怎样的？\n\tsql5：['SELECT 职级范围, SUM(有效编制空缺) AS 总有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 总有效编制空缺数 DESC LIMIT 1;', 'SELECT 一级机构, 职级范围, 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 职级范围 = (SELECT 职级范围 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY SUM(有效编制空缺) DESC LIMIT 1) ORDER BY 一级机构;']\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n",
  "thoughts": "首先需要查询编制年度为'T127'且编制月度为10、11或12（第三季度）的数据，然后按一级机构分组，求每个一级机构的关闭数总和，找出关闭数最多的一级机构。接着，针对该一级机构，查询其下属各个二级机构的关闭数，并找出关闭数最多的二级机构。",
  "sql": "WITH TopOrg AS (SELECT 一级机构, SUM(关闭数) AS 总关闭数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (10, 11, 12) GROUP BY 一级机构 ORDER BY 总关闭数 DESC LIMIT 1) SELECT a.一级机构, b.二级机构, SUM(b.关闭数) AS 二级机构关闭数 FROM TopOrg a JOIN a_sap_staffing_recruitment_plan_chinese b ON a.一级机构 = b.一级机构 WHERE b.编制年度 = 'T127' AND b.编制月度 IN (10, 11, 12) GROUP BY a.一级机构, b.二级机构 ORDER BY 二级机构关闭数 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;ENG&quot;, &quot;二级机构&quot;: null, &quot;二级机构关闭数&quot;: 79 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "2023年入职的员工中，有多少人目前还在职",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql1：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入2：目前2023年3月份，职务为经理级别的员工中，空缺编制数量是多少？\n\tsql2：SELECT SUM(有效编制空缺) AS 空缺编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 in (1,2,3) AND 职级范围 = 'JG11-13'\n\n\t用户输入3：目前公司总共有多少空缺职位？\n\tsql3：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入4：统计当前全部员工的平均入职年限。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：目前哪个职位的员工数量最多？\n\tsql5：select 职位,count(*) as 数量 from a_sap_employee_information_chinese  group by 职位 order by 数量 desc\n\n\t用户输入6：请问2023年Q3有多少有效编制空缺？\n\tsql6：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (10, 11, 12)\n\n",
  "thoughts": "为了找出2023年入职并且目前还在职的员工数量，我们需要从员工信息表中筛选出入职日期在2023年内的记录，并且雇佣状态为'在职'的记录。可以通过WHERE子句来实现这些条件的筛选，并使用COUNT函数来计算符合条件的记录数。",
  "sql": "SELECT COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE EXTRACT(YEAR FROM 入职日期) = 2023 AND 雇佣状态 = '在职'",
  "ai_sql_result": "&quot;: [{&quot;在职员工数量&quot;: 2801 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "2023年自离员工人数",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：目前2023年3月份，职务为经理级别的员工中，空缺编制数量是多少？\n\tsql1：SELECT SUM(有效编制空缺) AS 空缺编制数量 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 in (1,2,3) AND 职级范围 = 'JG11-13'\n\n\t用户输入2：请问2023年Q3有多少有效编制空缺？\n\tsql2：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (10, 11, 12)\n\n\t用户输入3：在2022年Q1，公司有多少有效编制空缺？\n\tsql3：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (1, 2, 3)\n\n\t用户输入4：当前具有硕士及以上学历的员工总数是多少？\n\tsql4：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入5：目前公司总共有多少空缺职位？\n\tsql5：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入6：当前有多少员工具备硕士学历？\n\tsql6：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n",
  "thoughts": "由于用户询问的是2023年自离员工的人数，我们需要在a_sap_employee_information_chinese表中查询雇佣状态为'离职'的员工，并且他们的离职日期应该在2023年内。但是表结构中并没有提供离职日期这一字段，因此我们无法通过SQL查询来得知2023年自离员工的具体人数。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "4": ""
}{
  "db_name": "hr_chinese_fk",
  "user_input": "请列出在T127财年中表现最差(D级绩效)且工龄超过10年的所有员工的姓名和部门名称，如果在职，同时列出他们的直属上司姓名。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql1：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入2：请列出所有员工的姓名和对应的直属上司姓名，并按照部门分类。\n\tsql2：SELECT e.姓名, e.直属上司姓名, e.一级机构名称 FROM a_sap_employee_information_chinese e ORDER BY e.一级机构名称 LIMIT 50\n\n\t用户输入3：请列出目前所有员工的姓名和对应的职位。\n\tsql3：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入4：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql4：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入5：列出当前在职员工的平均工龄。\n\tsql5：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n",
  "thoughts": "首先，我们需要从a_sap_performance_ai表中筛选出T127财年绩效为D级的员工工号。然后，我们需要从a_sap_employee_information_chinese表中找到这些员工的姓名、一级机构名称（部门名称）、直属上司姓名和雇佣状态。我们还需要计算员工的工龄，即当前日期与员工开始参加工作日期的差值，筛选出工龄超过10年的员工。最后，我们需要将这些信息结合起来，只展示在职员工的直属上司姓名。",
  "sql": "SELECT e.姓名, e.一级机构 AS 部门名称, CASE WHEN e.雇佣状态 = '在职' THEN e.直属上司姓名 ELSE NULL END AS 直属上司姓名 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE p.绩效 = 'D' AND p.编制年度 = 'T127' AND EXTRACT(YEAR FROM AGE(CURRENT_DATE, e.开始参加工作日期)) > 10 ORDER BY e.姓名 LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;代栋&quot;, &quot;部门名称&quot;: &quot;MU-SSL&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;任蒙光&quot;, &quot;部门名称&quot;: &quot;PRD&quot;, &quot;直属上司姓名&quot;: &quot;李云&quot;, {&quot;姓名&quot;: &quot;冯推柏&quot;, &quot;部门名称&quot;: &quot;Corp.IE&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;刘金&quot;, &quot;部门名称&quot;: &quot;MU-E&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;叶?平&quot;, &quot;部门名称&quot;: &quot;IP&quot;, &quot;直属上司姓名&quot;: &quot;薛松&quot;, {&quot;姓名&quot;: &quot;吕宝良&quot;, &quot;部门名称&quot;: &quot;RD&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;吴成平&quot;, &quot;部门名称&quot;: &quot;FE&quot;, &quot;直属上司姓名&quot;: &quot;程凡&quot;, {&quot;姓名&quot;: &quot;吴敦荣&quot;, &quot;部门名称&quot;: &quot;RI&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;吴斌&quot;, &quot;部门名称&quot;: &quot;ME&quot;, &quot;直属上司姓名&quot;: &quot;徐涛&quot;, {&quot;姓名&quot;: &quot;吴磊&quot;, &quot;部门名称&quot;: &quot;MU&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;周兆忠&quot;, &quot;部门名称&quot;: &quot;FE&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;商光禄&quot;, &quot;部门名称&quot;: &quot;CPD&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;姜凯&quot;, &quot;部门名称&quot;: &quot;MU-M&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;孔环胜&quot;, &quot;部门名称&quot;: &quot;xTW&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;孙志远&quot;, &quot;部门名称&quot;: &quot;MU Plus&quot;, &quot;直属上司姓名&quot;: &quot;黄孔田&quot;, {&quot;姓名&quot;: &quot;左东平&quot;, &quot;部门名称&quot;: &quot;MU Plus&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;张伟新&quot;, &quot;部门名称&quot;: &quot;MU-E&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;张俊杰&quot;, &quot;部门名称&quot;: &quot;PRD&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;张婷立&quot;, &quot;部门名称&quot;: &quot;ES&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;彭华兴&quot;, &quot;部门名称&quot;: &quot;ENG&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;方治忠&quot;, &quot;部门名称&quot;: &quot;MU-SSL&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;曾建勇&quot;, &quot;部门名称&quot;: &quot;MU-SSL&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;权峰&quot;, &quot;部门名称&quot;: &quot;MRD&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;李为&quot;, &quot;部门名称&quot;: &quot;HR&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;李品&quot;, &quot;部门名称&quot;: &quot;MU&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;李恒银&quot;, &quot;部门名称&quot;: &quot;HR&quot;, &quot;直属上司姓名&quot;: &quot;杨安福&quot;, {&quot;姓名&quot;: &quot;李明程&quot;, &quot;部门名称&quot;: &quot;FE&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;杨忠荣&quot;, &quot;部门名称&quot;: &quot;SLS&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;汪淳&quot;, &quot;部门名称&quot;: &quot;HR&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;王六&quot;, &quot;部门名称&quot;: &quot;MU Plus&quot;, &quot;直属上司姓名&quot;: &quot;李阳&quot;, {&quot;姓名&quot;: &quot;王现昌&quot;, &quot;部门名称&quot;: &quot;MRD&quot;, &quot;直属上司姓名&quot;: &quot;陈宗雨&quot;, {&quot;姓名&quot;: &quot;王琦&quot;, &quot;部门名称&quot;: null, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;王良强&quot;, &quot;部门名称&quot;: &quot;MU-E&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;王远彬&quot;, &quot;部门名称&quot;: &quot;MU-SSL&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;程翔&quot;, &quot;部门名称&quot;: &quot;MU-SSL&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;范鹏杰&quot;, &quot;部门名称&quot;: &quot;PRD&quot;, &quot;直属上司姓名&quot;: &quot;罗成&quot;, {&quot;姓名&quot;: &quot;蒋小飞&quot;, &quot;部门名称&quot;: &quot;QA&quot;, &quot;直属上司姓名&quot;: &quot;彭军&quot;, {&quot;姓名&quot;: &quot;覃磊&quot;, &quot;部门名称&quot;: &quot;RD&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;许国鹏&quot;, &quot;部门名称&quot;: &quot;ENG&quot;, &quot;直属上司姓名&quot;: &quot;刘经&quot;, {&quot;姓名&quot;: &quot;谢景涛&quot;, &quot;部门名称&quot;: &quot;FE&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;赵德强&quot;, &quot;部门名称&quot;: &quot;CPD&quot;, &quot;直属上司姓名&quot;: &quot;王会勤&quot;, {&quot;姓名&quot;: &quot;郑兴日&quot;, &quot;部门名称&quot;: &quot;MRD&quot;, &quot;直属上司姓名&quot;: &quot;文青山&quot;, {&quot;姓名&quot;: &quot;郑文斌&quot;, &quot;部门名称&quot;: &quot;MU-W&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;闫兴贵&quot;, &quot;部门名称&quot;: &quot;MRD&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;陈凤岐&quot;, &quot;部门名称&quot;: &quot;MRD&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;陈凯&quot;, &quot;部门名称&quot;: &quot;MU-W&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;陈浩&quot;, &quot;部门名称&quot;: &quot;MRD&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;陈聪&quot;, &quot;部门名称&quot;: &quot;MRD&quot;, &quot;直属上司姓名&quot;: null, {&quot;姓名&quot;: &quot;马建华&quot;, &quot;部门名称&quot;: &quot;ME&quot;, &quot;直属上司姓名&quot;: &quot;李敏&quot;, {&quot;姓名&quot;: &quot;马超&quot;, &quot;部门名称&quot;: &quot;MU&quot;, &quot;直属上司姓名&quot;: null "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "基于当前的招聘计划，查询在T127财年第二季 度（Q2）拥有最多岗位空缺的一级机构和对应的空缺数量，并列出该机构目前所有员工的平均工龄。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql1：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入2：我们想知道当前有多少个职位是空缺的，即有效编制空缺大于0的职位。\n\tsql2：SELECT COUNT(*) FROM a_sap_staffing_recruitment_plan_chinese WHERE 有效编制空缺 > 0;\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：统计当前全部员工的平均入职年限。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：公司今年第二季度的有效编制空缺数量是多少？\n\tsql5：SELECT SUM(有效编制空缺) AS 第二季度有效编制空缺总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (7, 8, 9)\n\n\t用户输入6：列出当前在职员工的平均工龄。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n",
  "thoughts": "要解决这个问题，我们需要两个步骤。首先，我们需要查询T127财年第二季度（Q2，即7, 8, 9月）拥有最多岗位空缺的一级机构。这可以通过在a_sap_staffing_recruitment_plan_chinese表中对编制年度为'T127'和编制月度为7, 8, 9的记录进行分组并求和有效编制空缺来实现，然后选择有效编制空缺数量最多的一级机构。第二步，我们需要计算该一级机构目前所有在职员工的平均工龄，这可以通过在a_sap_employee_information_chinese表中计算在职员工的入职日期和当前日期之间的年差来实现。",
  "sql": "WITH RankedVacancies AS (\n  SELECT 一级机构,\n         SUM(有效编制空缺) AS 总空缺数,\n         RANK() OVER (ORDER BY SUM(有效编制空缺) DESC) AS rank\n  FROM a_sap_staffing_recruitment_plan_chinese\n  WHERE 编制年度 = 'T127' AND 编制月度 IN (7, 8, 9)\n  GROUP BY 一级机构\n), TopVacancyOrg AS (\n  SELECT 一级机构\n  FROM RankedVacancies\n  WHERE rank = 1\n), AvgWorkingYears AS (\n  SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职' AND 一级机构 IN (SELECT 一级机构 FROM TopVacancyOrg)\n)\nSELECT r.一级机构, r.总空缺数, a.平均工龄\nFROM RankedVacancies r\nJOIN AvgWorkingYears a ON r.rank = 1\nWHERE r.rank = 1\nLIMIT 1;",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;MU-M&quot;, &quot;总空缺数&quot;: 7645, &quot;平均工龄&quot;: null "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "找出在上一个财年（T127）绩效为A且学历为'大学本科'的员工，并列出他们的姓名、学历、雇佣状态和人员工号。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql1：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入2：在所有教育信息中，有多少人持有大学本科学历，并且在2021年以前入职的？\n\tsql2：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科' AND 入职日期 < '2021-01-01'\n\n\t用户输入3：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql3：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入4：持有本科学历的员工有多少人?\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科';\n\n\t用户输入5：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql5：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入6：请列出目前所有一级机构下，具有本科学历且职位为技术员的员工列表。\n\tsql6：SELECT e.人员工号, e.姓名, e.职位, e.入职日期, e.一级机构名称 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.职位 like '%技术员%' AND edu.学历 = '大学本科' AND e.雇佣状态 = '在职' LIMIT 50\n\n",
  "thoughts": "为了找到符合条件的员工，我们需要从绩效表中选出在T127财年绩效为A的员工，然后再从教育经历表中筛选出学历为'大学本科'的员工，最后与员工基本信息表进行连接，得到他们的姓名、学历、雇佣状态和人员工号。",
  "sql": "SELECT e.姓名, ed.学历, e.雇佣状态, e.人员工号 FROM a_sap_employee_information_chinese e JOIN a_sap_performance_ai p ON e.人员工号 = p.人员工号 JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE p.绩效 = 'A' AND p.编制年度 = 'T127' AND ed.学历 = '大学本科' LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;姜波&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 123284, {&quot;姓名&quot;: &quot;汪庆&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 123130, {&quot;姓名&quot;: &quot;赵婷婷&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 123150, {&quot;姓名&quot;: &quot;王倩&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 123182, {&quot;姓名&quot;: &quot;王译冉&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 122530, {&quot;姓名&quot;: &quot;刘林辉&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 123650, {&quot;姓名&quot;: &quot;李循&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 120943, {&quot;姓名&quot;: &quot;郑家座&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 129026, {&quot;姓名&quot;: &quot;罗剑锋&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 128268, {&quot;姓名&quot;: &quot;曹莉&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 130896, {&quot;姓名&quot;: &quot;梁国君&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 135902, {&quot;姓名&quot;: &quot;陈任峰&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 133067, {&quot;姓名&quot;: &quot;郎鲁燕&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 129339, {&quot;姓名&quot;: &quot;农华明&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 130912, {&quot;姓名&quot;: &quot;蒲世燕&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 142122, {&quot;姓名&quot;: &quot;李鑫&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 134634, {&quot;姓名&quot;: &quot;付魁辉&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 134603, {&quot;姓名&quot;: &quot;王长永&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 145736, {&quot;姓名&quot;: &quot;刘翔翔&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 144030, {&quot;姓名&quot;: &quot;陆笛&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 140618, {&quot;姓名&quot;: &quot;郭发军&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 143605, {&quot;姓名&quot;: &quot;谢贤欢&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 161712, {&quot;姓名&quot;: &quot;罗懿&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 143991, {&quot;姓名&quot;: &quot;梁迎春&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 146531, {&quot;姓名&quot;: &quot;张那布其&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 142331, {&quot;姓名&quot;: &quot;刘玉珍&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 149519, {&quot;姓名&quot;: &quot;于福生&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 147695, {&quot;姓名&quot;: &quot;谭子良&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 151778, {&quot;姓名&quot;: &quot;曾婧&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 151421, {&quot;姓名&quot;: &quot;钟小铃&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 146586, {&quot;姓名&quot;: &quot;吴海龙&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 154139, {&quot;姓名&quot;: &quot;冯海雄&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 156751, {&quot;姓名&quot;: &quot;李梦媛&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 149263, {&quot;姓名&quot;: &quot;金海兰&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 159787, {&quot;姓名&quot;: &quot;唐耀宗&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 147139, {&quot;姓名&quot;: &quot;薛?&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 146965, {&quot;姓名&quot;: &quot;初殿生&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 148154, {&quot;姓名&quot;: &quot;兰晓雯&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 151789, {&quot;姓名&quot;: &quot;陈善刚&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 150211, {&quot;姓名&quot;: &quot;齐佳佳&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 143149, {&quot;姓名&quot;: &quot;吴超宇&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 145714, {&quot;姓名&quot;: &quot;熊刚&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 149257, {&quot;姓名&quot;: &quot;吴坚&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 154138, {&quot;姓名&quot;: &quot;缪云锋&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 156734, {&quot;姓名&quot;: &quot;王晓珊&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 161636, {&quot;姓名&quot;: &quot;杨世治&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 161666, {&quot;姓名&quot;: &quot;李焱&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 156737, {&quot;姓名&quot;: &quot;杨文燕&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 161570, {&quot;姓名&quot;: &quot;姚小京&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 161521, {&quot;姓名&quot;: &quot;王瑞&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 160127 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请统计当前所有在职员工的最高学历分布情况，要求显示学历名称及对应的在职员工数量，按员工数量降序排序。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;"
  ],
  "display_type": "response_pie_chart",
  "qa_samples": "\t用户输入1：当前具有硕士及以上学历的员工总数是多少？\n\tsql1：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入2：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql2：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入3：当前在职的员工中，有多少人的最高学历是博士？\n\tsql3：SELECT COUNT(DISTINCT eie.人员工号) AS 博士学历人数 FROM a_sap_employee_information_chinese AS eii JOIN a_sap_employee_education_experience_chinese AS eie ON eii.人员工号 = eie.人员工号 WHERE eii.雇佣状态 = '在职' AND eie.学历 = '博士' AND eie.结束日期 IN (     SELECT MAX(结束日期)     FROM a_sap_employee_education_experience_chinese     GROUP BY 人员工号 ) LIMIT 50;\n\n\t用户输入4：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql4：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：当前有多少员工具备硕士学历？\n\tsql6：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n",
  "thoughts": "为了统计当前所有在职员工的最高学历分布情况，我们需要联合两张表：员工基本信息表(a_sap_employee_information_chinese)和员工受教育经历数据表(a_sap_employee_education_experience_chinese)。首先，我们需要从员工基本信息表中筛选出在职员工，然后与员工受教育经历数据表进行联合，以获取每个员工的教育经历。接下来，我们需要对每个员工的教育经历按结束日期进行降序排序，以便获得每个员工的最高学历。最后，我们将按学历分组并计算每个学历组的员工数量，并按员工数量进行降序排序。查询结果将限制为最多50个。",
  "sql": "SELECT eee.学历, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese ei INNER JOIN a_sap_employee_education_experience_chinese eee ON ei.人员工号 = eee.人员工号 WHERE ei.雇佣状态 = '在职' GROUP BY eee.学历 ORDER BY 在职员工数量 DESC LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;学历&quot;: &quot;初中及以下&quot;, &quot;在职员工数量&quot;: 11998, {&quot;学历&quot;: &quot;高中&quot;, &quot;在职员工数量&quot;: 3917, {&quot;学历&quot;: &quot;大学本科&quot;, &quot;在职员工数量&quot;: 2684, {&quot;学历&quot;: &quot;大学专科&quot;, &quot;在职员工数量&quot;: 2479, {&quot;学历&quot;: &quot;中专&quot;, &quot;在职员工数量&quot;: 2186, {&quot;学历&quot;: &quot;硕士&quot;, &quot;在职员工数量&quot;: 50, {&quot;学历&quot;: &quot;博士&quot;, &quot;在职员工数量&quot;: 7 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "查找当前在职员工中，哪个二级机构拥有最多经理级别职务（JG11-13）的员工，列出这个二级机构的名称和员工数量。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)",
    "Table:a_sap_reporting_relationship_chinese(这个是公司每个员工汇报关系表。),columns:(总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,姓名,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理2职务,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,主管2职位,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】】)"
  ],
  "extend_info": [
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql1：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入2：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql2：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入3：目前哪个职位的员工数量最多？\n\tsql3：select 职位,count(*) as 数量 from a_sap_employee_information_chinese  group by 职位 order by 数量 desc\n\n\t用户输入4：哪个一级机构下的在职员工人数最多？\n\tsql4：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入5：查询哪个职位的在职人数最多？\n\tsql5：select 职位,count(*) as 数量 from a_sap_employee_information_chinese where 雇佣状态='在职'  group by 职位 order by 数量 desc\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n",
  "thoughts": "首先，我们需要查询在职员工的信息，并且聚焦于那些其职务名称在经理级别职务（JG11-13）范围内的员工。然后，我们将基于二级机构对这些员工进行分组并计数，以找出哪个二级机构拥有最多这样级别的员工。最后，我们将结果按员工数量降序排序，并限制结果为最顶端的一个，即拥有最多经理级别员工的二级机构。",
  "sql": "SELECT 二级机构, COUNT(*) AS 员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 职务名称 IN ('JG11', 'JG12', 'JG13') GROUP BY 二级机构 ORDER BY 员工数量 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在最新的财年中，哪个一级机构的职位空缺率最高，且至少有2个以上的空缺数？（职位空缺率 = 有效编制空缺数 / 年度编制数量）",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'FNC', 'shortname': 'COE', 'fullname': 'Center of Excellent', 'chinesename': '专业财务中心'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql1：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入2：哪个职级范围的有效编制空缺数最多，以及该职级范围各一级机构下的空缺数分布情况是怎样的？\n\tsql2：['SELECT 职级范围, SUM(有效编制空缺) AS 总有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 总有效编制空缺数 DESC LIMIT 1;', 'SELECT 一级机构, 职级范围, 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 职级范围 = (SELECT 职级范围 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY SUM(有效编制空缺) DESC LIMIT 1) ORDER BY 一级机构;']\n\n\t用户输入3：哪个部门的有效编制空缺数量最多？\n\tsql3：SELECT 一级机构, SUM(有效编制空缺) AS 总有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 一级机构 ORDER BY 总有效编制空缺 DESC LIMIT 1\n\n\t用户输入4：今年的有效编制空缺数是多少？\n\tsql4：SELECT SUM(有效编制空缺) AS 今年有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128'\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：我们想知道当前有多少个职位是空缺的，即有效编制空缺大于0的职位。\n\tsql6：SELECT COUNT(*) FROM a_sap_staffing_recruitment_plan_chinese WHERE 有效编制空缺 > 0;\n\n",
  "thoughts": "首先，我们需要确定最新财年的编制年度值。根据背景知识，T128对应2023年，这是最新的财年。接着，我们将计算每个一级机构的职位空缺率，同时确保有效编制空缺数至少为2。我们将使用WHERE子句来限定编制年度为'T128'，并使用HAVING子句来确保有效编制空缺数至少为2。最后，我们将按照空缺率降序排列结果，并限制结果为1个，因为我们只需要找到空缺率最高的那个一级机构。",
  "sql": "SELECT 一级机构, SUM(有效编制空缺) AS 有效编制空缺数, SUM(年度编制数量) AS 年度编制数量, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 职位空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 HAVING SUM(有效编制空缺) > 2 ORDER BY 职位空缺率 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;PSO&quot;, &quot;有效编制空缺数&quot;: 62, &quot;年度编制数量&quot;: 62, &quot;职位空缺率&quot;: 1.0 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请找出目前所有在职员工中，拥有研究生学历，目前属于管理岗位（职务类型为'm-管理类'），并在上个季度至少管理过5名下属的员工名单。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)",
    "Table:a_sap_positions_responsibilities_risks_chinese(这个是公司每个岗位的责任和风险，以及绩效贡献标准等等表。),columns:(现职人数,集团,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,职位,成本类别名称:【岗位的成本类别，值有：[\"mgr.above\",\"idl\",\"staff\",\"dl\"]】,岗位名称,岗位属性名称,角色定位,岗位风险点,岗位职责,岗位任职资格,绩效贡献,经验及其他资质要求,部门职能类型名称:【值有：[\"工程\",\"研发\",\"运营\",\"支持\",\"销售\",\"质量\",\"其它\",\"atl\"]】,职务,职务类型:【值为：[\"p1-技术类\",\"f4-文职类\",\"技术类\",\"实习\",\"f2-操作类\",\"p2-非技术类\",\"m-管理类\",\"f3-现场管理类\",\"f1-现场技术类\"]】】)",
    "Table:a_sap_reporting_relationship_chinese(这个是公司每个员工汇报关系表。),columns:(总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,姓名,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理2职务,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,主管2职位,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】】)",
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)"
  ],
  "extend_info": [
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "{'parent_org': 'RI', 'shortname': 'RCM', 'fullname': 'Research cooperation Management', 'chinesename': '研发管理部'}",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'RI', 'fullname': 'Research Institute', 'chinesename': '研究院'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：请列出目前我公司管理层（假设为职务名称包含'经理'或'总监'）中，拥有硕士及以上学历的员工列表。\n\tsql1：SELECT DISTINCT r.人员工号, r.姓名, r.职务名称, e.学历 FROM a_sap_reporting_relationship_chinese r INNER JOIN a_sap_employee_education_experience_chinese e ON r.人员工号 = e.人员工号 WHERE (r.职务名称 LIKE '%经理%' OR r.职务名称 LIKE '%总监%') AND e.学历 IN ('硕士', '博士') LIMIT 50\n\n\t用户输入2：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql2：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入3：当前有多少员工具备硕士学历？\n\tsql3：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入4：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql4：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入5：请查询所有在APD部门任职'经理'级别且拥有硕士学历的员工的姓名、职务名称和入职日期。\n\tsql5：SELECT e.姓名, e.职务名称, e.入职日期 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.一级机构名称 = 'APD' AND (e.职务名称 LIKE '%主任%' OR e.职务名称 LIKE '%经理%') AND edu.学历 = '硕士' LIMIT 50\n\n\t用户输入6：目前哪些员工的学历为硕士，并且其所在的一级机构为FE？\n\tsql6：SELECT DISTINCT e.人员工号, e.姓名\nFROM a_sap_employee_education_experience_chinese AS edu\nJOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号\nWHERE edu.学历 = '硕士' AND e.一级机构名称 = 'FE'\nLIMIT 50\n\n",
  "thoughts": "为了找到符合条件的员工名单，我们需要从员工教育经历表中筛选出拥有研究生学历的员工，然后从员工信息表中筛选出在职且职务类型为'm-管理类'的员工。接着，我们需要查看员工汇报关系表，找出上个季度至少管理过5名下属的员工。由于汇报关系表中没有直接记录下属人数的字段，我们需要对每个管理者的下属数量进行计数，然后筛选出符合条件的管理者。最后，将这些信息关联起来得到最终的名单。",
  "sql": "SELECT DISTINCT emp.姓名 FROM a_sap_employee_education_experience_chinese edu INNER JOIN a_sap_employee_information_chinese emp ON edu.人员工号 = emp.人员工号 INNER JOIN a_sap_reporting_relationship_chinese rep ON emp.人员工号 = rep.人员工号 INNER JOIN (SELECT 主管1职务, COUNT(主管1姓名) AS 下属人数 FROM a_sap_reporting_relationship_chinese WHERE 开始日期 <= CURRENT_DATE - INTERVAL '1 QUARTER' AND (结束日期 IS NULL OR 结束日期 > CURRENT_DATE - INTERVAL '1 QUARTER') GROUP BY 主管1职务) AS sub ON rep.主管1职务 = sub.主管1职务 WHERE edu.学历 IN ('硕士', '博士') AND emp.雇佣状态 = '在职' AND emp.员工工作性质文本 = 'm-管理类' AND sub.下属人数 >= 5 LIMIT 50",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "计算当前在职员工平均工龄，并对比上一财年此时的平均工龄是否有所增长？（工龄 = 当前时间 - 开始参加工作日期）",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'PSO', 'shortname': 'CPA', 'fullname': 'Corporate public affairs', 'chinesename': '企业公共事务部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql3：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入4：公司全职员工中,哪个岗位的员工平均工龄最大？\n\tsql4：SELECT 职位, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 ORDER BY 平均工龄 DESC LIMIT 1\n\n\t用户输入5：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql5：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入6：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql6：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n",
  "thoughts": "为了计算当前在职员工的平均工龄，我们需要从员工信息表中选取雇佣状态为在职的员工，然后计算他们开始参加工作日期到当前时间的年数差的平均值。为了对比上一财年此时的平均工龄，我们需要确定上一财年对应的年份。根据背景知识，T128对应2023年，因此上一财年就是T127，对应2022年。我们需要计算2022年此时的在职员工的平均工龄，即他们的开始参加工作日期到2022年当时的年数差的平均值。然后我们比较这两个平均工龄值来看是否有增长。",
  "sql": "WITH Current_Avg_Tenure AS (\n  SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 开始参加工作日期))) AS current_avg_tenure\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职'\n),\nLast_Year_Avg_Tenure AS (\n  SELECT AVG(EXTRACT(YEAR FROM AGE(DATE '2022-01-01', 开始参加工作日期))) AS last_year_avg_tenure\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职'\n  AND DATE_PART('year', 入职日期) <= 2022\n)\nSELECT\n  (SELECT current_avg_tenure FROM Current_Avg_Tenure) AS 当前在职员工平均工龄,\n  (SELECT last_year_avg_tenure FROM Last_Year_Avg_Tenure) AS 上一财年此时平均工龄,\n  CASE\n    WHEN (SELECT current_avg_tenure FROM Current_Avg_Tenure) > (SELECT last_year_avg_tenure FROM Last_Year_Avg_Tenure)\n    THEN '增长'\n    ELSE '未增长或持平'\n  END AS 是否增长\nLIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;当前在职员工平均工龄&quot;: 10.1174482467, &quot;上一财年此时平均工龄&quot;: 8.2853309481, &quot;是否增长&quot;: &quot;增长&quot; "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在上一季度中，哪个一级机构下的所有二级机构平均招聘关闭数最多？（考虑只有发布过招聘的二级机构）",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：哪个一级机构下的在职员工人数最多？\n\tsql1：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入2：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql2：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入3：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql3：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：公司今年第二季度的有效编制空缺数量是多少？\n\tsql5：SELECT SUM(有效编制空缺) AS 第二季度有效编制空缺总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (7, 8, 9)\n\n\t用户输入6：哪个职级范围的有效编制空缺数最多，以及该职级范围各一级机构下的空缺数分布情况是怎样的？\n\tsql6：['SELECT 职级范围, SUM(有效编制空缺) AS 总有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 总有效编制空缺数 DESC LIMIT 1;', 'SELECT 一级机构, 职级范围, 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 职级范围 = (SELECT 职级范围 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY SUM(有效编制空缺) DESC LIMIT 1) ORDER BY 一级机构;']\n\n",
  "thoughts": "首先，我们需要确定上一季度的时间范围。由于我们现在处于2023年，上一季度指的是2022年的Q4，即2022年的10月、11月和12月，对应的财年编码为'T127'。然后，我们需要计算每个一级机构下所有二级机构的平均招聘关闭数。这需要对每个一级机构下的二级机构进行分组，并计算每个组的关闭数的平均值。最后，我们将选择平均关闭数最多的一级机构。同时，我们只考虑发布过招聘的二级机构，即关闭数大于0的记录。",
  "sql": "SELECT 一级机构, AVG(关闭数) AS 平均关闭数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (10, 11, 12) AND 关闭数 > 0 GROUP BY 一级机构 ORDER BY 平均关闭数 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;ENG&quot;, &quot;平均关闭数&quot;: 13.1666666667 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "根据员工基础信息表中员工的入职日期，计算各一级机构的平均工龄，并列出平均工龄超过5年的一级机构名称及其平均工龄。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql3：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：公司全职员工中,哪个岗位的员工平均工龄最大？\n\tsql5：SELECT 职位, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 ORDER BY 平均工龄 DESC LIMIT 1\n\n\t用户输入6：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql6：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n",
  "thoughts": "首先，需要计算每个一级机构员工的平均工龄。工龄可以通过当前日期减去员工的入职日期来计算。然后，我们将这些平均工龄按一级机构进行分组，并计算每个一级机构的平均工龄。最后，我们将筛选出那些平均工龄超过5年的一级机构，并返回它们的名称和平均工龄。",
  "sql": "SELECT 一级机构, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese GROUP BY 一级机构 HAVING AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) > 5 ORDER BY 平均工龄 DESC LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: null, &quot;平均工龄&quot;: 10.0476190476, {&quot;一级机构&quot;: &quot;BCM&quot;, &quot;平均工龄&quot;: 10.0, {&quot;一级机构&quot;: &quot;IT&quot;, &quot;平均工龄&quot;: 9.8333333333, {&quot;一级机构&quot;: &quot;SLS&quot;, &quot;平均工龄&quot;: 8.9766081871, {&quot;一级机构&quot;: &quot;EHS&quot;, &quot;平均工龄&quot;: 8.602739726, {&quot;一级机构&quot;: &quot;RI&quot;, &quot;平均工龄&quot;: 7.6038251366, {&quot;一级机构&quot;: &quot;ES&quot;, &quot;平均工龄&quot;: 7.4903846154, {&quot;一级机构&quot;: &quot;SEC&quot;, &quot;平均工龄&quot;: 7.4534792807, {&quot;一级机构&quot;: &quot;LOG&quot;, &quot;平均工龄&quot;: 7.1485714286, {&quot;一级机构&quot;: &quot;MU-SSL&quot;, &quot;平均工龄&quot;: 7.0813449024, {&quot;一级机构&quot;: &quot;FE&quot;, &quot;平均工龄&quot;: 6.5698113208, {&quot;一级机构&quot;: &quot;TPM&quot;, &quot;平均工龄&quot;: 6.4683544304, {&quot;一级机构&quot;: &quot;PLM&quot;, &quot;平均工龄&quot;: 6.4, {&quot;一级机构&quot;: &quot;SRC&quot;, &quot;平均工龄&quot;: 6.3027027027, {&quot;一级机构&quot;: &quot;CL&quot;, &quot;平均工龄&quot;: 6.3012259194, {&quot;一级机构&quot;: &quot;CPD&quot;, &quot;平均工龄&quot;: 6.2857142857, {&quot;一级机构&quot;: &quot;PA&quot;, &quot;平均工龄&quot;: 6.0, {&quot;一级机构&quot;: &quot;HR&quot;, &quot;平均工龄&quot;: 5.831372549, {&quot;一级机构&quot;: &quot;MRD&quot;, &quot;平均工龄&quot;: 5.6265822785, {&quot;一级机构&quot;: &quot;OS&quot;, &quot;平均工龄&quot;: 5.55, {&quot;一级机构&quot;: &quot;FNC&quot;, &quot;平均工龄&quot;: 5.5294117647, {&quot;一级机构&quot;: &quot;Corp.QA&quot;, &quot;平均工龄&quot;: 5.3823529412, {&quot;一级机构&quot;: &quot;ATLI&quot;, &quot;平均工龄&quot;: 5.3357664234, {&quot;一级机构&quot;: &quot;EPA&amp;IT&quot;, &quot;平均工龄&quot;: 5.2037037037, {&quot;一级机构&quot;: &quot;MDE&quot;, &quot;平均工龄&quot;: 5.1666666667, {&quot;一级机构&quot;: &quot;SLS&amp;MKT&quot;, &quot;平均工龄&quot;: 5.1071428571 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "找出当前在职的员工中持有'硕士'学历但未在技术类职务工作的员工姓名和职务名称，并且统计这样的员工数量。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)",
    "Table:a_sap_positions_responsibilities_risks_chinese(这个是公司每个岗位的责任和风险，以及绩效贡献标准等等表。),columns:(现职人数,集团,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,职位,成本类别名称:【岗位的成本类别，值有：[\"mgr.above\",\"idl\",\"staff\",\"dl\"]】,岗位名称,岗位属性名称,角色定位,岗位风险点,岗位职责,岗位任职资格,绩效贡献,经验及其他资质要求,部门职能类型名称:【值有：[\"工程\",\"研发\",\"运营\",\"支持\",\"销售\",\"质量\",\"其它\",\"atl\"]】,职务,职务类型:【值为：[\"p1-技术类\",\"f4-文职类\",\"技术类\",\"实习\",\"f2-操作类\",\"p2-非技术类\",\"m-管理类\",\"f3-现场管理类\",\"f1-现场技术类\"]】】)"
  ],
  "extend_info": [
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql1：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入2：查找公司中拥有硕士学历的员工数量？\n\tsql2：SELECT COUNT(DISTINCT 人员工号) AS 硕士学历员工数量 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入3：当前有多少员工具备硕士学历？\n\tsql3：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入4：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql4：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入5：当前具有硕士及以上学历的员工总数是多少？\n\tsql5：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入6：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql6：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n",
  "thoughts": "首先，我们需要从a_sap_employee_information_chinese表中筛选出在职状态为'在职'的员工。然后，需要连接a_sap_employee_education_experience_chinese表来找出这些在职员工中持有'硕士'学历的员工。接着，我们需要排除那些在技术类职务工作的员工，这可以通过检查职务名称是否包含技术类相关的关键词来实现。根据背景知识，技术类职务的关键词包括'技术员','资深技术员','工程师','资深工程师'等。最后，我们需要统计符合条件的员工数量。",
  "sql": "SELECT e.姓名, e.职务名称 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '硕士' AND e.职务名称 NOT SIMILAR TO '%(技术员|资深技术员|工程师|资深工程师)%' LIMIT 50; SELECT COUNT(*) FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '硕士' AND e.职务名称 NOT SIMILAR TO '%(技术员|资深技术员|工程师|资深工程师)%'",
  "ai_sql_result": "15 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "对于每个一级机构，找出财年T128中，实际在职人数与年度编制数量的差额，并列出差额最高的三个一级机构。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：对于T128财年，查询在'AD'二级机构中，编制月度为'3'月，员工子组为'技术员'的有效编制空缺数。\n\tsql1：SELECT 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 二级机构 = 'AD' AND 编制月度 = 3 AND 员工子组 = '技术员' LIMIT 50\n\n\t用户输入2：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql2：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：需要生成一份报告，列出所有三级机构，以及每个三级机构下拥有的职务类型总数。\n\tsql4：SELECT 三级机构, COUNT(DISTINCT 职务类型) AS 职务类型总数 FROM a_sap_positions_responsibilities_risks_chinese GROUP BY 三级机构 ORDER BY 三级机构 LIMIT 50;\n\n\t用户输入5：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql5：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入6：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql6：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n",
  "thoughts": "为了找出每个一级机构在财年T128中实际在职人数与年度编制数量的差额，我们需要从a_sap_staffing_recruitment_plan_chinese表中获取每个一级机构的年度编制数量，然后从a_sap_employee_information_chinese表中获取每个一级机构的实际在职人数。两者相减得到差额。最后，我们需要按照差额从高到低排序，只列出差额最高的三个一级机构。",
  "sql": "WITH Staffing AS (\n  SELECT 一级机构, SUM(年度编制数量) AS 年度编制总数\n  FROM a_sap_staffing_recruitment_plan_chinese\n  WHERE 编制年度 = 'T128'\n  GROUP BY 一级机构\n), Employment AS (\n  SELECT 一级机构, COUNT(*) AS 实际在职人数\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职'\n  GROUP BY 一级机构\n)\nSELECT s.一级机构, (s.年度编制总数 - e.实际在职人数) AS 差额\nFROM Staffing s\nJOIN Employment e ON s.一级机构 = e.一级机构\nORDER BY 差额 DESC\nLIMIT 3",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;ME&quot;, &quot;差额&quot;: 1795, {&quot;一级机构&quot;: &quot;PTO&quot;, &quot;差额&quot;: 1096, {&quot;一级机构&quot;: &quot;RD&quot;, &quot;差额&quot;: 1040 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "找出那些有多于1个直属上司的员工，并列出他们的姓名、职务名称以及直属上司的姓名和职务。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_reporting_relationship_chinese(这个是公司每个员工汇报关系表。),columns:(总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,姓名,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理2职务,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,主管2职位,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：请列出所有员工的姓名和对应的直属上司姓名，并按照部门分类。\n\tsql1：SELECT e.姓名, e.直属上司姓名, e.一级机构名称 FROM a_sap_employee_information_chinese e ORDER BY e.一级机构名称 LIMIT 50\n\n\t用户输入2：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql2：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql4：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql6：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n",
  "thoughts": "为了找出有多于1个直属上司的员工，我们需要在a_sap_reporting_relationship_chinese表中对每个员工的人员工号进行分组，并计算每个员工的直属上司数量。然后，我们可以选择那些直属上司数量多于1的员工，并联结a_sap_employee_information_chinese表来获取他们的姓名和职务名称，以及直属上司的姓名和职务。由于直属上司可能有多个，我们需要对a_sap_reporting_relationship_chinese进行多次联结以获取所有的直属上司信息。",
  "sql": "SELECT e.姓名, e.职务名称, r.直属上司姓名, r.经理1职务 FROM (SELECT 人员工号, COUNT(DISTINCT 直属上司工号) AS 直属上司数量 FROM a_sap_reporting_relationship_chinese GROUP BY 人员工号 HAVING COUNT(DISTINCT 直属上司工号) > 1) AS sub INNER JOIN a_sap_employee_information_chinese e ON sub.人员工号 = e.人员工号 INNER JOIN a_sap_reporting_relationship_chinese r ON e.人员工号 = r.人员工号 LIMIT 50",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "统计每个一级机构在最近一个完整的季度中的职级范围JG7-10（工程师层级）的在职员工的平均工龄，并找出平均工龄最高的部门。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)",
    "Table:a_sap_reporting_relationship_chinese(这个是公司每个员工汇报关系表。),columns:(总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,姓名,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理2职务,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,主管2职位,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】】)"
  ],
  "extend_info": [
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql4：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入5：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql5：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入6：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql6：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n",
  "thoughts": "首先，我们需要找出最近一个完整的季度。由于我们没有当前日期的信息，我们可以假设查询发生在数据库知识截止日期之后，即2023年之后。因此，最近一个完整的季度可能是2022年第四季度（2022 Q4），即2022年10月1日至2022年12月31日。接下来，我们需要从员工信息表中选择在职员工（雇佣状态 = '在职'），并且其职级范围为JG7-10（工程师层级）。然后，我们将计算每个员工的工龄，即当前日期减去他们的入职日期。最后，我们将按一级机构分组，计算每个一级机构的平均工龄，并找出平均工龄最高的部门。我们将使用子查询来首先计算每个一级机构的平均工龄，然后在外部查询中选择平均工龄最高的部门。",
  "sql": "WITH RankedOrgs AS (SELECT 一级机构, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 职级范围 = 'JG7-10' GROUP BY 一级机构) SELECT 一级机构, 平均工龄 FROM RankedOrgs WHERE 平均工龄 = (SELECT MAX(平均工龄) FROM RankedOrgs) LIMIT 1",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请列出在过去的财年中（T127），在所有一级机构中，每个机构哪个二级机构的平均员工工龄最高，并且需要过滤掉员工雇佣状态为'离职'的数据。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql3：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：公司全职员工中,哪个岗位的员工平均工龄最大？\n\tsql6：SELECT 职位, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 ORDER BY 平均工龄 DESC LIMIT 1\n\n",
  "thoughts": "为了找出每个一级机构中平均员工工龄最高的二级机构，我们需要从员工信息表中筛选出财年T127对应的在职员工，计算他们的工龄，然后按一级机构和二级机构分组，计算每个组的平均工龄。最后，我们对每个一级机构选择平均工龄最高的二级机构。财年T127对应的年份是2022年，因此我们需要考虑员工的入职日期在2022年之前的情况。我们可以使用EXTRACT函数来计算工龄，并使用PARTITION BY语句来为每个一级机构选择平均工龄最高的二级机构。",
  "sql": "SELECT DISTINCT ON (一级机构) 一级机构, 二级机构, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 开始参加工作日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND EXTRACT(YEAR FROM 开始参加工作日期) <= 2022 GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 平均工龄 DESC LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;3S&quot;, &quot;二级机构&quot;: &quot;SD&quot;, &quot;平均工龄&quot;: 6.0, {&quot;一级机构&quot;: &quot;APD&quot;, &quot;二级机构&quot;: &quot;AMO&quot;, &quot;平均工龄&quot;: 8.0, {&quot;一级机构&quot;: &quot;ATLI&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 27.0, {&quot;一级机构&quot;: &quot;BOCS&quot;, &quot;二级机构&quot;: &quot;CS&quot;, &quot;平均工龄&quot;: 10.0, {&quot;一级机构&quot;: &quot;CATL-SCM&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.8, {&quot;一级机构&quot;: &quot;CL&quot;, &quot;二级机构&quot;: &quot;CLO&quot;, &quot;平均工龄&quot;: 10.0, {&quot;一级机构&quot;: &quot;CPD&quot;, &quot;二级机构&quot;: &quot;PPL&quot;, &quot;平均工龄&quot;: 9.6666666667, {&quot;一级机构&quot;: &quot;CPP&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 29.0, {&quot;一级机构&quot;: &quot;ENG&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 15.0, {&quot;一级机构&quot;: &quot;EPA&amp;IT&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 4.5, {&quot;一级机构&quot;: &quot;ES&quot;, &quot;二级机构&quot;: &quot;ES-ND&quot;, &quot;平均工龄&quot;: 16.1555555556, {&quot;一级机构&quot;: &quot;ESS-SPP&quot;, &quot;二级机构&quot;: &quot;ESS-SLS&quot;, &quot;平均工龄&quot;: 13.0, {&quot;一级机构&quot;: &quot;FE&quot;, &quot;二级机构&quot;: &quot;FOM&quot;, &quot;平均工龄&quot;: 14.6923076923, {&quot;一级机构&quot;: &quot;FNC&quot;, &quot;二级机构&quot;: &quot;OMO&quot;, &quot;平均工龄&quot;: 11.0, {&quot;一级机构&quot;: &quot;HR&quot;, &quot;二级机构&quot;: &quot;O&amp;TD&quot;, &quot;平均工龄&quot;: 13.8, {&quot;一级机构&quot;: &quot;IDT&quot;, &quot;二级机构&quot;: &quot;IS&quot;, &quot;平均工龄&quot;: 14.0, {&quot;一级机构&quot;: &quot;IE&quot;, &quot;二级机构&quot;: &quot;Cell &amp; Resource&quot;, &quot;平均工龄&quot;: 16.0, {&quot;一级机构&quot;: &quot;IP&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 9.8571428571, {&quot;一级机构&quot;: &quot;LA&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 13.0, {&quot;一级机构&quot;: &quot;LA&amp;CS&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 2.0, {&quot;一级机构&quot;: &quot;LOG&quot;, &quot;二级机构&quot;: &quot;LOG-DG&quot;, &quot;平均工龄&quot;: 19.5, {&quot;一级机构&quot;: &quot;ME&quot;, &quot;二级机构&quot;: &quot;ME-ND3&quot;, &quot;平均工龄&quot;: 14.4, {&quot;一级机构&quot;: &quot;MEV-SPP&quot;, &quot;二级机构&quot;: &quot;MEV-PM&quot;, &quot;平均工龄&quot;: 17.0, {&quot;一级机构&quot;: &quot;MFG&quot;, &quot;二级机构&quot;: &quot;MS&quot;, &quot;平均工龄&quot;: 7.8181818182, {&quot;一级机构&quot;: &quot;MKT&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 10.0, {&quot;一级机构&quot;: &quot;MRD&quot;, &quot;二级机构&quot;: &quot;AMD&quot;, &quot;平均工龄&quot;: 12.1538461538, {&quot;一级机构&quot;: &quot;MU Plus&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 22.0, {&quot;一级机构&quot;: &quot;MU-SSL&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 30.0, {&quot;一级机构&quot;: &quot;NVT-FE&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;NVT-NVT&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 3.0, {&quot;一级机构&quot;: &quot;OPS&quot;, &quot;二级机构&quot;: &quot;PRD&quot;, &quot;平均工龄&quot;: 6.04, {&quot;一级机构&quot;: &quot;PLM&quot;, &quot;二级机构&quot;: &quot;ESS TPM&quot;, &quot;平均工龄&quot;: 18.0, {&quot;一级机构&quot;: &quot;PMC&quot;, &quot;二级机构&quot;: &quot;PMC-PC&quot;, &quot;平均工龄&quot;: 15.5333333333, {&quot;一级机构&quot;: &quot;PMD&quot;, &quot;二级机构&quot;: &quot;PPD&quot;, &quot;平均工龄&quot;: 9.0, {&quot;一级机构&quot;: &quot;PPD-SPP&quot;, &quot;二级机构&quot;: &quot;PPD-SLS&quot;, &quot;平均工龄&quot;: 12.5, {&quot;一级机构&quot;: &quot;PRD&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 28.0, {&quot;一级机构&quot;: &quot;PRJ&quot;, &quot;二级机构&quot;: &quot;PRJ-DG&quot;, &quot;平均工龄&quot;: 12.7, {&quot;一级机构&quot;: &quot;PSCM&quot;, &quot;二级机构&quot;: &quot;Pack&quot;, &quot;平均工龄&quot;: 10.75, {&quot;一级机构&quot;: &quot;PSO&quot;, &quot;二级机构&quot;: &quot;CPA&quot;, &quot;平均工龄&quot;: 14.0, {&quot;一级机构&quot;: &quot;PTO&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 28.0, {&quot;一级机构&quot;: &quot;QA&quot;, &quot;二级机构&quot;: &quot;QMC&quot;, &quot;平均工龄&quot;: 14.9583333333, {&quot;一级机构&quot;: &quot;RD&quot;, &quot;二级机构&quot;: &quot;PD&quot;, &quot;平均工龄&quot;: 10.0, {&quot;一级机构&quot;: &quot;RI&quot;, &quot;二级机构&quot;: &quot;RIO&quot;, &quot;平均工龄&quot;: 12.4, {&quot;一级机构&quot;: &quot;SD&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 31.0, {&quot;一级机构&quot;: &quot;SEC&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 16.3333333333, {&quot;一级机构&quot;: &quot;SLS&quot;, &quot;二级机构&quot;: &quot;BO&quot;, &quot;平均工龄&quot;: 18.0, {&quot;一级机构&quot;: &quot;SLS&amp;MKT&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 5.0, {&quot;一级机构&quot;: &quot;SRC&quot;, &quot;二级机构&quot;: &quot;PCO&quot;, &quot;平均工龄&quot;: 12.8, {&quot;一级机构&quot;: &quot;TPM&quot;, &quot;二级机构&quot;: &quot;TPM4&quot;, &quot;平均工龄&quot;: 12.2222222222, {&quot;一级机构&quot;: &quot;TVL&quot;, &quot;二级机构&quot;: &quot;XM Lab&quot;, &quot;平均工龄&quot;: 5.4 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}",
    "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}",
    "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'QA', 'shortname': 'QMC', 'fullname': 'Quality Management Center', 'chinesename': '质量管理中心'}",
    "{'parent_org': 'PPD', 'shortname': 'CMA', 'fullname': 'Competition Management & Analysis Team','chinesename': '竞争管理部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n",
  "thoughts": "由于没有提供一级机构的具体表结构信息，无法直接查询一级机构的名称。但是可以假设在a_sap_performance_ai表中存在一个代表一级机构的列。因此，我们可以通过对a_sap_performance_ai表进行查询，根据绩效得分的排序，计算每个一级机构员工的平均绩效得分，并找出平均得分最低的一级机构。由于绩效得分是以字母表示的，我们需要将其转换为数值进行计算。可以假设'A'为最高分，'D'为最低分，并以此类推为'A'=4, 'B+'=3.5, 'B'=3, 'B-'=2.5, 'C'=2, 'D'=1。然后对这些数值求平均得分，并找出平均得分最低的一级机构。",
  "sql": "SELECT 一级机构, AVG(CASE 绩效 WHEN 'A' THEN 4 WHEN 'B+' THEN 3.5 WHEN 'B' THEN 3 WHEN 'B-' THEN 2.5 WHEN 'C' THEN 2 WHEN 'D' THEN 1 END) AS 平均绩效得分 FROM a_sap_performance_ai WHERE 编制年度 = '2023' GROUP BY 一级机构 ORDER BY 平均绩效得分 ASC LIMIT 1",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "哪些员工在财年T127期间具有至少两种不同类型的教育背景，并且目前还在职？",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：当前有多少员工具备硕士学历？\n\tsql1：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入2：目前哪些员工的学历为硕士，并且其所在的一级机构为FE？\n\tsql2：SELECT DISTINCT e.人员工号, e.姓名\nFROM a_sap_employee_education_experience_chinese AS edu\nJOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号\nWHERE edu.学历 = '硕士' AND e.一级机构名称 = 'FE'\nLIMIT 50\n\n\t用户输入3：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql3：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入4：当前具有硕士及以上学历的员工总数是多少？\n\tsql4：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入5：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql5：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入6：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql6：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n",
  "thoughts": "要找出在财年T127期间（即2022年）具有至少两种不同类型的教育背景的在职员工，我们需要从教育经历表中筛选出在2022年有教育经历的员工，并且这些教育经历的类型至少有两种不同的。然后我们需要与员工基本信息表进行连接，以确保这些员工目前仍然在职。我们可以通过对教育类型进行分组和计数，然后筛选出计数大于或等于2的记录来实现这一点。",
  "sql": "SELECT e.人员工号, e.姓名 FROM a_sap_employee_education_experience_chinese AS edu INNER JOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号 WHERE e.雇佣状态 = '在职' AND EXTRACT(YEAR FROM edu.开始日期) = 2022 AND EXTRACT(YEAR FROM edu.结束日期) = 2022 GROUP BY e.人员工号, e.姓名 HAVING COUNT(DISTINCT edu.教育类型) >= 2 LIMIT 50",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在上一财年（T127）中，有哪些一级机构的招聘开放职位（open数）数量大于它们的年度编制数量？列出这些机构及其对应的差值。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：截至目前，公司一级机构下有多少个不同的职务？\n\tsql1：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入2：今年是T127，7月份，请问最近一个季度中，各一级机构的招聘编制使用率是如何？需要考虑有效编制空缺和拟在职人数。\n\tsql2：SELECT 一级机构, SUM(拟在职人数) AS 拟在职总数, SUM(有效编制空缺) AS 有效空缺总数, (SUM(拟在职人数)::FLOAT / (SUM(拟在职人数) + SUM(有效编制空缺))) AS 编制使用率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 = 7 and 一级机构 is not null GROUP BY 一级机构 ORDER BY 编制使用率 DESC LIMIT 50\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：哪个一级机构下的在职员工人数最多？\n\tsql4：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入5：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql5：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入6：请问T127年度一共有多少有效的编制空缺？\n\tsql6：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127';\n\n",
  "thoughts": "为了找出在T127财年中招聘开放职位数量大于年度编制数量的一级机构及其对应的差值，我们需要从a_sap_staffing_recruitment_plan_chinese表中筛选出编制年度为'T127'的记录，然后对每个一级机构进行分组，并计算其open数与年度编制数量的差值。最后，我们将筛选出那些差值大于0的记录。",
  "sql": "SELECT 一级机构, SUM(open数) - SUM(年度编制数量) AS 差值 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' GROUP BY 一级机构 HAVING SUM(open数) > SUM(年度编制数量) LIMIT 50",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "哪个一级机构在第三季度（T127-Q3）的招聘关闭数（关闭数）最多，并且该机构的哪个二级机构对应的关闭数最多？",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：哪个一级机构下的在职员工人数最多？\n\tsql1：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入2：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql2：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入3：今年是T127，7月份，请问最近一个季度中，各一级机构的招聘编制使用率是如何？需要考虑有效编制空缺和拟在职人数。\n\tsql3：SELECT 一级机构, SUM(拟在职人数) AS 拟在职总数, SUM(有效编制空缺) AS 有效空缺总数, (SUM(拟在职人数)::FLOAT / (SUM(拟在职人数) + SUM(有效编制空缺))) AS 编制使用率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 = 7 and 一级机构 is not null GROUP BY 一级机构 ORDER BY 编制使用率 DESC LIMIT 50\n\n\t用户输入4：哪个部门的有效编制空缺数量最多？\n\tsql4：SELECT 一级机构, SUM(有效编制空缺) AS 总有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 一级机构 ORDER BY 总有效编制空缺 DESC LIMIT 1\n\n\t用户输入5：哪个职级范围的有效编制空缺数最多，以及该职级范围各一级机构下的空缺数分布情况是怎样的？\n\tsql5：['SELECT 职级范围, SUM(有效编制空缺) AS 总有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 总有效编制空缺数 DESC LIMIT 1;', 'SELECT 一级机构, 职级范围, 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 职级范围 = (SELECT 职级范围 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY SUM(有效编制空缺) DESC LIMIT 1) ORDER BY 一级机构;']\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n",
  "thoughts": "首先，我们需要确定T127-Q3对应的月份，根据背景知识，Q3对应的是10, 11, 12月份。接下来，我们将从a_sap_staffing_recruitment_plan_chinese表中选择一级机构和关闭数，按照编制年度为'T127'和编制月度为10, 11, 12进行筛选，并按关闭数降序排列，选择关闭数最多的一级机构。然后，对于这个一级机构，我们需要找出其下面的二级机构的关闭数，并且也按关闭数降序排列，选择关闭数最多的二级机构。",
  "sql": "WITH RankedOrgs AS (SELECT 一级机构, SUM(关闭数) AS 总关闭数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (10, 11, 12) GROUP BY 一级机构 ORDER BY 总关闭数 DESC LIMIT 1) SELECT org.一级机构, suborg.二级机构, SUM(suborg.关闭数) AS 二级机构关闭数 FROM a_sap_staffing_recruitment_plan_chinese suborg JOIN RankedOrgs org ON suborg.一级机构 = org.一级机构 WHERE suborg.编制年度 = 'T127' AND suborg.编制月度 IN (10, 11, 12) GROUP BY org.一级机构, suborg.二级机构 ORDER BY 二级机构关闭数 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;ENG&quot;, &quot;二级机构&quot;: null, &quot;二级机构关闭数&quot;: 79 "
}
{
  "5": ""
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请列出在T127财年中表现最差(D级绩效)且工龄超过10年的所有员工的姓名和部门名称，如果在职，同时列出他们的直属上司姓名。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "{'parent_org': 'PRD-ND1', 'shortname': 'M2', 'fullname': 'M2(PAP&MIX&LEN)', 'chinesename': 'M2-PAP&MIX&LEN组'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}",
    "{'parent_org': 'PRD-ND1', 'shortname': 'M3', 'fullname': 'M3(OPO&AUS&SFC)', 'chinesename': 'M3-OPO&AUS&SFC组'}",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'parent_org': 'PRD-ND1', 'shortname': 'M4', 'fullname': 'M4(HUA&HOR&CC)', 'chinesename': 'M4-HUA&HOR&CC组'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql1：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入2：请列出所有员工的姓名和对应的直属上司姓名，并按照部门分类。\n\tsql2：SELECT e.姓名, e.直属上司姓名, e.一级机构名称 FROM a_sap_employee_information_chinese e ORDER BY e.一级机构名称 LIMIT 50\n\n\t用户输入3：请列出目前所有员工的姓名和对应的职位。\n\tsql3：SELECT 姓名, 职位 FROM a_sap_employee_information_chinese LIMIT 50\n\n\t用户输入4：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql4：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入5：列出当前在职员工的平均工龄。\n\tsql5：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n",
  "thoughts": "为了找出T127财年中表现最差(D级绩效)且工龄超过10年的员工，我们需要结合两个表：a_sap_performance_ai 和 a_sap_employee_information_chinese。首先，我们需要从a_sap_performance_ai表中筛选出绩效为'D'且编制年度为'T127'的员工工号。其次，我们需要从a_sap_employee_information_chinese表中筛选出工龄超过10年(即开始参加工作日期早于10年前)的员工，并且与第一步得到的工号进行匹配。如果员工还在职，我们还需要从a_sap_employee_information_chinese表中获取他们的直属上司姓名。最后，我们需要获取这些员工的姓名和部门名称。",
  "sql": "SELECT e.姓名, e.一级机构 AS 部门名称, e.直属上司姓名 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE p.绩效 = 'D' AND p.编制年度 = 'T127' AND e.开始参加工作日期 <= (CURRENT_DATE - INTERVAL '10 years') AND e.雇佣状态 = '在职' LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;马建华&quot;, &quot;部门名称&quot;: &quot;ME&quot;, &quot;直属上司姓名&quot;: &quot;李敏&quot;, {&quot;姓名&quot;: &quot;吴成平&quot;, &quot;部门名称&quot;: &quot;FE&quot;, &quot;直属上司姓名&quot;: &quot;程凡&quot;, {&quot;姓名&quot;: &quot;赵德强&quot;, &quot;部门名称&quot;: &quot;CPD&quot;, &quot;直属上司姓名&quot;: &quot;王会勤&quot;, {&quot;姓名&quot;: &quot;孙志远&quot;, &quot;部门名称&quot;: &quot;MU Plus&quot;, &quot;直属上司姓名&quot;: &quot;黄孔田&quot;, {&quot;姓名&quot;: &quot;李恒银&quot;, &quot;部门名称&quot;: &quot;HR&quot;, &quot;直属上司姓名&quot;: &quot;杨安福&quot;, {&quot;姓名&quot;: &quot;王现昌&quot;, &quot;部门名称&quot;: &quot;MRD&quot;, &quot;直属上司姓名&quot;: &quot;陈宗雨&quot;, {&quot;姓名&quot;: &quot;范鹏杰&quot;, &quot;部门名称&quot;: &quot;PRD&quot;, &quot;直属上司姓名&quot;: &quot;罗成&quot;, {&quot;姓名&quot;: &quot;许国鹏&quot;, &quot;部门名称&quot;: &quot;ENG&quot;, &quot;直属上司姓名&quot;: &quot;刘经&quot;, {&quot;姓名&quot;: &quot;黄莺&quot;, &quot;部门名称&quot;: &quot;QA&quot;, &quot;直属上司姓名&quot;: &quot;源泉&quot;, {&quot;姓名&quot;: &quot;吴斌&quot;, &quot;部门名称&quot;: &quot;ME&quot;, &quot;直属上司姓名&quot;: &quot;徐涛&quot;, {&quot;姓名&quot;: &quot;叶?平&quot;, &quot;部门名称&quot;: &quot;IP&quot;, &quot;直属上司姓名&quot;: &quot;薛松&quot;, {&quot;姓名&quot;: &quot;任蒙光&quot;, &quot;部门名称&quot;: &quot;PRD&quot;, &quot;直属上司姓名&quot;: &quot;李云&quot;, {&quot;姓名&quot;: &quot;郑兴日&quot;, &quot;部门名称&quot;: &quot;MRD&quot;, &quot;直属上司姓名&quot;: &quot;文青山&quot;, {&quot;姓名&quot;: &quot;张冬&quot;, &quot;部门名称&quot;: &quot;MU-SSL&quot;, &quot;直属上司姓名&quot;: &quot;刘平华&quot;, {&quot;姓名&quot;: &quot;王六&quot;, &quot;部门名称&quot;: &quot;MU Plus&quot;, &quot;直属上司姓名&quot;: &quot;李阳&quot;, {&quot;姓名&quot;: &quot;蒋小飞&quot;, &quot;部门名称&quot;: &quot;QA&quot;, &quot;直属上司姓名&quot;: &quot;彭军&quot; "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "基于当前的招聘计划，查询在T127财年第二季 度（Q2）拥有最多岗位空缺的一级机构和对应的空缺数量，并列出该机构目前所有员工的平均工龄。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'PMC-MPS', 'shortname': 'MPS-MST', 'fullname': 'Master Plan', 'chinesename': '主计划组'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'PMC-PC', 'shortname': 'PC-ND', 'fullname': 'ND Plan Control', 'chinesename': '宁德计划控制组'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'PMC-PC', 'shortname': 'PC-SSL', 'fullname': 'SSL Plan Control', 'chinesename': '松山湖计划控制组'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql1：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入2：我们想知道当前有多少个职位是空缺的，即有效编制空缺大于0的职位。\n\tsql2：SELECT COUNT(*) FROM a_sap_staffing_recruitment_plan_chinese WHERE 有效编制空缺 > 0;\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：统计当前全部员工的平均入职年限。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：公司今年第二季度的有效编制空缺数量是多少？\n\tsql5：SELECT SUM(有效编制空缺) AS 第二季度有效编制空缺总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (7, 8, 9)\n\n\t用户输入6：列出当前在职员工的平均工龄。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n",
  "thoughts": "为了找到T127财年第二季度拥有最多岗位空缺的一级机构和对应的空缺数量，我们需要从a_sap_staffing_recruitment_plan_chinese表中筛选出编制年度为'T127'且编制月度在第二季度（即7, 8, 9月）的数据，然后对一级机构进行分组并计算每个一级机构的空缺总数，选择空缺最多的机构。接着，我们需要计算该一级机构目前所有员工的平均工龄，这需要从a_sap_employee_information_chinese表中筛选出对应一级机构在职员工的入职日期，然后计算平均工龄。最后，我们需要结合两个查询的结果。",
  "sql": "WITH Vacancies AS (\n  SELECT 一级机构, SUM(月度可申请空缺数量) AS 总空缺数量\n  FROM a_sap_staffing_recruitment_plan_chinese\n  WHERE 编制年度 = 'T127' AND 编制月度 IN (7, 8, 9)\n  GROUP BY 一级机构\n  ORDER BY 总空缺数量 DESC\n  LIMIT 1\n), AvgTenure AS (\n  SELECT 一级机构, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职'\n  GROUP BY 一级机构\n)\nSELECT V.一级机构, V.总空缺数量, A.平均工龄\nFROM Vacancies V\nJOIN AvgTenure A ON V.一级机构 = A.一级机构",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "找出在上一个财年（T127）绩效为A且学历为'大学本科'的员工，并列出他们的姓名、学历、雇佣状态和人员工号。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql1：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入2：在所有教育信息中，有多少人持有大学本科学历，并且在2021年以前入职的？\n\tsql2：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科' AND 入职日期 < '2021-01-01'\n\n\t用户输入3：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql3：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入4：持有本科学历的员工有多少人?\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '大学本科';\n\n\t用户输入5：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql5：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入6：请列出目前所有一级机构下，具有本科学历且职位为技术员的员工列表。\n\tsql6：SELECT e.人员工号, e.姓名, e.职位, e.入职日期, e.一级机构名称 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.职位 like '%技术员%' AND edu.学历 = '大学本科' AND e.雇佣状态 = '在职' LIMIT 50\n\n",
  "thoughts": "为了找出上一个财年（T127）绩效为A且学历为'大学本科'的员工，我们需要从绩效表（a_sap_performance_ai）中筛选出绩效为A且编制年度为T127的员工，然后再根据人员工号与教育经历表（a_sap_employee_education_experience_chinese）进行连接查询，筛选出学历为'大学本科'的员工。最后，我们需要与员工基本信息表（a_sap_employee_information_chinese）连接，以获取他们的姓名和雇佣状态。查询结果需要包含姓名、学历、雇佣状态和人员工号，且限制结果最多50条。",
  "sql": "SELECT e.姓名, edu.学历, e.雇佣状态, e.人员工号 FROM a_sap_performance_ai p INNER JOIN a_sap_employee_education_experience_chinese edu ON p.人员工号 = edu.人员工号 INNER JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE p.绩效 = 'A' AND p.编制年度 = 'T127' AND edu.学历 = '大学本科' LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;姓名&quot;: &quot;叶佳佳&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 291, {&quot;姓名&quot;: &quot;张进&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 1091, {&quot;姓名&quot;: &quot;张凯&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 1280, {&quot;姓名&quot;: &quot;周利刚&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 2052, {&quot;姓名&quot;: &quot;林杰曙&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 70, {&quot;姓名&quot;: &quot;徐利艳&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 437, {&quot;姓名&quot;: &quot;杨志俊&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 266, {&quot;姓名&quot;: &quot;乔鹏&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 592, {&quot;姓名&quot;: &quot;刘琪&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 2103, {&quot;姓名&quot;: &quot;郭建松&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 144, {&quot;姓名&quot;: &quot;孟伟&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 1570, {&quot;姓名&quot;: &quot;黄振宏&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 143, {&quot;姓名&quot;: &quot;刘剑锋&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 1084, {&quot;姓名&quot;: &quot;周世秒&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 1395, {&quot;姓名&quot;: &quot;张世莉&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 18854, {&quot;姓名&quot;: &quot;张慧英&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 28150, {&quot;姓名&quot;: &quot;陈立达&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 818, {&quot;姓名&quot;: &quot;吴同贝&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 45116, {&quot;姓名&quot;: &quot;王明芳&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 53907, {&quot;姓名&quot;: &quot;代年雄&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 44732, {&quot;姓名&quot;: &quot;高锃&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 20461, {&quot;姓名&quot;: &quot;黄武平&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 29755, {&quot;姓名&quot;: &quot;黄雷&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 62154, {&quot;姓名&quot;: &quot;刘兵生&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 59506, {&quot;姓名&quot;: &quot;魏生委&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 63896, {&quot;姓名&quot;: &quot;宋帅&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 53908, {&quot;姓名&quot;: &quot;孙辉&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 53349, {&quot;姓名&quot;: &quot;刘娇娇&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 53834, {&quot;姓名&quot;: &quot;杨燕&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 71347, {&quot;姓名&quot;: &quot;黄际伟&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 65687, {&quot;姓名&quot;: &quot;谢志华&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 82741, {&quot;姓名&quot;: &quot;林明强&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 83845, {&quot;姓名&quot;: &quot;张卫红&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 54502, {&quot;姓名&quot;: &quot;佘新康&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 82736, {&quot;姓名&quot;: &quot;陈露芳&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 71531, {&quot;姓名&quot;: &quot;江青元&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 66720, {&quot;姓名&quot;: &quot;黄渠&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 90481, {&quot;姓名&quot;: &quot;练丹萍&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 87112, {&quot;姓名&quot;: &quot;陈青青&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 98638, {&quot;姓名&quot;: &quot;邝慧明&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 79060, {&quot;姓名&quot;: &quot;罗玲玲&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 79516, {&quot;姓名&quot;: &quot;于晓晴&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 88416, {&quot;姓名&quot;: &quot;王仲一&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 94515, {&quot;姓名&quot;: &quot;宋琴&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 93367, {&quot;姓名&quot;: &quot;郑莉莉&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 98652, {&quot;姓名&quot;: &quot;刘弦开&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 105531, {&quot;姓名&quot;: &quot;钱鹏&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 100373, {&quot;姓名&quot;: &quot;唐佳&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 100452, {&quot;姓名&quot;: &quot;周博闻&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;在职&quot;, &quot;人员工号&quot;: 110804, {&quot;姓名&quot;: &quot;肖传旺&quot;, &quot;学历&quot;: &quot;大学本科&quot;, &quot;雇佣状态&quot;: &quot;离职&quot;, &quot;人员工号&quot;: 108885 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请统计当前所有在职员工的最高学历分布情况，要求显示学历名称及对应的在职员工数量，按员工数量降序排序。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}"
  ],
  "display_type": "response_bar_chart",
  "qa_samples": "\t用户输入1：当前具有硕士及以上学历的员工总数是多少？\n\tsql1：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入2：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql2：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入3：当前在职的员工中，有多少人的最高学历是博士？\n\tsql3：SELECT COUNT(DISTINCT eie.人员工号) AS 博士学历人数 FROM a_sap_employee_information_chinese AS eii JOIN a_sap_employee_education_experience_chinese AS eie ON eii.人员工号 = eie.人员工号 WHERE eii.雇佣状态 = '在职' AND eie.学历 = '博士' AND eie.结束日期 IN (     SELECT MAX(结束日期)     FROM a_sap_employee_education_experience_chinese     GROUP BY 人员工号 ) LIMIT 50;\n\n\t用户输入4：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql4：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：当前有多少员工具备硕士学历？\n\tsql6：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n",
  "thoughts": "为了统计在职员工的最高学历分布情况，我们需要从员工基本信息表中筛选出在职员工，然后与员工教育经历表进行连接，以获取每位员工的学历信息。由于要统计的是最高学历，我们需要对每位员工的教育经历按结束日期进行排序，并选择每位员工最晚的结束日期所对应的学历作为其最高学历。之后，我们将对学历进行分组并计数，最后按照在职员工数量降序排序。",
  "sql": "SELECT aseeec.学历, COUNT(DISTINCT aseeec.人员工号) AS 在职员工数量 FROM a_sap_employee_information_chinese AS aseic JOIN a_sap_employee_education_experience_chinese AS aseeec ON aseic.人员工号 = aseeec.人员工号 WHERE aseic.雇佣状态 = '在职' GROUP BY aseeec.学历 ORDER BY 在职员工数量 DESC LIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;学历&quot;: &quot;初中及以下&quot;, &quot;在职员工数量&quot;: 11998, {&quot;学历&quot;: &quot;高中&quot;, &quot;在职员工数量&quot;: 3917, {&quot;学历&quot;: &quot;大学本科&quot;, &quot;在职员工数量&quot;: 2684, {&quot;学历&quot;: &quot;大学专科&quot;, &quot;在职员工数量&quot;: 2479, {&quot;学历&quot;: &quot;中专&quot;, &quot;在职员工数量&quot;: 2186, {&quot;学历&quot;: &quot;硕士&quot;, &quot;在职员工数量&quot;: 50, {&quot;学历&quot;: &quot;博士&quot;, &quot;在职员工数量&quot;: 7 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "查找当前在职员工中，哪个二级机构拥有最多经理级别职务（JG11-13）的员工，列出这个二级机构的名称和员工数量。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}",
    "{'parent_org': 'FNC', 'shortname': 'OMO', 'fullname': 'Operation management office', 'chinesename': '经营管理部'}",
    "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}",
    "{'parent_org': 'PTO', 'shortname': 'PTO-Lab', 'fullname': 'Prototype Laboratory', 'chinesename': '样品制造部-电芯测试部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：请查询当前在职的所有'二级员工'的姓名和人员编号。\n\tsql1：SELECT 姓名, 人员工号 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '二级员工' LIMIT 50;\n\n\t用户输入2：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql2：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入3：目前哪个职位的员工数量最多？\n\tsql3：select 职位,count(*) as 数量 from a_sap_employee_information_chinese  group by 职位 order by 数量 desc\n\n\t用户输入4：哪个一级机构下的在职员工人数最多？\n\tsql4：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入5：查询哪个职位的在职人数最多？\n\tsql5：select 职位,count(*) as 数量 from a_sap_employee_information_chinese where 雇佣状态='在职'  group by 职位 order by 数量 desc\n\n\t用户输入6：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql6：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n",
  "thoughts": "首先，我们需要从员工信息表中筛选出在职状态的员工，然后根据职务名称的描述来确定经理级别的职务（JG11-13），接着我们根据二级机构进行分组统计员工数量，最后选出拥有最多经理级别职务员工的二级机构及其员工数量。",
  "sql": "SELECT 二级机构, COUNT(*) AS 经理级别员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND (职务名称 LIKE 'JG11%' OR 职务名称 LIKE 'JG12%' OR 职务名称 LIKE 'JG13%') GROUP BY 二级机构 ORDER BY 经理级别员工数量 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在最新的财年中，哪个一级机构的职位空缺率最高，且至少有2个以上的空缺数？（职位空缺率 = 有效编制空缺数 / 年度编制数量）",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'SSL-ME', 'shortname': 'SSL-ME-ASSY2', 'fullname': '', 'chinesename': '装配2设备技术部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'SSL-PRD', 'shortname': 'SSL-PRD-ASSY2', 'fullname': '', 'chinesename': '装配2生产部'}",
    "{'parent_org': 'FNC', 'shortname': 'COE', 'fullname': 'Center of Excellent', 'chinesename': '专业财务中心'}",
    "{'parent_org': 'PSO', 'shortname': 'CCT', 'fullname': 'Corporate Culture/Communication Team', 'chinesename': '企业文化组'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql1：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入2：哪个职级范围的有效编制空缺数最多，以及该职级范围各一级机构下的空缺数分布情况是怎样的？\n\tsql2：['SELECT 职级范围, SUM(有效编制空缺) AS 总有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 总有效编制空缺数 DESC LIMIT 1;', 'SELECT 一级机构, 职级范围, 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 职级范围 = (SELECT 职级范围 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY SUM(有效编制空缺) DESC LIMIT 1) ORDER BY 一级机构;']\n\n\t用户输入3：哪个部门的有效编制空缺数量最多？\n\tsql3：SELECT 一级机构, SUM(有效编制空缺) AS 总有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 一级机构 ORDER BY 总有效编制空缺 DESC LIMIT 1\n\n\t用户输入4：今年的有效编制空缺数是多少？\n\tsql4：SELECT SUM(有效编制空缺) AS 今年有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128'\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：我们想知道当前有多少个职位是空缺的，即有效编制空缺大于0的职位。\n\tsql6：SELECT COUNT(*) FROM a_sap_staffing_recruitment_plan_chinese WHERE 有效编制空缺 > 0;\n\n",
  "thoughts": "首先，我们需要确定最新财年的编码，根据背景知识，T128对应2023年，因此最新的财年编码是T128。然后我们需要计算每个一级机构的职位空缺率，这可以通过有效编制空缺数除以年度编制数量得到。最后，我们需要筛选出至少有2个以上空缺数的一级机构，并按照空缺率降序排列，取出空缺率最高的一级机构。",
  "sql": "SELECT 一级机构, SUM(有效编制空缺) AS 空缺数, SUM(年度编制数量) AS 编制总数, (SUM(有效编制空缺)::FLOAT / NULLIF(SUM(年度编制数量), 0)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 有效编制空缺 >= 2 GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;PSO&quot;, &quot;空缺数&quot;: 58, &quot;编制总数&quot;: 58, &quot;空缺率&quot;: 1.0 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请找出目前所有在职员工中，拥有研究生学历，目前属于管理岗位（职务类型为'm-管理类'），并在上个季度至少管理过5名下属的员工名单。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)",
    "Table:a_sap_reporting_relationship_chinese(这个是公司每个员工汇报关系表。),columns:(总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,姓名,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理2职务,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,主管2职位,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】】)",
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)"
  ],
  "extend_info": [
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "{'parent_org': 'EHS-ND', 'shortname': 'Site-R&PTO','fullname': 'Environment,Health and Safety  Site Management(Research Institute&PTO)','chinesename': '研究院&PTO现场管理组'}",
    "{'parent_org': 'SRC', 'shortname': 'PCO', 'fullname': 'Procurement Control Office', 'chinesename': '采购控制&管理办公室'}",
    "{'parent_org': 'RI', 'shortname': 'RCM', 'fullname': 'Research cooperation Management', 'chinesename': '研发管理部'}",
    "{'parent_org': 'CPD', 'shortname': 'CMO', 'fullname': 'CPD Management Office', 'chinesename': 'CPD管理办公室'}",
    "{'parent_org': 'APD', 'shortname': 'AMO', 'fullname': 'APD Management Office', 'chinesename': 'APD管理办公室'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：请列出目前我公司管理层（假设为职务名称包含'经理'或'总监'）中，拥有硕士及以上学历的员工列表。\n\tsql1：SELECT DISTINCT r.人员工号, r.姓名, r.职务名称, e.学历 FROM a_sap_reporting_relationship_chinese r INNER JOIN a_sap_employee_education_experience_chinese e ON r.人员工号 = e.人员工号 WHERE (r.职务名称 LIKE '%经理%' OR r.职务名称 LIKE '%总监%') AND e.学历 IN ('硕士', '博士') LIMIT 50\n\n\t用户输入2：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql2：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入3：当前有多少员工具备硕士学历？\n\tsql3：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入4：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql4：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n\t用户输入5：请查询所有在APD部门任职'经理'级别且拥有硕士学历的员工的姓名、职务名称和入职日期。\n\tsql5：SELECT e.姓名, e.职务名称, e.入职日期 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese edu ON e.人员工号 = edu.人员工号 WHERE e.一级机构名称 = 'APD' AND (e.职务名称 LIKE '%主任%' OR e.职务名称 LIKE '%经理%') AND edu.学历 = '硕士' LIMIT 50\n\n\t用户输入6：目前哪些员工的学历为硕士，并且其所在的一级机构为FE？\n\tsql6：SELECT DISTINCT e.人员工号, e.姓名\nFROM a_sap_employee_education_experience_chinese AS edu\nJOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号\nWHERE edu.学历 = '硕士' AND e.一级机构名称 = 'FE'\nLIMIT 50\n\n",
  "thoughts": "首先，我们需要从员工基本信息表中筛选出在职员工且职务名称符合管理岗位的条件（即职务名称包含'经理'或'总监'）。然后，我们需要从员工受教育经历表中筛选出拥有研究生学历的员工。接着，我们需要从员工汇报关系表中找出上个季度至少管理过5名下属的员工。最后，我们将这三个条件的结果进行交集，得到符合所有条件的员工名单。由于表结构定义中没有提供详细的职务类型字段以及如何判断一个员工在上个季度至少管理过5名下属的具体字段，我们无法准确构造出完整的SQL查询。不过，我们可以假设职务名称字段中包含'经理'或'总监'表示管理岗位，并且汇报关系表中的'是否管理机构'字段为'是'表示该员工属于管理岗位。至于如何判断上个季度至少管理过5名下属的具体情况，我们需要具体的数据字段来判断，但在当前的表结构定义中没有提供，所以我们无法构建完整的SQL查询。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "计算当前在职员工平均工龄，并对比上一财年此时的平均工龄是否有所增长？（工龄 = 当前时间 - 开始参加工作日期）",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'ME-ND1', 'shortname': 'ME-ASSY1', 'fullname': 'ME-ASSY1', 'chinesename': '装配一'}",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql3：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入4：公司全职员工中,哪个岗位的员工平均工龄最大？\n\tsql4：SELECT 职位, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 ORDER BY 平均工龄 DESC LIMIT 1\n\n\t用户输入5：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql5：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入6：查询'技术员'这一员工子组中个人的最新入职日期。\n\tsql6：SELECT 入职日期 FROM a_sap_employee_information_chinese WHERE 员工子组文本 = '二级员工'  and 入职日期 is not null ORDER BY 入职日期 DESC LIMIT 1\n\n",
  "thoughts": "为了计算当前在职员工的平均工龄，我们需要从员工信息表中选择在职员工，并计算他们开始参加工作日期到当前日期的年数。然后计算这些年数的平均值。对于上一财年的平均工龄，我们需要确定上一财年的日期范围，然后对那个时间点的在职员工进行同样的计算。由于我们没有历史数据表，我们只能假设员工的开始参加工作日期没有变化，因此我们使用相同的开始参加工作日期来计算上一财年此时的平均工龄。当前财年为T128，因此上一财年为T127，对应的年份为2022年。我们将使用这个年份来计算上一财年此时的日期，并计算那个时候的平均工龄。最后，我们将比较两个平均工龄值以确定是否有所增长。",
  "sql": "WITH Current_Avg_Service_Years AS (\n  SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 开始参加工作日期))) AS Current_Avg_Working_Years\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职'\n),\nPrevious_Avg_Service_Years AS (\n  SELECT AVG(EXTRACT(YEAR FROM AGE(DATE '2022-12-31', 开始参加工作日期))) AS Previous_Avg_Working_Years\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职'\n)\nSELECT Current_Avg_Working_Years, Previous_Avg_Working_Years,\n       CASE WHEN Current_Avg_Working_Years > Previous_Avg_Working_Years THEN '增长'\n            WHEN Current_Avg_Working_Years < Previous_Avg_Working_Years THEN '减少'\n            ELSE '持平'\n       END AS Growth\nFROM Current_Avg_Service_Years, Previous_Avg_Service_Years",
  "ai_sql_result": "&quot;: [{&quot;current_avg_working_years&quot;: 10.1174482467, &quot;previous_avg_working_years&quot;: 9.0337980566, &quot;growth&quot;: &quot;增长&quot; "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在上一季度中，哪个一级机构下的所有二级机构平均招聘关闭数最多？（考虑只有发布过招聘的二级机构）",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：哪个一级机构下的在职员工人数最多？\n\tsql1：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入2：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql2：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入3：当前有多少个职位在AI二级机构下空缺，并需要招聘的人数。\n\tsql3：SELECT COUNT(*) AS 职位空缺数量, SUM(有效编制空缺) AS 需要招聘的人数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 二级机构 = 'AI'\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：公司今年第二季度的有效编制空缺数量是多少？\n\tsql5：SELECT SUM(有效编制空缺) AS 第二季度有效编制空缺总数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 编制月度 IN (7, 8, 9)\n\n\t用户输入6：哪个职级范围的有效编制空缺数最多，以及该职级范围各一级机构下的空缺数分布情况是怎样的？\n\tsql6：['SELECT 职级范围, SUM(有效编制空缺) AS 总有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 总有效编制空缺数 DESC LIMIT 1;', 'SELECT 一级机构, 职级范围, 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 职级范围 = (SELECT 职级范围 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY SUM(有效编制空缺) DESC LIMIT 1) ORDER BY 一级机构;']\n\n",
  "thoughts": "为了找到上一个季度中平均招聘关闭数最多的一级机构，我们需要先确定上一个季度的时间范围，然后对每个一级机构下的二级机构的招聘关闭数进行平均计算，最后选择平均数最大的一级机构。由于当前时间未知，我们假设当前财年为T128，因此上一个季度为T127的Q4，即编制月度为1, 2, 3。我们还需要确保只考虑发布过招聘的二级机构，即招聘计划表中有记录的二级机构。",
  "sql": "SELECT 一级机构, AVG(关闭数) AS 平均关闭数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (1, 2, 3) GROUP BY 一级机构 ORDER BY 平均关闭数 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;CRD&quot;, &quot;平均关闭数&quot;: 1.3333333333 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "根据员工基础信息表中员工的入职日期，计算各一级机构的平均工龄，并列出平均工龄超过5年的一级机构名称及其平均工龄。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'shortname': 'IDT', 'fullname': 'Information Digital Technology',  'chinesename': '信息数字化技术部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql3：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：公司全职员工中,哪个岗位的员工平均工龄最大？\n\tsql5：SELECT 职位, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 ORDER BY 平均工龄 DESC LIMIT 1\n\n\t用户输入6：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql6：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n",
  "thoughts": "为了计算每个一级机构的平均工龄，我们需要使用员工的入职日期和当前日期来计算每个员工的工龄，然后计算每个一级机构的平均工龄。我们可以使用EXTRACT函数来提取年份，并使用AGE函数来计算工龄。最后，我们将筛选出那些平均工龄超过5年的一级机构。",
  "sql": "SELECT 一级机构, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese GROUP BY 一级机构 HAVING AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) > 5",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: null, &quot;平均工龄&quot;: 10.0476190476, {&quot;一级机构&quot;: &quot;MRD&quot;, &quot;平均工龄&quot;: 5.6265822785, {&quot;一级机构&quot;: &quot;FE&quot;, &quot;平均工龄&quot;: 6.5698113208, {&quot;一级机构&quot;: &quot;CL&quot;, &quot;平均工龄&quot;: 6.3012259194, {&quot;一级机构&quot;: &quot;OS&quot;, &quot;平均工龄&quot;: 5.55, {&quot;一级机构&quot;: &quot;CPD&quot;, &quot;平均工龄&quot;: 6.2857142857, {&quot;一级机构&quot;: &quot;Corp.QA&quot;, &quot;平均工龄&quot;: 5.3823529412, {&quot;一级机构&quot;: &quot;TPM&quot;, &quot;平均工龄&quot;: 6.4683544304, {&quot;一级机构&quot;: &quot;SLS&quot;, &quot;平均工龄&quot;: 8.9766081871, {&quot;一级机构&quot;: &quot;EHS&quot;, &quot;平均工龄&quot;: 8.602739726, {&quot;一级机构&quot;: &quot;SLS&amp;MKT&quot;, &quot;平均工龄&quot;: 5.1071428571, {&quot;一级机构&quot;: &quot;LOG&quot;, &quot;平均工龄&quot;: 7.1485714286, {&quot;一级机构&quot;: &quot;ATLI&quot;, &quot;平均工龄&quot;: 5.3357664234, {&quot;一级机构&quot;: &quot;FNC&quot;, &quot;平均工龄&quot;: 5.5294117647, {&quot;一级机构&quot;: &quot;RI&quot;, &quot;平均工龄&quot;: 7.6038251366, {&quot;一级机构&quot;: &quot;EPA&amp;IT&quot;, &quot;平均工龄&quot;: 5.2037037037, {&quot;一级机构&quot;: &quot;MU-SSL&quot;, &quot;平均工龄&quot;: 7.0813449024, {&quot;一级机构&quot;: &quot;PA&quot;, &quot;平均工龄&quot;: 6.0, {&quot;一级机构&quot;: &quot;BCM&quot;, &quot;平均工龄&quot;: 10.0, {&quot;一级机构&quot;: &quot;ES&quot;, &quot;平均工龄&quot;: 7.4903846154, {&quot;一级机构&quot;: &quot;MDE&quot;, &quot;平均工龄&quot;: 5.1666666667, {&quot;一级机构&quot;: &quot;IT&quot;, &quot;平均工龄&quot;: 9.8333333333, {&quot;一级机构&quot;: &quot;PLM&quot;, &quot;平均工龄&quot;: 6.4, {&quot;一级机构&quot;: &quot;HR&quot;, &quot;平均工龄&quot;: 5.831372549, {&quot;一级机构&quot;: &quot;SEC&quot;, &quot;平均工龄&quot;: 7.4534792807, {&quot;一级机构&quot;: &quot;SRC&quot;, &quot;平均工龄&quot;: 6.3027027027 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "找出当前在职的员工中持有'硕士'学历但未在技术类职务工作的员工姓名和职务名称，并且统计这样的员工数量。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)",
    "Table:a_sap_positions_responsibilities_risks_chinese(这个是公司每个岗位的责任和风险，以及绩效贡献标准等等表。),columns:(现职人数,集团,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,职位,成本类别名称:【岗位的成本类别，值有：[\"mgr.above\",\"idl\",\"staff\",\"dl\"]】,岗位名称,岗位属性名称,角色定位,岗位风险点,岗位职责,岗位任职资格,绩效贡献,经验及其他资质要求,部门职能类型名称:【值有：[\"工程\",\"研发\",\"运营\",\"支持\",\"销售\",\"质量\",\"其它\",\"atl\"]】,职务,职务类型:【值为：[\"p1-技术类\",\"f4-文职类\",\"技术类\",\"实习\",\"f2-操作类\",\"p2-非技术类\",\"m-管理类\",\"f3-现场管理类\",\"f1-现场技术类\"]】】)"
  ],
  "extend_info": [
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'shortname': 'LOG', 'fullname': 'Logistics', 'chinesename': '物流部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql1：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入2：查找公司中拥有硕士学历的员工数量？\n\tsql2：SELECT COUNT(DISTINCT 人员工号) AS 硕士学历员工数量 FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入3：当前有多少员工具备硕士学历？\n\tsql3：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入4：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql4：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n\t用户输入5：当前具有硕士及以上学历的员工总数是多少？\n\tsql5：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入6：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql6：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n",
  "thoughts": "为了找到在职的员工中持有'硕士'学历但未在技术类职务工作的员工，我们需要从员工基本信息表(a_sap_employee_information_chinese)中筛选出在职状态为'在职'的员工，然后与员工教育经历表(a_sap_employee_education_experience_chinese)关联，找出学历为'硕士'的员工。接下来需要排除在技术类职务工作的员工，根据背景知识中提供的职务名称包含的信息，我们可以知道技术类职务通常包含'工程师'。因此，我们需要从结果中排除职务名称中包含'工程师'的员工。最后，我们需要统计符合条件的员工数量。",
  "sql": "SELECT e.姓名, e.职务名称 FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '硕士' AND e.职务名称 NOT LIKE '%工程师%' LIMIT 50; SELECT COUNT(*) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '硕士' AND e.职务名称 NOT LIKE '%工程师%'",
  "ai_sql_result": "15 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "对于每个一级机构，找出财年T128中，实际在职人数与年度编制数量的差额，并列出差额最高的三个一级机构。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'ND-Lab', 'shortname': 'BTL-MDA', 'fullname': 'Battery Test Lab-Method Development & Application','chinesename': '电芯测试技术开发与应用组'}",
    "{'parent_org': 'FNC', 'shortname': 'COE', 'fullname': 'Center of Excellent', 'chinesename': '专业财务中心'}",
    "{'parent_org': 'MIC', 'shortname': 'PCC', 'fullname': 'Project & Process Control Center','chinesename': '产品与工艺控制部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：对于T128财年，查询在'AD'二级机构中，编制月度为'3'月，员工子组为'技术员'的有效编制空缺数。\n\tsql1：SELECT 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' AND 二级机构 = 'AD' AND 编制月度 = 3 AND 员工子组 = '技术员' LIMIT 50\n\n\t用户输入2：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql2：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：需要生成一份报告，列出所有三级机构，以及每个三级机构下拥有的职务类型总数。\n\tsql4：SELECT 三级机构, COUNT(DISTINCT 职务类型) AS 职务类型总数 FROM a_sap_positions_responsibilities_risks_chinese GROUP BY 三级机构 ORDER BY 三级机构 LIMIT 50;\n\n\t用户输入5：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql5：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入6：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql6：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n",
  "thoughts": "为了找出财年T128中每个一级机构的实际在职人数与年度编制数量的差额，我们需要首先从a_sap_staffing_recruitment_plan_chinese表中获取每个一级机构在T128财年的年度编制数量。然后，我们需要从a_sap_employee_information_chinese表中统计每个一级机构的实际在职人数。最后，我们将两个结果进行比较，计算出差额，并选择差额最高的三个一级机构。",
  "sql": "WITH StaffingPlan AS (\n  SELECT 一级机构, SUM(年度编制数量) AS 年度编制数量\n  FROM a_sap_staffing_recruitment_plan_chinese\n  WHERE 编制年度 = 'T128'\n  GROUP BY 一级机构\n), ActualStaff AS (\n  SELECT 一级机构, COUNT(*) AS 实际在职人数\n  FROM a_sap_employee_information_chinese\n  WHERE 雇佣状态 = '在职'\n  GROUP BY 一级机构\n)\nSELECT sp.一级机构, (sp.年度编制数量 - asf.实际在职人数) AS 差额\nFROM StaffingPlan sp\nJOIN ActualStaff asf ON sp.一级机构 = asf.一级机构\nORDER BY 差额 DESC\nLIMIT 3",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;ME&quot;, &quot;差额&quot;: 1795, {&quot;一级机构&quot;: &quot;PTO&quot;, &quot;差额&quot;: 1096, {&quot;一级机构&quot;: &quot;RD&quot;, &quot;差额&quot;: 1040 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "找出那些有多于1个直属上司的员工，并列出他们的姓名、职务名称以及直属上司的姓名和职务。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_reporting_relationship_chinese(这个是公司每个员工汇报关系表。),columns:(总监2职位,总监2职务,总监3姓名,总监3职位,总监3职务,总监4姓名,总监4职位,总监4职务,一级机构负责人姓名,一级机构负责人职位,一级机构负责人职务,工作性质:【值为：[\"全职-计算\",\"挂职\",\"兼职-不计算\",\"劳务外包\"]】,入司日期,姓名,人员工号:【该表主键，每个员工的唯一id值。】,结束日期:【汇报关系结束的时间】,开始日期:【汇报关系开始的时间】,主管2职务,经理1姓名,经理1职位,经理1职务,经理2姓名,经理2职位,经理2职务,经理3姓名,经理3职位,经理3职务,经理4姓名,经理4职位,经理4职务,总监1姓名,总监1职位,总监1职务,总监2姓名,主管2职位,主管2姓名,主管1职务,主管1职位,主管1姓名,是否管理机构:【该员工是否是部门（一级机构），小组（二级机构，三级机构）负责人。值为：[\"是\",\"否\"]】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"emc\",\"ipqc\",\"ph\",\"ep-m\"]等等】,二级机构:【也称为组，是部门下分组，例如：[\"ai\",\"ad\",\"cpa\",\"ta\"]等等】,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"idt\",\"apd\",\"hr\",\"qa\",\"fe\"]等】】)"
  ],
  "extend_info": [
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "{'parent_org': 'SSL-ME', 'shortname': 'SSL-ME-ASSY1', 'fullname': '', 'chinesename': '装配1设备技术部'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'SLS', 'shortname': 'K1', 'fullname': 'Key Account1', 'chinesename': '关键客户1'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'SSL-PRD', 'shortname': 'SSL-PRD-ASSY1', 'fullname': '', 'chinesename': '装配1生产部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：请列出所有员工的姓名和对应的直属上司姓名，并按照部门分类。\n\tsql1：SELECT e.姓名, e.直属上司姓名, e.一级机构名称 FROM a_sap_employee_information_chinese e ORDER BY e.一级机构名称 LIMIT 50\n\n\t用户输入2：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql2：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入3：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql3：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：找出所有具有管理角色（即是否管理机构为'是'）的员工名单和他们管理的二级机构和三级机构的数量。\n\tsql4：SELECT 姓名, COUNT(DISTINCT 二级机构) AS 二级机构数量, COUNT(DISTINCT 三级机构) AS 三级机构数量 FROM a_sap_reporting_relationship_chinese WHERE 是否管理机构 = '是' GROUP BY 姓名 ORDER BY 姓名 LIMIT 50\n\n\t用户输入5：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql5：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入6：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql6：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n",
  "thoughts": "为了找出有多于1个直属上司的员工，我们需要检查员工的汇报关系表中是否存在多个上司姓名字段被填充的情况。在给定的表结构中，我们可以检查'经理1姓名'、'经理2姓名'等字段。如果这些字段中有多于一个字段不为空，那么可以认为该员工有多个直属上司。接下来，我们需要列出员工的姓名、职务名称以及他们直属上司的姓名和职务。由于表结构中并没有直接说明哪个字段是员工的职务名称，我们可以假设'职务'字段即为员工的职务名称。我们需要使用COALESCE或者CASE WHEN来检查各个上司姓名字段是否为空，并计算每个员工的上司数量，然后筛选出上司数量大于1的员工。",
  "sql": "SELECT 姓名, 主管1职务 AS 职务名称, COALESCE(经理1姓名, '') || ' ' || COALESCE(经理2姓名, '') || ' ' || COALESCE(经理3姓名, '') || ' ' || COALESCE(经理4姓名, '') || ' ' || COALESCE(总监1姓名, '') || ' ' || COALESCE(总监2姓名, '') || ' ' || COALESCE(总监3姓名, '') || ' ' || COALESCE(总监4姓名, '') AS 直属上司姓名, COALESCE(经理1职务, '') || ' ' || COALESCE(经理2职务, '') || ' ' || COALESCE(经理3职务, '') || ' ' || COALESCE(经理4职务, '') || ' ' || COALESCE(总监1职务, '') || ' ' || COALESCE(总监2职务, '') || ' ' || COALESCE(总监3职务, '') || ' ' || COALESCE(总监4职务, '') AS 直属上司职务 FROM a_sap_reporting_relationship_chinese WHERE NULLIF(经理1姓名, '') IS NOT NULL + (NULLIF(经理2姓名, '') IS NOT NULL)::int + (NULLIF(经理3姓名, '') IS NOT NULL)::int + (NULLIF(经理4姓名, '') IS NOT NULL)::int + (NULLIF(总监1姓名, '') IS NOT NULL)::int + (NULLIF(总监2姓名, '') IS NOT NULL)::int + (NULLIF(总监3姓名, '') IS NOT NULL)::int + (NULLIF(总监4姓名, '') IS NOT NULL)::int > 1 LIMIT 50",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "统计每个一级机构在最近一个完整的季度中的职级范围JG7-10（工程师层级）的在职员工的平均工龄，并找出平均工龄最高的部门。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}",
    "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}",
    "{'parent_org': 'PTO', 'shortname': 'PTO-Lab', 'fullname': 'Prototype Laboratory', 'chinesename': '样品制造部-电芯测试部'}",
    "{'parent_org': 'QE', 'shortname': 'TQE', 'fullname': 'Technology Quality Engineering','chinesename': '技术品质工程组'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：找出所有在CPD一级机构工作，且直属上司职务为'总监'级别的员工信息。\n\tsql4：SELECT e.* FROM a_sap_employee_information_chinese e INNER JOIN a_sap_reporting_relationship_chinese r ON e.直属上司工号 = r.人员工号 WHERE e.一级机构名称 = 'CPD' AND r.职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入5：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql5：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入6：查找目前所有'总监'级别的员工姓名、部门和职位。\n\tsql6：SELECT 姓名, 一级机构 AS 部门, 职位 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总工%' OR 职务名称 LIKE '%专家%' OR 职务名称 LIKE '%总监%' LIMIT 50;\n\n",
  "thoughts": "首先我们需要确定最近一个完整的季度。根据背景知识，财年T127对应2022年，T128对应2023年，季度定义为Q1-4,5,6月份，Q2-7,8,9月份，Q3-10,11,12月份，Q4-1,2,3月份。由于现在是2023年，我们需要查找的是2023年第一季度（Q4-1,2,3月份）的数据。接着，我们需要从员工信息表中筛选出在职状态为'在职'、员工子组文本为'三级员工'（对应工程师层级，即JG7-10）的员工，计算他们的平均工龄，然后按一级机构分组统计平均工龄，并找出平均工龄最高的部门。",
  "sql": "SELECT 一级机构, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' AND 员工子组文本 = '三级员工' AND EXTRACT(YEAR FROM 入职日期) <= EXTRACT(YEAR FROM CURRENT_DATE) - 1 AND EXTRACT(MONTH FROM 入职日期) <= 3 GROUP BY 一级机构 ORDER BY 平均工龄 DESC LIMIT 1",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;SEC&quot;, &quot;平均工龄&quot;: 14.0 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "请列出在过去的财年中（T127），在所有一级机构中，每个机构哪个二级机构的平均员工工龄最高，并且需要过滤掉员工雇佣状态为'离职'的数据。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}",
    "{'parent_org': 'IDT', 'shortname': 'DP', 'fullname': 'Data Platform', 'chinesename': '数据平台部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：列出当前在职员工的平均工龄。\n\tsql1：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入2：统计当前全部员工的平均入职年限。\n\tsql2：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入3：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql3：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入4：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql4：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：公司全职员工中,哪个岗位的员工平均工龄最大？\n\tsql6：SELECT 职位, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 ORDER BY 平均工龄 DESC LIMIT 1\n\n",
  "thoughts": "为了找出过去财年（T127）中每个一级机构下平均员工工龄最高的二级机构，我们需要从员工信息表中选择一级机构、二级机构和员工的入职日期，然后计算每个员工的工龄，再计算每个二级机构的平均工龄。由于需要过滤掉雇佣状态为'离职'的员工数据，我们在WHERE子句中添加这个条件。最后，我们对结果按一级机构和平均工龄降序排序，并且使用分组和排名函数来确保每个一级机构只列出平均工龄最高的二级机构。",
  "sql": "WITH RankedOrgs AS (\n    SELECT\n        一级机构,\n        二级机构,\n        AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄,\n        RANK() OVER (PARTITION BY 一级机构 ORDER BY AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) DESC) AS rank\n    FROM\n        a_sap_employee_information_chinese\n    WHERE\n        雇佣状态 = '在职'\n        AND 集团入职日期 < '2023-01-01'\n        AND 集团入职日期 >= '2022-01-01'\n    GROUP BY\n        一级机构,\n        二级机构\n)\nSELECT\n    一级机构,\n    二级机构,\n    平均工龄\nFROM\n    RankedOrgs\nWHERE\n    rank = 1\nLIMIT 50",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;3S&quot;, &quot;二级机构&quot;: &quot;SEC&amp;ES&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;3S&quot;, &quot;二级机构&quot;: &quot;SD&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;APD&quot;, &quot;二级机构&quot;: &quot;FIT&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;APD&quot;, &quot;二级机构&quot;: &quot;AIT&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;BOCS&quot;, &quot;二级机构&quot;: &quot;BO&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;BOCS&quot;, &quot;二级机构&quot;: &quot;CS&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;CATL-SCM&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;CL&quot;, &quot;二级机构&quot;: &quot;ND-Lab&quot;, &quot;平均工龄&quot;: 1.25, {&quot;一级机构&quot;: &quot;CPD&quot;, &quot;二级机构&quot;: &quot;PAP&quot;, &quot;平均工龄&quot;: 1.0555555556, {&quot;一级机构&quot;: &quot;ENG&quot;, &quot;二级机构&quot;: &quot;PTO&quot;, &quot;平均工龄&quot;: 1.25, {&quot;一级机构&quot;: &quot;EPA&amp;IT&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.3333333333, {&quot;一级机构&quot;: &quot;ES&quot;, &quot;二级机构&quot;: &quot;ES-DG&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;ES&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;ES&quot;, &quot;二级机构&quot;: &quot;ES-ND&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;ESS-SPP&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 2.0, {&quot;一级机构&quot;: &quot;FE&quot;, &quot;二级机构&quot;: &quot;Tech&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;FE&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;FE&quot;, &quot;二级机构&quot;: &quot;FOM&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;FNC&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;FNC&quot;, &quot;二级机构&quot;: &quot;ATLS-FNC&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;HR&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;HR&quot;, &quot;二级机构&quot;: &quot;OPS&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;IDT&quot;, &quot;二级机构&quot;: &quot;IS&quot;, &quot;平均工龄&quot;: 2.0, {&quot;一级机构&quot;: &quot;IE&quot;, &quot;二级机构&quot;: &quot;RP&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;IE&quot;, &quot;二级机构&quot;: &quot;CI&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;IE&quot;, &quot;二级机构&quot;: &quot;NP&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;IE&quot;, &quot;二级机构&quot;: &quot;IE-NICT&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;IE&quot;, &quot;二级机构&quot;: &quot;Pack &amp; CIP&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;IP&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.2857142857, {&quot;一级机构&quot;: &quot;LA&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;LA&amp;CS&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;LOG&quot;, &quot;二级机构&quot;: &quot;LOG-ND&quot;, &quot;平均工龄&quot;: 2.0, {&quot;一级机构&quot;: &quot;ME&quot;, &quot;二级机构&quot;: &quot;ME-ND2&quot;, &quot;平均工龄&quot;: 1.4347826087, {&quot;一级机构&quot;: &quot;MFG&quot;, &quot;二级机构&quot;: &quot;MS&quot;, &quot;平均工龄&quot;: 1.2857142857, {&quot;一级机构&quot;: &quot;MKT&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;MRD&quot;, &quot;二级机构&quot;: &quot;EET&quot;, &quot;平均工龄&quot;: 2.0, {&quot;一级机构&quot;: &quot;MU Plus&quot;, &quot;二级机构&quot;: &quot;MU Plus Operation&quot;, &quot;平均工龄&quot;: 1.4142857143, {&quot;一级机构&quot;: &quot;MU-SSL&quot;, &quot;二级机构&quot;: &quot;SSL-PTOEP&quot;, &quot;平均工龄&quot;: 1.8571428571, {&quot;一级机构&quot;: &quot;NVT-FE&quot;, &quot;二级机构&quot;: null, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;OPS&quot;, &quot;二级机构&quot;: &quot;Planning&quot;, &quot;平均工龄&quot;: 1.2142857143, {&quot;一级机构&quot;: &quot;PMC&quot;, &quot;二级机构&quot;: &quot;PMC-MPS&quot;, &quot;平均工龄&quot;: 1.5, {&quot;一级机构&quot;: &quot;PMD&quot;, &quot;二级机构&quot;: &quot;MKT&quot;, &quot;平均工龄&quot;: 1.3333333333, {&quot;一级机构&quot;: &quot;PPD-SPP&quot;, &quot;二级机构&quot;: &quot;PPD-SLS&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;PPD-SPP&quot;, &quot;二级机构&quot;: &quot;PPD-PM&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;PRD&quot;, &quot;二级机构&quot;: &quot;BCU&quot;, &quot;平均工龄&quot;: 1.8181818182, {&quot;一级机构&quot;: &quot;PRJ&quot;, &quot;二级机构&quot;: &quot;PRJ-NDPAP&quot;, &quot;平均工龄&quot;: 1.25, {&quot;一级机构&quot;: &quot;PSCM&quot;, &quot;二级机构&quot;: &quot;Sourcing-ME&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;PSCM&quot;, &quot;二级机构&quot;: &quot;PCO&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;PSCM&quot;, &quot;二级机构&quot;: &quot;Sourcing-EEEM&quot;, &quot;平均工龄&quot;: 1.0, {&quot;一级机构&quot;: &quot;PSCM&quot;, &quot;二级机构&quot;: &quot;Pack&quot;, &quot;平均工龄&quot;: 1.0 "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}",
    "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}",
    "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}",
    "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}",
    "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"
  ],
  "display_type": "Table",
  "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n",
  "thoughts": "由于绩效得分是字母表示的，我们需要先给每个绩效等级赋予一个数值分数，然后计算每个一级机构员工的平均绩效分数。'A'到'D'依次递减，我们可以假设'A'=4, 'B+'=3.5, 'B'=3, 'B-'=2.5, 'C'=2, 'D'=1。然后我们需要找到对应2023年的财年编码，根据背景知识，2023年对应的是'T128'。然后我们需要连接员工绩效表和员工信息表来获取一级机构的名称和员工的绩效得分。但是，提供的表结构信息中没有一级机构和员工信息表，因此我们无法生成SQL查询。",
  "sql": "提供的表结构信息不足以生成 sql 查询。",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "哪些员工在财年T127期间具有至少两种不同类型的教育背景，并且目前还在职？",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_employee_education_experience_chinese(这个是公司每个员工受教育经历的数据表。),columns:(人员工号:【每个员工的唯一工号，也是这张表的主键】,第一专业,证书,国家,院校_培训机构,教育类型,学历:【值：[\"硕士\",\"高中\",\"大学专科\",\"博士\",\"初中及以下\",\"大学本科\",\"中专\"]】,结束日期:【受教育的结束日期】,开始日期:【受教育的开始日期】,姓名】)",
    "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "{'parent_org': 'HR', 'shortname': 'TR', 'fullname': 'Total Rewards', 'chinesename': '薪酬与激励部'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'shortname': 'FNC', 'fullname': 'Finance', 'chinesename': '财务部'}",
    "{'parent_org': 'FNC', 'shortname': 'COE', 'fullname': 'Center of Excellent', 'chinesename': '专业财务中心'}",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：当前有多少员工具备硕士学历？\n\tsql1：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '硕士';\n\n\t用户输入2：目前哪些员工的学历为硕士，并且其所在的一级机构为FE？\n\tsql2：SELECT DISTINCT e.人员工号, e.姓名\nFROM a_sap_employee_education_experience_chinese AS edu\nJOIN a_sap_employee_information_chinese AS e ON edu.人员工号 = e.人员工号\nWHERE edu.学历 = '硕士' AND e.一级机构名称 = 'FE'\nLIMIT 50\n\n\t用户输入3：查询员工中持有硕士及以上学位员工的数量占比。\n\tsql3：SELECT (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese WHERE 学历 IN ('硕士', '博士'))::FLOAT / (SELECT COUNT(*) FROM a_sap_employee_education_experience_chinese)::FLOAT AS master_and_above_ratio\n\n\t用户输入4：当前具有硕士及以上学历的员工总数是多少？\n\tsql4：select count(*) from a_sap_employee_information_chinese aseic  join a_sap_employee_education_experience_chinese aseeec  on aseic.人员工号 = aseeec.人员工号 where aseic.雇佣状态 ='在职' and aseeec.学历  IN ('硕士', '博士')\n\n\t用户输入5：提供一个报告，显示所有在T127年内入职的员工，他们的姓名、入职日期和部门，按入职日期升序排序。\n\tsql5：SELECT 姓名, 入职日期, 一级机构名称 FROM a_sap_employee_information_chinese WHERE 入职日期::text LIKE '2021%' ORDER BY 入职日期 ASC LIMIT 50\n\n\t用户输入6：我们需要找出在职状态为'在职'且最高学历为'博士'的员工名单。\n\tsql6：SELECT DISTINCT e.姓名 FROM a_sap_employee_information_chinese e INNER JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 = '博士' LIMIT 50\n\n",
  "thoughts": "为了找出在财年T127期间具有至少两种不同类型的教育背景的在职员工，我们需要执行以下步骤：1. 确定财年T127对应的日期范围（2022年）。2. 从教育经历表中选择在这个日期范围内具有教育经历的员工，并确保他们的教育类型至少有两种不同的。3. 确保这些员工目前的雇佣状态是'在职'。4. 由于可能存在多条教育经历记录对应同一个员工，我们需要使用分组（GROUP BY）和筛选（HAVING COUNT(DISTINCT 教育类型) >= 2）来找出至少有两种教育类型的员工。5. 最后，我们需要连接员工信息表来确认员工的在职状态。",
  "sql": "SELECT e.人员工号, e.姓名, COUNT(DISTINCT edu.教育类型) AS 不同教育类型数量 FROM a_sap_employee_education_experience_chinese edu JOIN a_sap_employee_information_chinese e ON edu.人员工号 = e.人员工号 WHERE edu.结束日期 >= '2022-01-01' AND edu.开始日期 <= '2022-12-31' AND e.雇佣状态 = '在职' GROUP BY e.人员工号, e.姓名 HAVING COUNT(DISTINCT edu.教育类型) >= 2 LIMIT 50",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "在上一财年（T127）中，有哪些一级机构的招聘开放职位（open数）数量大于它们的年度编制数量？列出这些机构及其对应的差值。",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'parent_org': 'ME-ND1', 'shortname': 'ME-ASSY1', 'fullname': 'ME-ASSY1', 'chinesename': '装配一'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'PSO', 'shortname': 'CPA', 'fullname': 'Corporate public affairs', 'chinesename': '企业公共事务部'}",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：截至目前，公司一级机构下有多少个不同的职务？\n\tsql1：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入2：今年是T127，7月份，请问最近一个季度中，各一级机构的招聘编制使用率是如何？需要考虑有效编制空缺和拟在职人数。\n\tsql2：SELECT 一级机构, SUM(拟在职人数) AS 拟在职总数, SUM(有效编制空缺) AS 有效空缺总数, (SUM(拟在职人数)::FLOAT / (SUM(拟在职人数) + SUM(有效编制空缺))) AS 编制使用率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 = 7 and 一级机构 is not null GROUP BY 一级机构 ORDER BY 编制使用率 DESC LIMIT 50\n\n\t用户输入3：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql3：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入4：哪个一级机构下的在职员工人数最多？\n\tsql4：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入5：哪个一级机构在T128年度内增加了最多的特批编制数量？\n\tsql5：SELECT 一级机构, SUM(特批编制数量) AS total_special_quota FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY total_special_quota DESC LIMIT 1\n\n\t用户输入6：请问T127年度一共有多少有效的编制空缺？\n\tsql6：SELECT SUM(有效编制空缺) FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127';\n\n",
  "thoughts": "首先，我们需要查询上一财年（T127）的数据。接着，我们要找出那些一级机构的招聘开放职位（open数）大于年度编制数量的情况。为此，我们可以从a_sap_staffing_recruitment_plan_chinese表中选取一级机构、open数和年度编制数量，然后通过WHERE子句筛选出编制年度为'T127'的记录。最后，我们使用HAVING子句来过滤出open数大于年度编制数量的记录，并计算差值。",
  "sql": "SELECT 一级机构, (SUM(open数) - SUM(年度编制数量)) AS 差值 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' GROUP BY 一级机构 HAVING SUM(open数) > SUM(年度编制数量) LIMIT 50",
  "ai_sql_result": "&quot;: [] "
}
{
  "db_name": "hr_chinese_fk",
  "user_input": "哪个一级机构在第三季度（T127-Q3）的招聘关闭数（关闭数）最多，并且该机构的哪个二级机构对应的关闭数最多？",
  "top_k": "50",
  "dialect": "postgresql",
  "table_info": [
    "Table:a_sap_staffing_recruitment_plan_chinese(这个是公司各个部门（一级机构），小组（二级机构、三级机构），在每个编制年度(财年)/编制月度的招聘计划表。),columns:(编制年度:【公司的财年，值为\"TXXX\",其中XXX是数字，例如:[\"T126\",\"T127\",\"T128\"]】,编制月度:【公司财年中的月度，值有:[1,2,3,4,...,12]】,员工子组:【员工等级组别，值有[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"]，其中A5级别最高】,有效编制空缺,创建日期,年度可申请空缺数量,季度可申请空缺数量,月度可申请空缺数量,年度编制数量,季度编制数量,月度编制数量,特批编制数量,拟在职人数,有效但是没有报到空缺数,写入日期,open数,关闭数,冻结数,集团名称,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职级范围】)"
  ],
  "extend_info": [
    "一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];",
    "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";",
    "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;",
    "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';",
    "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]",
    "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';",
    "{'parent_org': 'HR', 'shortname': 'TA', 'fullname': 'Talent Acquisition', 'chinesename': '人才招聘与调配部'}",
    "{'parent_org': 'HR', 'shortname': 'OM', 'fullname': 'Oversea Management', 'chinesename': '海外管理部'}",
    "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}",
    "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}",
    "{'parent_org': 'HR', 'shortname': 'O&TD', 'fullname': 'Organization&Talent Development', 'chinesename': '组织与人才发展部'}",
    "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}"
  ],
  "display_type": "response_table",
  "qa_samples": "\t用户输入1：哪个一级机构下的在职员工人数最多？\n\tsql1：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入2：公司哪个一级机构的管理岗位空缺率最高，并列出该机构的管理岗位空缺数和总编制数？\n\tsql2：SELECT 一级机构, SUM(有效编制空缺) AS 管理岗位空缺数, SUM(年度编制数量) AS 总编制数, (SUM(有效编制空缺)::FLOAT / SUM(年度编制数量)) AS 空缺率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 员工子组 IN ('A4', 'A5') GROUP BY 一级机构 ORDER BY 空缺率 DESC LIMIT 1\n\n\t用户输入3：今年是T127，7月份，请问最近一个季度中，各一级机构的招聘编制使用率是如何？需要考虑有效编制空缺和拟在职人数。\n\tsql3：SELECT 一级机构, SUM(拟在职人数) AS 拟在职总数, SUM(有效编制空缺) AS 有效空缺总数, (SUM(拟在职人数)::FLOAT / (SUM(拟在职人数) + SUM(有效编制空缺))) AS 编制使用率 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 = 7 and 一级机构 is not null GROUP BY 一级机构 ORDER BY 编制使用率 DESC LIMIT 50\n\n\t用户输入4：哪个部门的有效编制空缺数量最多？\n\tsql4：SELECT 一级机构, SUM(有效编制空缺) AS 总有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 一级机构 ORDER BY 总有效编制空缺 DESC LIMIT 1\n\n\t用户输入5：哪个职级范围的有效编制空缺数最多，以及该职级范围各一级机构下的空缺数分布情况是怎样的？\n\tsql5：['SELECT 职级范围, SUM(有效编制空缺) AS 总有效编制空缺数 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY 总有效编制空缺数 DESC LIMIT 1;', 'SELECT 一级机构, 职级范围, 有效编制空缺 FROM a_sap_staffing_recruitment_plan_chinese WHERE 职级范围 = (SELECT 职级范围 FROM a_sap_staffing_recruitment_plan_chinese GROUP BY 职级范围 ORDER BY SUM(有效编制空缺) DESC LIMIT 1) ORDER BY 一级机构;']\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n",
  "thoughts": "首先，我们需要从表a_sap_staffing_recruitment_plan_chinese中筛选出编制年度为'T127'的数据，然后确定第三季度对应的月份为10、11、12月，因此我们需要筛选出编制月度为10、11、12的数据。接着，我们将根据一级机构对关闭数进行求和，并按照关闭数降序排列，取出最顶端的一级机构，即为关闭数最多的一级机构。最后，我们需要找出这个一级机构下关闭数最多的二级机构，同样按照关闭数降序排列，取出最顶端的二级机构。",
  "sql": "WITH FirstLevel AS (SELECT 一级机构, SUM(关闭数) AS 总关闭数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (10, 11, 12) GROUP BY 一级机构 ORDER BY 总关闭数 DESC LIMIT 1), SecondLevel AS (SELECT 二级机构, SUM(关闭数) AS 总关闭数 FROM a_sap_staffing_recruitment_plan_chinese WHERE 编制年度 = 'T127' AND 编制月度 IN (10, 11, 12) AND 一级机构 = (SELECT 一级机构 FROM FirstLevel) GROUP BY 二级机构 ORDER BY 总关闭数 DESC LIMIT 1) SELECT f.一级机构, s.二级机构, s.总关闭数 FROM FirstLevel f, SecondLevel s",
  "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;ENG&quot;, &quot;二级机构&quot;: null, &quot;总关闭数&quot;: 79 "
}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。\n", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于表结构定义中没有提供与一级机构直接关联的字段，因此无法直接查询一级机构的名称及其员工平均绩效得分。我们需要一级机构与员工的对应关系才能进行这个查询。在当前的表结构定义中，我们只能查询出所有员工在2023年的平均绩效得分，但无法按一级机构进行分组。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "公司有多少人？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'PSO', 'shortname': 'CCT', 'fullname': 'Corporate Culture/Communication Team', 'chinesename': '企业文化组'}", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'shortname': 'CPP', 'fullname': 'Corporate Planning', 'chinesename': '企业策划部'}", "{'parent_org': 'PSO', 'shortname': 'CPA', 'fullname': 'Corporate public affairs', 'chinesename': '企业公共事务部'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：查找到现在为止，公司一共有多少名员工？\n\tsql1：SELECT COUNT(*) FROM a_sap_employee_information_chinese;\n\n\t用户输入2：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql2：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入3：查找公司中男性员工的数量？\n\tsql3：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 性别 = '男'\n\n\t用户输入4：公司有多少位具有博士学历的员工？\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '博士'\n\n\t用户输入5：目前公司总共有多少空缺职位？\n\tsql5：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入6：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql6：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n", "thoughts": "由于用户询问的是公司总共有多少人，这个问题不需要区分员工的雇佣状态，因此我们只需要计算员工信息表中的记录总数即可。", "sql": "SELECT COUNT(*) FROM a_sap_employee_information_chinese;", "ai_sql_result": "86698 "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。\n", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于没有一级机构直接的字段，我们无法直接查询每个一级机构的平均绩效得分。我们需要一张包含员工所属一级机构信息的表，但这在给出的表结构定义中并未提供。因此，我们无法生成SQL查询来回答这个问题。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于绩效得分是以字母表示的，我们需要为每个绩效等级分配一个数值，以便计算平均绩效得分。我们可以假设'A'为最高得分，'D'为最低得分，并按顺序分配数值，如'A'=4, 'B+'=3.5, 'B'=3, 'B-'=2.5, 'C'=2, 'D'=1。然后我们可以计算每个一级机构的平均绩效得分，并找出得分最低的机构。注意，由于题目中没有提供一级机构的具体字段信息，我们假设存在一个名为'一级机构'的字段。如果该字段不存在或命名不同，则需要修改SQL语句。此外，我们需要使用编制年度为'T128'来代表2023年。最后，由于绩效得分是非数值类型的数据，我们需要使用CASE语句将其转换为数值类型，然后才能计算平均得分。", "sql": "SELECT 一级机构, AVG(CASE 绩效 WHEN 'A' THEN 4 WHEN 'B+' THEN 3.5 WHEN 'B' THEN 3 WHEN 'B-' THEN 2.5 WHEN 'C' THEN 2 WHEN 'D' THEN 1 END) AS 平均绩效得分 FROM a_sap_performance_ai WHERE 编制年度 = 'T128' GROUP BY 一级机构 ORDER BY 平均绩效得分 ASC LIMIT 1", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于提供的表结构信息中没有关于一级机构的直接信息，我们无法直接从表中查询一级机构的名称及其员工的平均绩效得分。我们需要一张包含员工所属一级机构信息的表来进行这样的查询。但是，我们可以假设一级机构的信息可能包含在人员工号或姓名字段中，但这是不确定的，因此我们无法生成一个准确的SQL查询来回答这个问题。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于没有提供一级机构与员工绩效之间的直接关联表，无法直接查询一级机构的员工平均绩效得分。需要一张包含员工所属一级机构信息的表才能进行查询。因此，无法构建SQL查询来回答用户的问题。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于数据库中没有直接关于一级机构和绩效得分的表，我们无法直接查询出一级机构的平均绩效得分。我们需要一个表，其中包含一级机构的信息以及员工的绩效得分，才能执行这样的查询。因此，我们无法创建一个SQL查询来解决这个问题，因为提供的表结构信息不足。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "公司有多少人？", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "{'parent_org': 'PSO', 'shortname': 'CCT', 'fullname': 'Corporate Culture/Communication Team', 'chinesename': '企业文化组'}", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'shortname': 'CPP', 'fullname': 'Corporate Planning', 'chinesename': '企业策划部'}", "{'parent_org': 'PSO', 'shortname': 'CPA', 'fullname': 'Corporate public affairs', 'chinesename': '企业公共事务部'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'HR', 'shortname': 'OPS', 'fullname': 'Operation Center', 'chinesename': '运营中心'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：查找到现在为止，公司一共有多少名员工？\n\tsql1：SELECT COUNT(*) FROM a_sap_employee_information_chinese;\n\n\t用户输入2：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql2：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入3：查找公司中男性员工的数量？\n\tsql3：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 性别 = '男'\n\n\t用户输入4：公司有多少位具有博士学历的员工？\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '博士'\n\n\t用户输入5：目前公司总共有多少空缺职位？\n\tsql5：SELECT SUM(有效编制空缺) AS 总空缺职位数量 FROM a_sap_staffing_recruitment_plan_chinese;\n\n\t用户输入6：公司中具有硕士学历及以上且目前在职的员工有多少？\n\tsql6：SELECT COUNT(DISTINCT e.人员工号) FROM a_sap_employee_information_chinese e JOIN a_sap_employee_education_experience_chinese ed ON e.人员工号 = ed.人员工号 WHERE e.雇佣状态 = '在职' AND ed.学历 IN ('硕士', '博士')\n\n", "thoughts": "用户想要知道公司总共有多少名员工，不需要区分雇佣状态或其他条件，因此我们将对员工信息表进行计数。", "sql": "SELECT COUNT(*) FROM a_sap_employee_information_chinese;", "ai_sql_result": "86698 "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于查询涉及到绩效得分的平均值，我们需要给绩效得分赋予数值意义，然后计算平均值。绩效得分'A'到'D'依次递减，我们可以假设'A'=4, 'B+'=3.5, 'B'=3, 'B-'=2.5, 'C'=2, 'D'=1。计算每个一级机构的员工绩效得分平均值，最后选出平均绩效得分最低的一级机构。但是，当前提供的表结构信息中并没有一级机构的字段，因此无法直接进行查询。我们需要一级机构的信息才能完成这个查询。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "公司有多人迟到", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"], "extend_info": ["编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "'职员职务名称包含':'工程师';'经理职务名称包含':'主任工程师|资深主任工程师|经理|资深经理';'总监职务名称包含':'总工|专家|总监';'副总裁职务名称包含':'副总裁|副总裁|技术官|董事长';", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "{'parent_org': 'ES', 'shortname': 'ES-DG', 'fullname': 'Employee Service-DG', 'chinesename': '东莞雇员服务部'}", "{'shortname': 'CPP', 'fullname': 'Corporate Planning', 'chinesename': '企业策划部'}", "{'shortname': 'HR', 'fullname': 'Human Resources', 'chinesename': '人力资源部'}", "{'shortname': 'ES', 'fullname': 'Employee Service', 'chinesename': '雇员服务部'}", "{'parent_org': 'EHS-ND', 'shortname': 'Site-M&E', 'fullname': 'Environment,Health and Safety  Site Management(M&E)','chinesename': '湖东现场管理组'}", "{'parent_org': 'ES', 'shortname': 'ES-ND', 'fullname': 'Employee Service-ND', 'chinesename': '宁德雇员服务部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：查找到现在为止，公司一共有多少名员工？\n\tsql1：SELECT COUNT(*) FROM a_sap_employee_information_chinese;\n\n\t用户输入2：对于每个职位，当前有多少员工从事，并且他们的平均入职时长是多少（只计算在职员工）？\n\tsql2：SELECT 职位, COUNT(*) AS 员工数量, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职时长 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 职位 LIMIT 50\n\n\t用户输入3：哪位员工在公司呆的时间最久?\n\tsql3：SELECT 人员工号, 姓名, 入职日期 FROM a_sap_employee_information_chinese ORDER BY 入职日期 ASC LIMIT 1\n\n\t用户输入4：公司有多少位具有博士学历的员工？\n\tsql4：SELECT COUNT(DISTINCT 人员工号) FROM a_sap_employee_education_experience_chinese WHERE 学历 = '博士'\n\n\t用户输入5：我们想知道目前公司总共有多少雇员处于正式雇佣状态。\n\tsql5：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职';\n\n\t用户输入6：查找公司中男性员工的数量？\n\tsql6：SELECT COUNT(*) FROM a_sap_employee_information_chinese WHERE 性别 = '男'\n\n", "thoughts": "用户询问公司有多少人迟到，但是给出的表结构信息中没有关于员工迟到记录的数据，因此无法直接查询出迟到的员工数量。我们需要迟到记录的数据才能回答这个问题。", "sql": "", "ai_sql_result": "用户询问公司有多少人迟到，但是给出的表结构信息中没有关于员工迟到记录的数据，因此无法直接查询出迟到的员工数量。我们需要迟到记录的数据才能回答这个问题。"}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于绩效得分是以字母来标识的，我们需要先将其转换为数值进行平均计算。可以将'A'到'D'分别对应一个数值，例如'A'=4, 'B+'=3.5, 'B'=3, 'B-'=2.5, 'C'=2, 'D'=1。然后我们可以计算每个一级机构员工的平均绩效得分。由于题目中没有给出一级机构字段的具体名称，我们无法直接生成SQL查询。如果一级机构的字段在提供的表结构中存在，我们可以使用类似以下的SQL查询来得出结果。但是，由于提供的表结构信息中没有一级机构字段，我们无法生成SQL查询。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于数据库中没有直接包含一级机构名称和绩效得分的关联表，我们无法直接查询每个一级机构的平均绩效得分。我们需要一张包含员工所属一级机构信息的表以及可以将绩效得分转换为数值的逻辑。考虑到绩效得分'A'到'D'依次递减，我们可以赋予它们数值，例如'A'=4, 'B+'=3.5, 'B'=3, 'B-'=2.5, 'C'=2, 'D'=1，然后计算平均值。但是，由于缺乏员工与其一级机构之间的直接关联，我们无法生成一个SQL查询来解决这个问题。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。、", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql5：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入6：哪个一级机构下的在职员工人数最多？\n\tsql6：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n", "thoughts": "由于没有提供一级机构和员工之间的直接关联表，无法直接通过SQL查询得出一级机构的员工平均绩效得分。我们需要一张关联员工和一级机构的表才能进行查询。由于没有这样的表，我们无法生成SQL查询。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于缺少一级机构的直接关联信息，我们无法直接从提供的表结构中获取一级机构的名称和员工的平均绩效得分。我们需要一级机构与员工的关联数据才能执行此查询。因此，提供的表结构信息不足以生成 sql 查询。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于表结构定义中没有提供一级机构的信息，无法直接查询一级机构的员工平均绩效得分。我们需要一级机构与员工的对应关系才能进行此查询。此外，绩效得分是以字母表示的，我们需要将其转换为数值进行平均计算。但由于缺乏必要的表结构信息，我们无法进行这一转换和计算。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于绩效得分是字母表示的，我们需要给每个绩效等级分配一个数值分数，以便计算平均值。我们可以假设'A'为4分，'B+'为3.5分，'B'为3分，'B-'为2.5分，'C'为2分，'D'为1分。然后我们可以计算每个一级机构的员工绩效得分的平均值，并找出平均得分最低的一级机构。但是，由于提供的表结构信息中没有包含一级机构的字段，我们无法直接生成SQL查询来回答这个问题。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于数据库中没有直接提供一级机构与员工绩效之间的关联表，我们无法直接查询每个一级机构的员工平均绩效得分。我们需要一张包含员工所属一级机构信息的表来与员工绩效表进行连接查询。但是，在提供的表结构信息中，我们没有这样的表。因此，我们无法生成SQL查询来回答这个问题。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于给定的表结构信息中没有提及一级机构的信息，我们无法直接查询每个一级机构的平均绩效得分。我们需要一张包含员工所属一级机构信息的表来关联查询。因此，我们无法生成SQL查询。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "由于没有提供一级机构与员工之间的直接关系表，无法直接查询一级机构的员工平均绩效得分。我们需要一张包含员工所属一级机构信息的表来联合查询。由于没有这样的表，无法生成SQL查询。", "sql": "提供的表结构信息不足以生成 sql 查询。", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)", "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),columns:(上班地点:【值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]】,性别,国籍,民族,籍贯,身份证地址的省_直辖市,开始参加工作日期,员工本人联系号码,一级机构:【也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等】,二级机构:【也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等】,三级机构:【也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等】,职务名称,员工工作性质文本:【值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]】,直属上司工号,直属上司姓名,集团入职日期,人员工号:【每个员工的唯一工号，也是这张表的主键】,人事范围:【值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]】,员工组:【值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]】,员工子组文本:【值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]】,英文名,姓名,雇佣状态:【值为：[\"在职\",\"离职\"]】,职位,入职日期,部门负责人:【该员工所属部门（一级机构）的负责人姓名】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql3：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入4：截至目前，公司一级机构下有多少个不同的职务？\n\tsql4：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入5：哪个一级机构下的在职员工人数最多？\n\tsql5：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n\t用户输入6：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql6：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n", "thoughts": "首先，我们需要确定当前财年对应的编制年度值，根据背景知识中提供的规则，2023年对应的财年编码是T128。然后，我们需要为绩效等级分配一个数值，以便计算平均绩效得分。我们可以按照A到D递减的顺序分配数值，例如'A'=1, 'B+'=2, 'B'=3, 'B-'=4, 'C'=5, 'D'=6。接下来，我们将查询每个一级机构的员工的绩效得分，计算平均值，并找出平均绩效得分最低的一级机构。我们需要联合两个表：a_sap_performance_ai和a_sap_employee_information_chinese，以人员工号作为连接字段。最后，我们将按平均绩效得分排序，选择平均得分最低的一级机构。", "sql": "SELECT e.一级机构, AVG(CASE p.绩效 WHEN 'A' THEN 1 WHEN 'B+' THEN 2 WHEN 'B' THEN 3 WHEN 'B-' THEN 4 WHEN 'C' THEN 5 WHEN 'D' THEN 6 END) AS 平均绩效得分 FROM a_sap_performance_ai p JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE p.编制年度 = 'T128' GROUP BY e.一级机构 ORDER BY 平均绩效得分 DESC LIMIT 1", "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;ATL-HR&quot;, &quot;平均绩效得分&quot;: 4.0 "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减，并且计算迟到。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql3：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入4：列出当前在职员工的平均工龄。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：截至目前，公司一级机构下有多少个不同的职务？\n\tsql5：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "thoughts": "由于给定的表结构信息中没有包含一级机构的名称，也没有提供迟到的数据，无法直接通过SQL查询获取一级机构的员工平均绩效得分，并考虑迟到情况。缺少关联绩效得分与一级机构以及迟到数据的表格，因此无法生成符合要求的SQL查询。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减，并且计算迟到。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),columns:(绩效:【绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]】,人员工号,姓名,编制年度:【公司财年】】)"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql3：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入4：列出当前在职员工的平均工龄。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：截至目前，公司一级机构下有多少个不同的职务？\n\tsql5：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "thoughts": "由于给定的表结构信息中没有提供一级机构和绩效得分与其对应数值的直接关系，无法直接计算出平均绩效得分。通常，绩效得分需要一个数值映射（例如：'A'=5, 'B+'=4.5, 等等）来计算平均值，但这样的映射在表结构定义中并未提供。此外，也没有提供迟到数据和一级机构的名称。因此，我们无法生成一个SQL查询来回答这个问题。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减，并且计算迟到。", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),Columns:[编制年度:`公司财年`, 姓名, 人员工号, 绩效:`绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]`]"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'shortname': 'QA', 'fullname': 'Quality Assurance', 'chinesename': '品质保证部'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}"], "display_type": "Table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql2：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入3：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql3：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入4：列出当前在职员工的平均工龄。\n\tsql4：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均工龄 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n\t用户输入5：截至目前，公司一级机构下有多少个不同的职务？\n\tsql5：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入6：统计当前全部员工的平均入职年限。\n\tsql6：SELECT AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, 入职日期))) AS 平均入职年限 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职'\n\n", "thoughts": "由于表结构定义中没有提供一级机构的信息，我们无法直接查询出每个一级机构的员工平均绩效得分。我们需要一级机构与员工的关联数据才能进行这样的查询。由于这个关联信息在提供的表结构中不存在，我们无法生成SQL查询来回答这个问题。", "sql": "select '提供的表结构信息不足以生成 sql 查询。' as error", "ai_sql_result": "&quot;: [{&quot;error&quot;: &quot;提供的表结构信息不足以生成 sql 查询。&quot; "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),Columns:[编制年度:`公司财年`, 姓名, 人员工号, 绩效:`绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]`]", "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),Columns:[人员工号:`每个员工的唯一工号，也是这张表的主键`, 姓名, 雇佣状态:`值为：[\"在职\",\"离职\"]`, 职位, 入职日期, 部门负责人:`该员工所属部门（一级机构）的负责人姓名`, 人事范围:`值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]`, 员工组:`值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]`, 员工子组文本:`值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]`, 上班地点:`值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]`, 英文名, 性别, 国籍, 民族, 籍贯, 身份证地址的省_直辖市, 开始参加工作日期, 员工本人联系号码, 一级机构:`也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等`, 二级机构:`也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等`, 三级机构:`也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等`, 职务名称, 员工工作性质文本:`值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]`, 直属上司工号, 直属上司姓名, 集团入职日期]"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'PPD', 'shortname': 'CMA', 'fullname': 'Competition Management & Analysis Team','chinesename': '竞争管理部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql2：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入3：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql3：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入4：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql4：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入5：截至目前，公司一级机构下有多少个不同的职务？\n\tsql5：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入6：哪个一级机构下的在职员工人数最多？\n\tsql6：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n", "thoughts": "首先，我们需要确定当前财年对应的编制年度字段值，根据背景知识，2023年对应的编制年度是'T128'。然后，我们需要将绩效得分'A'到'D'转换为数值，以便计算平均得分，可以假设'A'=4, 'B+'=3.5, 'B'=3, 'B-'=2.5, 'C'=2, 'D'=1。接着，我们需要从a_sap_performance_ai表中获取每个一级机构的员工绩效得分，计算平均值，并找出平均得分最低的一级机构。最后，我们需要将查询的结果限制为最多50个。", "sql": "SELECT e.一级机构, AVG(CASE p.绩效 WHEN 'A' THEN 4 WHEN 'B+' THEN 3.5 WHEN 'B' THEN 3 WHEN 'B-' THEN 2.5 WHEN 'C' THEN 2 WHEN 'D' THEN 1 END) AS 平均绩效得分 FROM a_sap_performance_ai p JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE p.公司财年 = 'T128' GROUP BY e.一级机构 ORDER BY 平均绩效得分 ASC LIMIT 1", "ai_sql_result": "&quot;: [] "}
{"input": "公司员工的家乡分析", "dialect": "postgresql", "table_info": [{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:a_sap_performance_ai(这个是公司每个员工每个财年的绩效表),Columns:[编制年度:`公司财年`, 姓名, 人员工号, 绩效:`绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]`]", "Table:a_sap_employee_information_chinese(这个是公司每个员工基本信息表。),Columns:[人员工号:`每个员工的唯一工号，也是这张表的主键`, 姓名, 雇佣状态:`值为：[\"在职\",\"离职\"]`, 职位, 入职日期, 部门负责人:`该员工所属部门（一级机构）的负责人姓名`, 人事范围:`值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]`, 员工组:`值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]`, 员工子组文本:`值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]`, 上班地点:`值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]`, 英文名, 性别, 国籍, 民族, 籍贯, 身份证地址的省_直辖市, 开始参加工作日期, 员工本人联系号码, 一级机构:`也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等`, 二级机构:`也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等`, 三级机构:`也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等`, 职务名称, 员工工作性质文本:`值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]`, 直属上司工号, 直属上司姓名, 集团入职日期]"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}", "{'parent_org': 'PPD', 'shortname': 'CMA', 'fullname': 'Competition Management & Analysis Team','chinesename': '竞争管理部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql2：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入3：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql3：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入4：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql4：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入5：截至目前，公司一级机构下有多少个不同的职务？\n\tsql5：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入6：哪个一级机构下的在职员工人数最多？\n\tsql6：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n", "thoughts": "首先，我们需要计算每个绩效等级对应的数值分数，以便计算平均绩效得分。我们可以假设'A'=4, 'B+'=3.5, 'B'=3, 'B-'=2.5, 'C'=2, 'D'=1。然后，我们将连接绩效表和员工信息表，以便获取每个一级机构的员工绩效信息。接下来，我们将根据当前年份（2023年）筛选绩效数据，对应的公司财年是'T128'。最后，我们将按一级机构分组计算平均绩效得分，并找出得分最低的一级机构。", "sql": "SELECT e.一级机构, AVG(CASE p.绩效 WHEN 'A' THEN 4 WHEN 'B+' THEN 3.5 WHEN 'B' THEN 3 WHEN 'B-' THEN 2.5 WHEN 'C' THEN 2 WHEN 'D' THEN 1 END) AS 平均绩效得分 FROM a_sap_performance_ai p JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE p.公司财年 = 'T128' GROUP BY e.一级机构 ORDER BY 平均绩效得分 ASC LIMIT 1", "ai_sql_result": "&quot;: [] "}
{"db_name": "hr_chinese_fk", "user_input": "在当前年份（2023年）中，哪个一级机构的员工平均绩效得分最低？请列出该机构的名称及其平均绩效得分，并且请考虑到绩效得分'A'到'D'依次递减", "top_k": "50", "dialect": "postgresql", "table_info": ["Table:`a_sap_performance_ai`(这个是公司每个员工每个财年的绩效表),Columns:[`编制年度` '公司财年', `姓名`, `人员工号`, `绩效` '绩效排序（好->差）:[\"A\",\"B+\",\"B\",\"B-\",\"C\",\"D\"]']", "Table:`a_sap_employee_information_chinese`(这个是公司每个员工基本信息表。),Columns:[`人员工号` '每个员工的唯一工号，也是这张表的主键', `姓名`, `雇佣状态` '值为：[\"在职\",\"离职\"]', `职位`, `入职日期`, `部门负责人` '该员工所属部门（一级机构）的负责人姓名', `人事范围` '值为：[\"Ampack-DG\",\"SSL\",\"SZ\",\"Poweramp\",\"Ampack\",\"BM\",\"HK\",\"ND\",\"Ampace\"]', `员工组` '值为：[\"劳务外包\",\"试用\",\"退休返聘\",\"CJR\",\"劳务派遣-正式\",\"正式\",\"劳务派遣-试用\",\"顾问\",\"实习\"]', `员工子组文本` '值为：[\"顾问\",\"实习\",\"二级员工\",\"五级员工\",\"一级员工\",\"三级员工\",\"CJR\",\"四级员工\"]', `上班地点` '值为：[\"SSL\",\"SZ(深圳)\",\"WX(无锡)\",\"XM\",\"IN\",\"BM\",\"HK\",\"SG\",\"MNO\",\"ND\",\"SSL-P\"]', `英文名`, `性别`, `国籍`, `民族`, `籍贯`, `身份证地址的省_直辖市`, `开始参加工作日期`, `员工本人联系号码`, `一级机构` '也称为部门，值一般为英文字母组成，例如：[\"IDT\",\"APD\",\"HR\",\"QA\",\"FE\"]等', `二级机构` '也称为组，是部门下分组，例如：[\"AI\",\"AD\",\"CPA\",\"TA\"]等等', `三级机构` '也称为组，是二级机构下面的更细分的小组，例如：[\"EMC\",\"IPQC\",\"PH\",\"EP-M\"]等等', `职务名称`, `员工工作性质文本` '值为：[\"兼职-不计算\",\"劳务外包\",\"兼职-计算\",\"全职-计算\",\"挂职\"]', `直属上司工号`, `直属上司姓名`, `集团入职日期`]"], "extend_info": ["一级机构的值都是缩写，是shortname，比如:['SRC','APD','CPD','FE',...,'MU Plus'];二级机构的值都是缩写，是shortname，比如:['OMO','CSR&EHS Sys','AD','LOG-HK',...,'xTW-EP-PRD'];三级机构的值都是缩写，是shortname，比如:['PAP1','BTL-MDA','SSL-ME-ASSY2','ME-Program',...,'Site-SSL'];", "'员工子组|员工子组文本 对应的含义如下所示'：'A1|一级员工'：'普工'，'A2|二级员工'：'技术员|资深技术员'，'A3|三级员工'：'工程师|资深工程师'，'A4|四级员工'：'中层管理层'，'A5|五级员工':'高层管理层'，'挂职人员|CJR':'残疾人'，'外聘顾问'：'顾问','实习员工'：'实习'；员工子组的值为'： [A1,A2,A3,A4,A5 ]'；员工子组文本的值为'： [一级员工，二级员工，三级员工，四级员工，五级员工，CJR，顾问，实习 ]", "编制年度和财年是一个意思，字段内容有：['T125','T124','T123']；\"公司财年 Txxx 对应年份规则\":\"T127对应2022年，T128对应2023年,按此规律回答问题中的财年对应的年份\";\"季度Q(1~4)对应规则\":\"Q1-4,5,6月份,Q2-7,8,9月份,Q3-10,11,12月份,Q4-1,2,3月份\";", "职级范围字段说明:'普工'-'JG1-3', '技术员|资深技术员'-'JG4-6', '工程师|资深工程师'-'JG7-10','经理|主任|中级管理层'-'JG11-13','高级管理层'-'JG14-20';", "xx组一般都是指二级机构或者三级机构，比如：AI组。指的是二级机构的shortname为AI的小组;", "'职务顺序,从小到大排序,':'技术员-资深技术员-职员-经理-总监-副总裁-总裁';", "{'parent_org': 'DMP', 'shortname': 'Costing&D.A', 'fullname': 'Costing&Data Analysis', 'chinesename': '成本组'}", "{'parent_org': 'PRD', 'shortname': 'PRD-MC&TC', 'fullname': 'Management Center & Training Center', 'chinesename': '公共业务组'}", "{'parent_org': 'QA', 'shortname': 'QE', 'fullname': 'Quality Engineering', 'chinesename': '质量工程部'}", "{'parent_org': 'PRJ', 'shortname': 'PRJ-NDPAP', 'fullname': 'PRJ-NDPAP', 'chinesename': 'PRJ-ND A客户项目部'}", "{'parent_org': 'PPD', 'shortname': 'CMA', 'fullname': 'Competition Management & Analysis Team','chinesename': '竞争管理部'}", "{'parent_org': 'CPD', 'shortname': 'PAP', 'fullname': 'PAP - PLT and NPI Development', 'chinesename': 'A客户项目部'}"], "display_type": "response_table", "qa_samples": "\t用户输入1：统计目前公司每个一级机构下各个职务的人数分布情况。\n\tsql1：SELECT 一级机构名称, 职务名称, COUNT(*) AS 人数 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称, 职务名称 ORDER BY 一级机构名称, 职务名称 LIMIT 50\n\n\t用户输入2：请列出目前所有一级机构的名称以及下属的总监职位的人员姓名。\n\tsql2：SELECT 一级机构, 总监1姓名, 总监2姓名, 总监3姓名, 总监4姓名 FROM a_sap_reporting_relationship_chinese WHERE 职务名称 LIKE '%总监%' LIMIT 50\n\n\t用户输入3：请问每个一级机构内部的各个岗位平均入职年限是多少年，且按照从高到低排序？\n\tsql3：SELECT 一级机构名称, 职位, AVG(DATE_PART('year', CURRENT_DATE) - DATE_PART('year', CAST(入职日期 AS DATE))) AS 平均入职年限 FROM a_sap_employee_information_chinese where 一级机构名称 is not null and  职位 is not null GROUP BY 一级机构名称, 职位 ORDER BY 平均入职年限 DESC LIMIT 50\n\n\t用户输入4：统计每个一级机构下，直属上司姓名为'张三'的员工所在的二级机构及员工数。\n\tsql4：SELECT 一级机构, 二级机构, COUNT(人员工号) AS 员工数 FROM a_sap_reporting_relationship_chinese WHERE 直属上司姓名 = '张三' GROUP BY 一级机构, 二级机构 ORDER BY 一级机构, 二级机构 LIMIT 50\n\n\t用户输入5：截至目前，公司一级机构下有多少个不同的职务？\n\tsql5：SELECT COUNT(DISTINCT 职务) FROM a_sap_positions_responsibilities_risks_chinese\n\n\t用户输入6：哪个一级机构下的在职员工人数最多？\n\tsql6：SELECT 一级机构名称, COUNT(*) AS 在职员工数量 FROM a_sap_employee_information_chinese WHERE 雇佣状态 = '在职' GROUP BY 一级机构名称 ORDER BY 在职员工数量 DESC LIMIT 1\n\n", "thoughts": "首先，我们需要根据给定的编制年度和财年对应规则找出2023年对应的公司财年编码，即T128。接着，我们需要将绩效得分'A'到'D'转换为数值，以便计算平均绩效得分。可以假设'A'=4, 'B+'=3.5, 'B'=3, 'B-'=2.5, 'C'=2, 'D'=1。然后我们需要连接两个表a_sap_performance_ai和a_sap_employee_information_chinese，通过人员工号关联，并且筛选出2023年的绩效数据。最后，我们将按一级机构分组，并计算每个一级机构的平均绩效得分，然后选择平均绩效得分最低的一级机构。", "sql": "SELECT e.一级机构, AVG(CASE p.绩效 WHEN 'A' THEN 4 WHEN 'B+' THEN 3.5 WHEN 'B' THEN 3 WHEN 'B-' THEN 2.5 WHEN 'C' THEN 2 WHEN 'D' THEN 1 END) AS 平均绩效得分 FROM a_sap_performance_ai p JOIN a_sap_employee_information_chinese e ON p.人员工号 = e.人员工号 WHERE p.编制年度 = 'T128' GROUP BY e.一级机构 ORDER BY 平均绩效得分 ASC LIMIT 1", "ai_sql_result": "&quot;: [{&quot;一级机构&quot;: &quot;ATL-HR&quot;, &quot;平均绩效得分&quot;: 2.5 "}
